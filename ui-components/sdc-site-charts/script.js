!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.script=t():e.script=t()}(window,(function(){return function(e){var t={};function a(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=e,a.c=t,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(i,n,function(t){return e[t]}.bind(null,n));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=5)}([function(e,t){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch(e){"object"==typeof window&&(a=window)}e.exports=a},function(e,t,a){"use strict";(function(e){t.a=function(){!function(){var t=setTimeout;function a(){}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(e,this)}function n(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,i._immediateFn((function(){var a=1===e._state?t.onFulfilled:t.onRejected;if(null!==a){var i;try{i=a(e._value)}catch(e){return void s(t.promise,e)}r(t.promise,i)}else(1===e._state?r:s)(t.promise,e._value)}))):e._deferreds.push(t)}function r(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var a=t.then;if(t instanceof i)return e._state=3,e._value=t,void c(e);if("function"==typeof a)return void d((n=a,r=t,function(){n.apply(r,arguments)}),e)}e._state=1,e._value=t,c(e)}catch(t){s(e,t)}var n,r}function s(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&i._immediateFn((function(){e._handled||i._unhandledRejectionFn(e._value)}));for(var t=0,a=e._deferreds.length;t<a;t++)n(e,e._deferreds[t]);e._deferreds=null}function o(e,t,a){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=a}function d(e,t){var a=!1;try{e((function(e){a||(a=!0,r(t,e))}),(function(e){a||(a=!0,s(t,e))}))}catch(e){if(a)return;a=!0,s(t,e)}}i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var i=new this.constructor(a);return n(this,new o(e,t,i)),i},i.all=function(e){var t=Array.prototype.slice.call(e);return new i((function(e,a){if(0===t.length)return e([]);var i=t.length;function n(r,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var c=s.then;if("function"==typeof c)return void c.call(s,(function(e){n(r,e)}),a)}t[r]=s,0==--i&&e(t)}catch(e){a(e)}}for(var r=0;r<t.length;r++)n(r,t[r])}))},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i((function(t){t(e)}))},i.reject=function(e){return new i((function(t,a){a(e)}))},i.race=function(e){return new i((function(t,a){for(var i=0,n=e.length;i<n;i++)e[i].then(t,a)}))},i._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){t(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},window.Promise||(window.Promise=i)}()}}).call(this,a(2).setImmediate)},function(e,t,a){(function(e){var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function r(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new r(n.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new r(n.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},a(3),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,a(0))},function(e,t,a){(function(e,t){!function(e,a){"use strict";if(!e.setImmediate){var i,n,r,s,c,o=1,d={},l=!1,u=e.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(e);v=v&&v.setTimeout?v:e,"[object process]"==={}.toString.call(e.process)?i=function(e){t.nextTick((function(){f(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,a=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=a,t}}()?e.MessageChannel?((r=new MessageChannel).port1.onmessage=function(e){f(e.data)},i=function(e){r.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(n=u.documentElement,i=function(e){var t=u.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,n.removeChild(t),t=null},n.appendChild(t)}):i=function(e){setTimeout(f,0,e)}:(s="setImmediate$"+Math.random()+"$",c=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&f(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",c,!1):e.attachEvent("onmessage",c),i=function(t){e.postMessage(s+t,"*")}),v.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),a=0;a<t.length;a++)t[a]=arguments[a+1];var n={callback:e,args:t};return d[o]=n,i(o),o++},v.clearImmediate=w}function w(e){delete d[e]}function f(e){if(l)setTimeout(f,0,e);else{var t=d[e];if(t){l=!0;try{!function(e){var t=e.callback,a=e.args;switch(a.length){case 0:t();break;case 1:t(a[0]);break;case 2:t(a[0],a[1]);break;case 3:t(a[0],a[1],a[2]);break;default:t.apply(void 0,a)}}(t)}finally{w(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,a(0),a(4))},function(e,t){var a,i,n=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(e){if(a===setTimeout)return setTimeout(e,0);if((a===r||!a)&&setTimeout)return a=setTimeout,setTimeout(e,0);try{return a(e,0)}catch(t){try{return a.call(null,e,0)}catch(t){return a.call(this,e,0)}}}!function(){try{a="function"==typeof setTimeout?setTimeout:r}catch(e){a=r}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var o,d=[],l=!1,u=-1;function v(){l&&o&&(l=!1,o.length?d=o.concat(d):u=-1,d.length&&w())}function w(){if(!l){var e=c(v);l=!0;for(var t=d.length;t;){for(o=d,d=[];++u<t;)o&&o[u].run();u=-1,t=d.length}o=null,l=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)t[a-1]=arguments[a];d.push(new f(e,t)),1!==d.length||l||c(w)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=g,n.addListener=g,n.once=g,n.off=g,n.removeListener=g,n.removeAllListeners=g,n.emit=g,n.prependListener=g,n.prependOnceListener=g,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,t,a){"use strict";a.r(t);var i=a(1),n=function(e){if(200===e.status)return e},r=function(e,t){e.view.data.points.forEach((function(e){var a=document.createElementNS("http://www.w3.org/2000/svg","g");a.setAttribute("class","sdc-site-charts__chart-point-label"),a.setAttribute("data-role","chart-point-label");var i=document.createElementNS("http://www.w3.org/2000/svg","rect");i.setAttribute("class","sdc-site-charts__chart-point-label-rect"),i.setAttribute("data-role","chart-point-label-rect");var n=document.createElementNS("http://www.w3.org/2000/svg","text");n.setAttribute("class","sdc-site-charts__chart-point-label-text"),n.setAttribute("data-role","chart-point-label-text"),n.setAttribute("text-anchor","middle"),a.appendChild(i),a.appendChild(n),t.appendChild(a)}))},s=function(e,t){function a(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function i(e,t){var i;return t&&!0===t.clone&&a(e)?r((i=e,Array.isArray(i)?[]:{}),e,t):e}function n(e,t,n){var s=e.slice();return t.forEach((function(t,c){void 0===s[c]?s[c]=i(t,n):a(t)?s[c]=r(e[c],t,n):-1===e.indexOf(t)&&s.push(i(t,n))})),s}function r(e,t,s){var c=Array.isArray(t),o=(s||{arrayMerge:n}).arrayMerge||n;return c?Array.isArray(e)?o(e,t,s):i(t,s):function(e,t,n){var s={};return a(e)&&Object.keys(e).forEach((function(t){s[t]=i(e[t],n)})),Object.keys(t).forEach((function(c){a(t[c])&&e[c]?s[c]=r(e[c],t[c],n):s[c]=i(t[c],n)})),s}(e,t,s)}return r.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,a){return r(e,a,t)}))},r(e,t)},c=function(e){e.view.defaults.thickness=.6,e.view.defaults.pointLabels=!0,e.view.defaults.startPosition=0,e.view.defaults.trackColour="#eee",e.view.defaults.discColour=!1,e.view.defaults.duration=2e3,e.view.defaults.roundedTips=!0,e.view.data.drawing?e.view.drawing=s(e.view.defaults,e.view.data.drawing):e.view.drawing=e.view.defaults,e.view.drawing.background&&e.style.setProperty("--sdc-site-charts-background",e.view.drawing.background);var t=e.querySelector('[data-role="chart"]');t.insertAdjacentHTML("beforeend",'<svg data-role="chart-svg" viewbox="-1 -1 2 2"></svg>');var a=t.querySelector('[data-role="chart-svg"]');!function(e,t){var a=document.createElementNS("http://www.w3.org/2000/svg","circle");a.setAttribute("class","sdc-site-charts__progress-track"),a.setAttribute("data-role","progress-track"),t.appendChild(a),a.setAttribute("cx",0),a.setAttribute("cy",0),a.setAttribute("r",1-e.view.drawing.thickness/2),e.view.drawing.trackColour&&(a.setAttribute("stroke-width",e.view.drawing.thickness),a.setAttribute("stroke",e.view.drawing.trackColour)),e.view.drawing.discColour?a.setAttribute("fill",e.view.drawing.discColour):a.setAttribute("fill","transparent")}(e,a),e.view.data.points.forEach((function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("class","sdc-site-charts__chart-point"),t.setAttribute("data-role","chart-point"),a.appendChild(t)})),e.view.drawing.pointLabels&&r(e,a)},o=function(e,t){if(e.view.drawing.axes.x){var a=`\n      <g>\n        <line x1="${e.view.drawing.canvasPadding}" x2="${e.view.drawing.canvasSize+e.view.drawing.canvasPadding}" y1="${.5625*e.view.drawing.canvasSize+e.view.drawing.canvasPadding/2}" y2="${.5625*e.view.drawing.canvasSize+e.view.drawing.canvasPadding/2}" class="sdc-site-charts__chart-axis"></line>\n      </g>\n    `;if(e.view.drawing.axes.x.label){var i=`\n        <g class="sdc-site-charts__chart-axis-title" data-role="x-axis-title">\n          <text x="${e.view.drawing.canvasSize/2+e.view.drawing.canvasPadding}" y="${.5625*e.view.drawing.canvasSize+e.view.drawing.canvasPadding/2+40}" text-anchor="middle">${e.view.drawing.axes.x.label}${e.view.drawing.axes.x.units?` (${e.view.drawing.axes.x.units})`:""}</text>\n        </g>\n      `;t.insertAdjacentHTML("afterbegin",i)}t.insertAdjacentHTML("afterbegin",a),t.insertAdjacentHTML("afterbegin",'\n      <g class="sdc-site-charts__chart-axis-labels" data-role="x-axis-labels">\n      </g>\n    ')}if(e.view.drawing.axes.y){var n=`\n      <g>\n        <line x1="${e.view.drawing.canvasPadding}" x2="${e.view.drawing.canvasPadding}" y1="${e.view.drawing.canvasPadding/2}" y2="${.5625*e.view.drawing.canvasSize+e.view.drawing.canvasPadding/2}" class="sdc-site-charts__chart-axis"></line>\n      </g>\n    `;if(e.view.drawing.axes.y.label){var r=`\n        <g class="sdc-site-charts__chart-axis-title" data-role="y-axis-title">\n          <text x="${e.view.drawing.canvasPadding-40}" y="${.5625*e.view.drawing.canvasSize/2+e.view.drawing.canvasPadding/2}" text-anchor="middle" style="writing-mode: tb;">${e.view.drawing.axes.y.label}${e.view.drawing.axes.y.units?` (${e.view.drawing.axes.y.units})`:""}</text>\n        </g>\n      `;t.insertAdjacentHTML("afterbegin",r)}t.insertAdjacentHTML("afterbegin",'\n      <g class="sdc-site-charts__chart-axis-labels" data-role="y-axis-labels">\n      </g>\n    '),t.insertAdjacentHTML("afterbegin",n)}if(e.view.drawing.grid.majorLines){t.insertAdjacentHTML("afterbegin",'\n      <g data-role="chart-grid"></g>\n    ')}},d=function(e){var t={fixed:!0,highestXValue:0,highestYValue:0,highestCoordsLength:0},a=[];return e.view.data.points.length>1?e.view.data.points[1].values.forEach((function(e){a.push(e)})):e.view.data.points[0].values.forEach((function(e){a.push(e)})),Array.isArray(a[0])?e.view.data.points.forEach((function(e){e.values.length>t.highestCoordsLength&&(t.highestCoordsLength=e.values.length),e.values.forEach((function(e,i){e[0]!==a[i][0]&&(t.fixed=!1),e[1]>t.highestYValue&&(t.highestYValue=e[1]),e[0]>t.highestXValue&&(t.highestXValue=e[0])}))})):(e.view.data.points.forEach((function(e){e.values[1]>t.highestYValue&&(t.highestYValue=e.values[1]),e.values[0]>t.highestXValue&&(t.highestXValue=e.values[0])})),t.fixed=!1),t},l=function(e,t,a,i,n){for(var r=a;!Number.isInteger(r);)r*=10;var s=r%4,c=4;0==r%5&&0!==s&&(c=5),0==r%3&&0!==s&&(c=3);var o=e.view.drawing.canvasSize/c,l=o/5,u=e.querySelector('[data-role="x-axis-labels"]');if(d(e).fixed)e.view.data.points[0].values.forEach((function(t,a){var n=parseFloat(e.view.drawing.canvasPadding,10)+a*(e.view.drawing.canvasSize/(e.view.data.points[0].values.length-1)),r=`<text x="${n}" y="${.5625*e.view.drawing.canvasSize+e.view.drawing.canvasPadding/1.25}" text-anchor="middle">${t[0]}</text>`,s=`<line x1="${n}" x2="${n}" y1="${.5625*e.view.drawing.canvasSize+e.view.drawing.canvasPadding}" y2="${.5625*e.view.drawing.canvasSize+e.view.drawing.canvasPadding+3}" class="sdc-site-charts__chart-mark"></line>`;if(u.insertAdjacentHTML("beforeend",r),u.insertAdjacentHTML("beforeend",s),i){var c=e.querySelector('[data-role="chart-grid"]'),o=`<line x1="${n}" x2="${n}" y1="${e.view.drawing.canvasPadding/2}" y2="${.5625*e.view.drawing.canvasSize+e.view.drawing.canvasPadding/2}" class="sdc-site-charts__grid-line"></line>`;c.insertAdjacentHTML("beforeend",o)}}));else for(var v=0;v<=c;v++){var w=parseFloat(e.view.drawing.canvasPadding,10)+v*o,f=v*(a/c),g=`<text x="${w}" y="${.5625*e.view.drawing.canvasSize+e.view.drawing.canvasPadding/1.25}" text-anchor="middle">${f}</text>`,h=`<line x1="${w}" x2="${w}" y1="${.5625*e.view.drawing.canvasSize+e.view.drawing.canvasPadding}" y2="${.5625*e.view.drawing.canvasSize+e.view.drawing.canvasPadding+3}" class="sdc-site-charts__chart-mark"></line>`;if(u.insertAdjacentHTML("beforeend",g),u.insertAdjacentHTML("beforeend",h),i){var p=e.querySelector('[data-role="chart-grid"]'),b=`<line x1="${w}" x2="${w}" y1="${e.view.drawing.canvasPadding/2}" y2="${.5625*e.view.drawing.canvasSize+e.view.drawing.canvasPadding/2}" class="sdc-site-charts__grid-line"></line>`;if(p.insertAdjacentHTML("beforeend",b),n&&v<c)for(var y=1;y<5;y++){var m=`<line x1="${w+l*y}" x2="${w+l*y}" y1="${e.view.drawing.canvasPadding/2}" y2="${.5625*e.view.drawing.canvasSize+e.view.drawing.canvasPadding/2}" class="sdc-site-charts__minor-grid-line"></line>`;p.insertAdjacentHTML("beforeend",m)}}}},u=function(e,t,a,i,n){for(var r=a;!Number.isInteger(r);)r*=10;var s=r%4,c=4;0==r%5&&0!==s&&(c=5),0==r%3&&0!==s&&(c=3);for(var o=.5625*e.view.drawing.canvasSize/c,l=o/5,u=e.querySelector('[data-role="y-axis-labels"]'),v=(d(e),0);v<c;v++){var w=parseFloat(e.view.drawing.canvasPadding/2,10)+v*o,f=a-v*(a/c),g=`<text x="${e.view.drawing.canvasPadding}" y="${w}" dx="-5" dy="5" text-anchor="end">${f}</text>`,h=`<line x1="${e.view.drawing.canvasPadding-3}" x2="${e.view.drawing.canvasPadding}" y1="${w}" y2="${w}" class="sdc-site-charts__chart-mark"></line>`;if(u.insertAdjacentHTML("beforeend",g),u.insertAdjacentHTML("beforeend",h),i){var p=e.querySelector('[data-role="chart-grid"]'),b=`<line x1="${e.view.drawing.canvasPadding}" x2="${e.view.drawing.canvasSize+e.view.drawing.canvasPadding}" y1="${w}" y2="${w}" class="sdc-site-charts__grid-line"></line>`;if(p.insertAdjacentHTML("beforeend",b),n)for(var y=1;y<5;y++){var m=`<line x1="${e.view.drawing.canvasPadding}" x2="${e.view.drawing.canvasSize+e.view.drawing.canvasPadding}" y1="${w+l*y}" y2="${w+l*y}" class="sdc-site-charts__minor-grid-line"></line>`;p.insertAdjacentHTML("beforeend",m)}}}},v=function(e){var t=Math.pow(10,Math.ceil(Math.log10(e)));e<.125*t?t*=.125:e<.25*t?t*=.25:e<.5*t&&(t*=.5);for(var a=t;!Number.isInteger(a);)a*=10;var i=a%3,n=a%4,r=a%5;return 0==r&&t-e>t/5&&(t=0==(n=(a=t-t/5)%4)&&a-e>a/4&&0==(i=(a-=a/4)%3)&&a-e>a/3?a-a/3:a),200==t&&console.log(e,a,t,i,n,r),t},w=function(e){e.view.defaults.canvasSize=400,e.view.defaults.canvasPadding=60,e.view.defaults.pointLabels=!0,e.view.defaults.axes={x:{label:"",units:""},y:{label:"",units:""}},e.view.defaults.grid={majorLines:!0,minorLines:!1},e.view.data.drawing?e.view.drawing=s(e.view.defaults,e.view.data.drawing):e.view.drawing=e.view.defaults,e.view.drawing.background&&e.style.setProperty("--sdc-site-charts-background",e.view.drawing.background);var t=e.querySelector('[data-role="chart"]'),a=d(e),i=`\n    <svg data-role="chart-svg" viewbox="0 0 ${e.view.drawing.canvasSize+1.5*e.view.drawing.canvasPadding} ${.5625*e.view.drawing.canvasSize+1.5*e.view.drawing.canvasPadding}">\n      <g class="sdc-site-charts__chart-points" data-role="chart-points"></g>\n    </svg>\n  `;t.insertAdjacentHTML("beforeend",i);var n=t.querySelector('[data-role="chart-svg"]'),c=t.querySelector('[data-role="chart-points"]');switch(e.view.data.type){case"barvert":e.view.data.points.forEach((function(t,a){var i=`\n          <rect class="sdc-site-charts__chart-point" data-role="chart-point" x="${e.view.drawing.canvasSize-(a+1)*(e.view.drawing.canvasSize/e.view.data.points.length)+e.view.drawing.canvasPadding/2+2}" width="${e.view.drawing.canvasSize/e.view.data.points.length-4}" height="0" y="${e.view.drawing.canvasPadding}"></rect>\n        `;c.insertAdjacentHTML("beforeend",i)}));break;case"barhori":e.view.data.points.forEach((function(t,a){var i=`\n          <rect class="sdc-site-charts__chart-point" data-role="chart-point" x="${e.view.drawing.canvasPadding}" y="${a*(.5625*e.view.drawing.canvasSize/e.view.data.points.length)+e.view.drawing.canvasPadding/2+1}" width="0" height="${.5625*e.view.drawing.canvasSize/e.view.data.points.length-2}"></rect>\n        `;c.insertAdjacentHTML("beforeend",i)}))}switch((e.view.drawing.axes.x||e.view.drawing.axes.y)&&o(e,n),e.view.data.type){case"barvert":u(e,0,v(a.highestXValue),e.view.drawing.grid.majorLines,e.view.drawing.grid.minorLines);break;case"barhori":l(e,0,v(a.highestXValue),e.view.drawing.grid.majorLines,e.view.drawing.grid.minorLines)}e.view.drawing.pointLabels&&r(e,n)},f=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},g=function(e,t,a){var i=performance.now();requestAnimationFrame((function n(r){var s=(r-i)/e,c=0;s>1&&(s=1),c=a?1-f(s):f(s),t(c),s<1&&requestAnimationFrame(n)}))},h=function(e,t,a,i,n,r,s){var c=t.querySelector('[data-role="chart-point-label-rect"]'),o=t.querySelector('[data-role="chart-point-label-text"]');o.innerHTML=a?a+" ("+i+s+")":i+s;var d=o.getBBox(),l=.02;if("barvert"!=e.view.data.type&&"barhori"!=e.view.data.type||(l=3),"barvert"==e.view.data.type&&(n-=4*l),"progress"==e.view.data.type)l=.03;n-d.width/2-3*l<e.view.drawing.canvasPadding?n=2*e.view.drawing.canvasPadding+2*l:n+d.width/2>e.view.drawing.canvasSize+e.view.drawing.canvasPadding&&(n-=n+d.width/2-(e.view.drawing.canvasSize+e.view.drawing.canvasPadding)),o.setAttribute("x",n),o.setAttribute("y",r),c.setAttribute("x",n-d.width/2-3*l),c.setAttribute("y",r-d.height+l/2),c.setAttributeNS(null,"width",d.width+6*l),c.setAttributeNS(null,"height",d.height+2*l)},p=function(e,t,a,i,n,r,s,c,o){o||(o=0);var d=0;if("progress"!==e.view.data.type)for(var l=0;l<c;l++)d+=e.view.data.points[l].values[0];function u(r,l){var u=function(e,t,a,i,n,r,s,c){function o(e,t){return[Math.cos(2*Math.PI*e)*t,Math.sin(2*Math.PI*e)*t]}var d={};return d.innerRadius=i,d.midRadius=n,d.outerRadius=r,[d.startX,d.startY]=o(e-.25,d.outerRadius),[d.midX,d.midY]=o(t-.25,d.midRadius),[d.endX,d.endY]=o(a-.25,d.outerRadius),[d.startInnerX,d.startInnerY]=o(e-.25,d.innerRadius),[d.endInnerX,d.endInnerY]=o(a-.25,d.innerRadius),d.largeArcFlag=s>.5?1:0,d.offset=c,d}(o+d/i*r,o+(d+a/2)/i*r,o+(d+a)/i*r,1-e.view.drawing.thickness-n,1-e.view.drawing.thickness/2-n+p*l,1-n+p*l,a/i*r,n);t.setAttribute("d",function(e,t){return[`M ${t.startX} ${t.startY}`,`A ${t.outerRadius} ${t.outerRadius} 0 ${t.largeArcFlag} 1 ${t.endX} ${t.endY}`,`${e.view.drawing.roundedTips?`\n      A ${(1-t.offset-t.innerRadius)/2} ${(1-t.offset-t.innerRadius)/2} 0 ${t.largeArcFlag} 1 ${t.endInnerX} ${t.endInnerY} \n    `:`\n      L ${t.endInnerX} ${t.endInnerY}  \n    `}`,`A ${t.innerRadius} ${t.innerRadius} 0 ${t.largeArcFlag} 0 ${t.startInnerX} ${t.startInnerY}`,`${e.view.drawing.roundedTips?`\n      A ${(1-t.offset-t.innerRadius)/2} ${(1-t.offset-t.innerRadius)/2} 0 ${t.largeArcFlag} 1 ${t.startX} ${t.startY},\n    `:`\n      L ${t.startX} ${t.startY}\n    `}`].join(" ")}(e,u)),e.view.drawing.pointLabels&&h(e,s,e.view.data.points[c].label,Math.round(a/i*100),u.midX,u.midY,"%")}function v(e){r[0]==r[1]?u(e,1):u(1,e)}var w=1e3;e.view.drawing.duration&&(w=e.view.drawing.duration);var f=!1,p=r[1]-r[0];0!==p&&(w=333,p<0&&(f=!0,e.view.data.animated?p*=-1:p=0)),e.view.data.animated?g(w,v,f):v(1)},b=function(e,t,a,i){return t.colourIndex&&void 0!==a[t.colourIndex]?(e.setAttribute("fill",a[t.colourIndex]),i=parseInt(t.colourIndex,10)):e.setAttribute("fill",a[i]),i<a.length-1?i++:i=1,i},y={vanilla:["#113537","#37505C","#96616B","#F76F8E","#FFEAD0"],skygradient:["#08315e","#114895","#4ab8e7","#612b77","#a52e78","#d152a1","#ee8322","#fdab2c","#fee234"],skynews:["#F1F1F1","#D7D5D5","#EF0420","#D0021B","#B20318","#77000e"],royalwedding:["#F4F4F4","#E4E4E4","#E3C228","#333333","#141414"],nhs:["#FEE333","#060344","#062B75","#063B8C","#1F68B2","#297AC8","#1DAED1","#4ABAE7","#B7E7FE"],generalelection:["#4884C2","#C20E1E","#F4AF3B","#9D2EBA","#FBE152"],line18:["#B35011","#C18418","#E4A71C","#6842BE","#303D7E"],skysports:["#446CCC","#2653BB","#103A9D","#072B7B","#002369"],premierleague:["#353C97","#222989","#090E66","#0F1151","#020440"],worldcup:["#EAEAEA","#1D9DD9","#065182","#A51814","#1D1D1B"]},m=function(e){var t=[];return Object.keys(y).forEach((function(a){a===e.view.data.skin&&(t=y[a])})),0==t.length&&(t=y.vanilla),t},x=function(e){var t=e.querySelector('[data-role="chart"]').querySelectorAll('[data-role="chart-point"]'),a=m(e),i=0,n=0,r=e.querySelectorAll('[data-role="chart-point-label"]');e.view.data.animated&&e.setAttribute("animated",""),e.view.data.points.forEach((function(e){parseFloat(e.values[0],10)>i&&(i=e.values[0])})),e.view.data.points.forEach((function(s,c){!function(e,t,a,i,n,r,s){var c=e.view.drawing.canvasSize,o=a/n,d="";switch((e.view.drawing.axes.x||e.view.drawing.axes.y)&&(o=a/v(n)),i){case"barvert":c=.5625*e.view.drawing.canvasSize;var l=(s+1)*(e.view.drawing.canvasSize/e.view.data.points.length)+e.view.drawing.canvasPadding/2+2,u=c+e.view.drawing.canvasPadding/2-c*o;t.setAttribute("height",c*o),e.view.drawing.pointLabels&&(e.view.drawing.axes.y.units&&(d=e.view.drawing.axes.y.units),h(e,r,e.view.data.points[s].label,a,l,u,d));break;case"barhori":l=c*o+e.view.drawing.canvasPadding/2,u=s*(.5625*e.view.drawing.canvasSize/e.view.data.points.length)+e.view.drawing.canvasPadding/2+1;t.setAttribute("width",c*o),e.view.drawing.pointLabels&&(e.view.drawing.axes.x.units&&(d=e.view.drawing.axes.x.units),h(e,r,e.view.data.points[s].label,a,l,u,d))}}(e,t[c],s.values[0],e.view.data.type,i,r[c],c),n=function(e,t,a,i){return t.colourIndex&&void 0!==a[t.colourIndex]?(e.style.fill=a[t.colourIndex],e.style.setProperty("--backgroundColour",a[t.colourIndex]),i=parseInt(t.colourIndex,10)):(e.style.fill=a[i],e.style.setProperty("--backgroundColour",a[i])),i<a.length-1?i++:i=1,i}(t[c],s,a,n)}))},A=function(e,t,a,i,n){function r(t,a,i,n){return n?e.view.drawing.canvasPadding+a*(e.view.drawing.canvasSize/i):e.view.drawing.canvasPadding+t/v(c.highestXValue)*e.view.drawing.canvasSize}function s(t,a){return e.view.drawing.canvasPadding/2+.5625*e.view.drawing.canvasSize-t*a/v(c.highestYValue)*(.5625*e.view.drawing.canvasSize)}var c=d(e),o=function(){var t=[];return e.view.data.points.forEach((function(e,a){t.push([]),e.values.forEach((function(e,i){!1!==e[1]?t[a].push(i):t[a].push(!1)}))})),t}();function l(d){!function(i,d){if(e.view.drawing.showCircles)var l=a.querySelectorAll('[data-role="chart-point"]');var u="";i.values.forEach((function(t,a){if(!1!==o[n][a]){var v=r(t[0],a,i.values.length-1,c.fixed),w=s(t[1],d);u+=v+","+w+" ",e.view.drawing.showCircles&&(l[a].setAttribute("cx",v),l[a].setAttribute("cy",w))}})),e.view.drawing.filled&&i.values.forEach((function(t,a){var v=i.values.length-1-a;if(!1!==o[n][v]){var w=r(t[0],v,i.values.length-1,c.fixed),f=s(0,d);u+=w+","+f+" ",e.view.drawing.showCircles&&(l[v].setAttribute("cx",w),l[v].setAttribute("cy",f))}})),t.setAttribute("points",u),t.setAttribute("stroke-width",e.view.drawing.thickness)}(i,d)}e.view.data.animated?g(500,l,!1):l(1)},_=function(e){var t=e.querySelector('[data-role="chart"]'),a=t.querySelectorAll('[data-role="chart-point"]'),i=t.querySelectorAll('[data-role="chart-circles"]'),n=m(e),r=0;e.view.data.animated&&e.setAttribute("animated",""),e.view.drawing.filled&&t.setAttribute("filled",""),e.view.data.points.forEach((function(t,s){A(e,a[s],i[s],t,s),r=function(e,t,a,i,n,r){(i.colourIndex&&void 0!==n[i.colourIndex]?(e.view.drawing.filled?t.setAttribute("fill",n[i.colourIndex]):t.setAttribute("stroke",n[i.colourIndex]),r=parseInt(i.colourIndex,10)):e.view.drawing.filled?t.setAttribute("fill",n[r]):t.setAttribute("stroke",n[r]),e.view.drawing.showCircles)&&a.querySelectorAll('[data-role="chart-point"]').forEach((function(e){e.setAttribute("fill",n[r])}));return(r=parseInt(i.colourIndex,10))<n.length-1?r++:r=1,r}(e,a[s],i[s],t,n,r)}))},S=function(e){switch(e.view.data.type){case"pie":!function(e){var t=e.querySelectorAll('[data-role="chart-point"]'),a=e.querySelectorAll('[data-role="chart-point-label"]'),i=m(e),n=0;e.view.data.animated&&e.setAttribute("animated",""),e.view.totalValue=0,e.view.data.points.forEach((function(t){e.view.totalValue=e.view.totalValue+parseFloat(t.values[0],10)})),e.view.data.points.forEach((function(r,s){p(e,t[s],r.values[0],e.view.totalValue,0,[1,1],a[s],s),n=b(t[s],r,i,n)}))}(e);break;case"progress":!function(e){var t=e.querySelector('[data-role="progress-track"]'),a=e.querySelectorAll('[data-role="chart-point"]'),i=e.querySelectorAll('[data-role="chart-point-label"]'),n=m(e),r=0;e.view.data.animated&&e.setAttribute("animated",""),t.setAttribute("r",1-e.view.drawing.thickness/2),e.view.drawing.trackColour&&(t.setAttribute("stroke-width",e.view.drawing.thickness),t.setAttribute("stroke",e.view.drawing.trackColour)),e.view.drawing.discColour?t.setAttribute("fill",e.view.drawing.discColour):t.setAttribute("fill","transparent"),e.view.drawing.thickness=e.view.drawing.thickness/e.view.data.points.length,e.view.data.points.forEach((function(t,s){var c=s*e.view.drawing.thickness;p(e,a[s],t.values[0],t.values[1],c,[1,1],i[s],s,e.view.drawing.startPosition),r=b(a[s],t,n,r)}))}(e);break;case"barvert":case"barhori":x(e);break;case"line":_(e);break;case"scatter":!function(e){var t=e.querySelectorAll('[data-role="chart-circles"]'),a=m(e),i=0,n=d(e);e.view.data.animated&&e.setAttribute("animated",""),e.view.data.points.forEach((function(r,s){var c=t[s].querySelectorAll('[data-role="chart-point"]');r.values.forEach((function(t,a){var i=e.view.drawing.canvasPadding+t[0]/v(n.highestXValue)*e.view.drawing.canvasSize,r=e.view.drawing.canvasPadding/2+.5625*e.view.drawing.canvasSize-t[1]/v(n.highestYValue)*(.5625*e.view.drawing.canvasSize);c[a].setAttribute("cx",i),c[a].setAttribute("cy",r)})),r.colourIndex&&void 0!==a[r.colourIndex]?(c.forEach((function(e){e.setAttribute("fill",a[r.colourIndex])})),i=parseInt(r.colourIndex,10)):c.forEach((function(e){e.setAttribute("fill",a[i])})),i<a.length-1?i++:i=1}))}(e)}},$=function(e){var t=e.querySelector('[data-role="chart-container"]'),a='\n    <ul class="sdc-site-charts__chart-key-list" data-role="key"></ul>\n  ';t.insertAdjacentHTML("beforeend",a);a=e.querySelector('[data-role="key"]');e.view.data.points.forEach((function(e,t){var i=`\n      <li class="sdc-site-charts__chart-key-item" data-role="key-item">\n        <span class="sdc-site-charts__chart-key-indicator" data-role="chart-key-indicator"></span>\n        <span class="sdc-site-charts__chart-key-label">${e.label}${e.subLabel?`<span class="sdc-site-charts__chart-key-sublabel"> (${e.subLabel})</span>`:""}</span>\n      </li>\n    `;a.insertAdjacentHTML("beforeend",i)})),function(e){var t=e.querySelectorAll('[data-role="chart-key-indicator"]'),a=m(e),i=0;e.view.data.points.forEach((function(e,n){var r=t[n];e.colourIndex?(r.style.backgroundColor=a[e.colourIndex],i=parseInt(e.colourIndex,10)):r.style.backgroundColor=a[i],i<a.length-1?i++:i=0}))}(e)},k=function(e){var t=e.querySelectorAll('[data-role="chart-point"]'),a=e.querySelectorAll('[data-role="chart-point-label"]'),i=e.querySelectorAll('[data-role="key-item"]');function n(t,i,n,r,s){switch(e.view.data.type){case"pie":p(e,t[r],i.values[0],e.view.totalValue,0,s?[1+n,1]:[1,1+n],a[r],r);break;case"progress":p(e,t[r],i.values[0],i.values[1],e.view.drawing.thickness*r,s?[1+n/2,1]:[1,1+n/2],a[r],r,e.view.drawing.startPosition);break;case"barvert":case"barhori":s?t.forEach((function(e){e.classList.remove("sdc-site-charts__chart-point--faded")})):t.forEach((function(e){e!==t[r]&&e.classList.add("sdc-site-charts__chart-point--faded")}));break;case"line":t=e.querySelector('[data-role="chart-lines"]').querySelectorAll('[data-role="chart-point"]');if(s)(t=e.querySelectorAll('[data-role="chart-point"]')).forEach((function(e){e.classList.remove("sdc-site-charts__chart-point--faded")}));else t.forEach((function(a,i){a!==t[r]&&(a.classList.add("sdc-site-charts__chart-point--faded"),e.view.drawing.showCircles&&e.querySelectorAll('[data-role="chart-circles"]')[i].querySelectorAll('[data-role="chart-point"]').forEach((function(e){e.classList.add("sdc-site-charts__chart-point--faded")})))}));break;case"scatter":s?t.forEach((function(e){e.classList.remove("sdc-site-charts__chart-point--faded")})):t.forEach((function(e){e!==t[r]&&e.classList.add("sdc-site-charts__chart-point--faded")}))}}e.view.data.points.forEach((function(r,s){t[s].addEventListener("mouseenter",(function(){!function(r,s){n(t,r,.1,s,!1),e.view.drawing.pointLabels&&a[s].setAttribute("highlighted",""),i.forEach((function(e){e!==i[s]&&e.classList.add("sdc-site-charts__chart-key-item--faded")}))}(r,s)}),!1),t[s].addEventListener("mouseleave",(function(){!function(r,s){n(t,r,.1,s,!0),e.view.drawing.pointLabels&&a[s].removeAttribute("highlighted"),i.forEach((function(e){e!==i[s]&&e.classList.remove("sdc-site-charts__chart-key-item--faded")}))}(r,s)}),!1)})),i.forEach((function(r,s){r.addEventListener("mouseenter",(function(){!function(r){t[r].setAttribute("highlighted",""),i[r].setAttribute("highlighted",""),i.forEach((function(e){e!==i[r]&&e.classList.add("sdc-site-charts__chart-key-item--faded")})),t.forEach((function(i){i!==t[r]&&(n(t,e.view.data.points[r],.1,r,!1),e.view.drawing.pointLabels&&a[r].setAttribute("highlighted",""))}))}(s)}),!1),r.addEventListener("mouseleave",(function(){!function(r){t[r].removeAttribute("highlighted",""),i[r].removeAttribute("highlighted",""),i.forEach((function(e){e!==i[r]&&e.classList.remove("sdc-site-charts__chart-key-item--faded")})),t.forEach((function(i){i!==t[r]&&(n(t,e.view.data.points[r],.1,r,!0),e.view.drawing.pointLabels&&a[r].removeAttribute("highlighted",""))}))}(s)}),!1)}))},E=function(e){e.view.defaults={background:"#fff"};var t=`\n  <div class="sdc-site-charts__chart-header">\n    <h2 class="sdc-site-charts__chart-title">${e.view.data.title}</h2>\n  </div>\n\n    <div class="sdc-site-charts__chart-container" data-role="chart-container">\n      <div class="sdc-site-charts__chart-wrap">\n        <div class="sdc-site-charts__chart" data-type="${e.view.data.type}" data-role="chart" ${e.view.data.animated?"animated":""}>\n        </div>\n      </div>\n    </div>\n\n    ${e.view.data.credit?`\n      <div class="sdc-site-charts__chart-footer">\n        ${e.view.data.credit.url?`\n          <p class="sdc-site-charts__chart-credit"><a href="${e.view.data.credit.url}" target="_blank">${e.view.data.credit.text}</a></p>`:`\n          <p class="sdc-site-charts__chart-credit">${e.view.data.credit.text}</p>\n        `}\n      </div>\n    `:""}\n  `;switch(e.insertAdjacentHTML("beforeend",t),e.setAttribute("data-type",e.view.data.type),e.start=function(){S(e)},e.view.data.type){case"pie":!function(e){e.view.defaults.thickness=1,e.view.defaults.pointLabels=!0,e.view.defaults.duration=1e3,e.view.data.drawing?e.view.drawing=s(e.view.defaults,e.view.data.drawing):e.view.drawing=e.view.defaults,e.view.drawing.background&&e.style.setProperty("--sdc-site-charts-background",e.view.drawing.background);var t=e.querySelector('[data-role="chart"]');t.insertAdjacentHTML("beforeend",'<svg data-role="chart-svg" viewbox="-1 -1 2 2"></svg>');var a=t.querySelector('[data-role="chart-svg"]');e.view.data.points.forEach((function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("class","sdc-site-charts__chart-point"),t.setAttribute("data-role","chart-point"),a.appendChild(t)})),e.view.drawing.pointLabels&&r(e,a)}(e);break;case"progress":c(e);break;case"barvert":case"barhori":w(e);break;case"line":!function(e){e.view.defaults.canvasSize=400,e.view.defaults.canvasPadding=60,e.view.defaults.axes={x:{label:"",units:""},y:{label:"",units:""}},e.view.defaults.grid={majorLines:!0,minorLines:!1},e.view.defaults.thickness=2,e.view.defaults.showCircles=!0,e.view.data.drawing?e.view.drawing=s(e.view.defaults,e.view.data.drawing):e.view.drawing=e.view.defaults,e.view.drawing.background&&e.style.setProperty("--sdc-site-charts-background",e.view.drawing.background);var t=e.querySelector('[data-role="chart"]'),a=d(e),i=`\n    <svg data-role="chart-svg" viewbox="0 0 ${e.view.drawing.canvasSize+1.25*e.view.drawing.canvasPadding} ${.5625*e.view.drawing.canvasSize+1.25*e.view.drawing.canvasPadding}">\n      <g data-role="chart-lines"></g>\n    </svg>\n  `;t.insertAdjacentHTML("beforeend",i);var n=t.querySelector('[data-role="chart-svg"]'),r=t.querySelector('[data-role="chart-lines"]');e.view.data.points.forEach((function(t,a){if(r.insertAdjacentHTML("beforeend",'<g><polyline class="sdc-site-charts__chart-point" data-role="chart-point" fill="none" stroke-width="1"/></g>'),e.view.drawing.showCircles&&!e.view.drawing.filled){var i="";t.values.forEach((function(e){i+='<circle class="sdc-site-charts__chart-point" data-role="chart-point" r="3" cx="-100" cy="-100"></circle>'}));var s=`<g data-role="chart-circles">${i}</g>`;n.insertAdjacentHTML("beforeend",s)}})),o(e,n),e.view.drawing.axes.x&&l(e,0,v(a.highestXValue),e.view.drawing.grid.majorLines,!1),e.view.drawing.axes.y&&u(e,0,v(a.highestYValue),e.view.drawing.grid.majorLines,e.view.drawing.grid.minorLines)}(e);break;case"scatter":!function(e){e.view.defaults.canvasSize=400,e.view.defaults.canvasPadding=60,e.view.defaults.axes={x:{label:"",units:""},y:{label:"",units:""}},e.view.defaults.grid={majorLines:!0,minorLines:!1},e.view.data.drawing?e.view.drawing=s(e.view.defaults,e.view.data.drawing):e.view.drawing=e.view.defaults,e.view.drawing.background&&e.style.setProperty("--sdc-site-charts-background",e.view.drawing.background);var t=e.querySelector('[data-role="chart"]'),a=d(e),i=`<svg data-role="chart-svg" viewbox="0 0 ${e.view.drawing.canvasSize+1.25*e.view.drawing.canvasPadding} ${.5625*e.view.drawing.canvasSize+1.25*e.view.drawing.canvasPadding}"></svg>`;t.insertAdjacentHTML("beforeend",i);var n=t.querySelector('[data-role="chart-svg"]');e.view.data.points.forEach((function(e,t){var a="";e.values.forEach((function(e){a+='<circle class="sdc-site-charts__chart-point" data-role="chart-point" r="3" cx="-100" cy="-100"></circle>'}));var i=`<g data-role="chart-circles">${a}</g>`;n.insertAdjacentHTML("beforeend",i)})),o(e,n),e.view.drawing.axes.x&&l(e,0,v(a.highestXValue),e.view.drawing.grid.majorLines,e.view.drawing.grid.minorLines),e.view.drawing.axes.x&&u(e,0,v(a.highestYValue),e.view.drawing.grid.majorLines,e.view.drawing.grid.minorLines)}(e)}e.view.data.externalTrigger||setTimeout((function(){S(e)}),1),e.view.data.key&&$(e),k(e)};t.default=function(e){NodeList.prototype.forEach=Array.prototype.forEach,e.view={};var t={dataUrl:null,polyfillUrl:"https://cdn.polyfill.io/v2/polyfill.js?features=fetch&ua=Mozilla/5.0%20(iPhone;%20CPU%20iPhone%20OS%206_0%20like%20Mac%20OS%20X)%20AppleWebKit/536.26%20(KHTML,%20like%20Gecko)%20Version/6.0%20Mobile/10A5376e%20Safari/8536.25"};if(e.getAttribute("data-url")&&(t.dataUrl=e.getAttribute("data-url")),t.dataUrl)Object(i.a)(window),function(e,t,a){if(!0===e)a();else{var i=document.createElement("script");i.src=t,i.onreadystatechange=a,i.onload=a,i.onerror=function(){return console.error("no polyfill found!")},document.querySelector("head").appendChild(i)}}("fetch"in window,t.polyfillUrl,()=>{!function(){t.dataUrl&&fetch(t.dataUrl,{}).then(n).then(e=>e.json()).then((function(t){return e.view.data=t,e.view})).then(E.bind(this,e)).catch(e=>console.error(e))}()});else{var a=e.getAttribute("config-data");e.view.data=JSON.parse(a),E(e)}}}])}));