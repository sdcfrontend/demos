!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.script=t():e.script=t()}(window,(function(){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);var n=function(e){if(200===e.status)return e},r={active:e=>e.self!==e.top,getRoot(e){return this.active(e)?e.top:e}},a=function(e,t){let o=e;for(let e=0;e<t.length;e++){const n=t[e];if(!o[n])return null;o=o[n]}return o};function i(e,t){return!(!c(e)&&!u(e))||!!d(e)}function c(e){return void 0!==e.SKY_SPORTS_APP}function d(e){return!(void 0===e.appWrapper||!e.appWrapper.app)}function u(e){return void 0!==e.AndroidApp}function l(e){return e.getAttribute("data-channel-id")}function s(e){return e.getAttribute("data-channel-title")}function p(e){return e.getAttribute("data-competition-id")}function f(e){return e.getAttribute("data-home-team")}function m(e){return e.getAttribute("data-away-team")}var y={init:function(e){const t=r.getRoot(window);return!!i(t,e)&&(!1!==function(e,t){"undefined"!=typeof event&&event.stopPropagation();if(c(e)){if(!a(e,["SKY_SPORTS_APP","modal","create"]))return!1;e.SKY_SPORTS_APP.modal.create(l(t),s(t),p(t),f(t),m(t))}d(e)&&a(e,["appWrapper","app","modal","create"])&&e.appWrapper.app.modal.create(l(t),s(t),p(t),f(t),m(t));u(e)&&a(e,["AndroidApp","createModal"])&&e.AndroidApp.createModal(l(t),s(t),p(t),f(t),m(t))}(t,e)||{useWebModal:!0})},isAppEnabled:i};const g=(e,t)=>new Promise((o,n)=>{const a=r.getRoot(window);y.isAppEnabled(a,e)&&o({play:()=>{e.click(),t.removeAttribute("expanded")},getState:()=>"playbackReady"}),"sdc-site-view-manager"===e.getAttribute("data-component-name")&&n(new Error("Authorisation required"));const i=e.getAttribute("data-sdc-video-id"),c=e.getAttribute("data-provider"),d=e.querySelector(".sdc-article-video__media-ooyala");if(i&&d&&c&&"ooyala"===c){const e=(t,n)=>{const r=((e,t)=>{const o=t.ownerDocument,n=(o.defaultView||o.parentWindow)[e];if(!n)return!1;if(!Array.isArray(n)&&n.getElementId()===t.id)return n;for(let e=0;e<n.length;e++){const o=n[e];if(o.getElementId()===t.id)return o}})(t,n);if(!r||"object"!=typeof r||"function"!=typeof r.play)return window.setTimeout(e,1e3,t,n);o(r)};e(i,d)}else n(new Error("Video not supported"))}),h=e=>(window.setTimeout(()=>Promise.reject(new Error("Video component could not be found")),1e4),(e=>new Promise((t,o)=>{const n=e.querySelector(".sdc-site-match-header__video-embed-iframe"),r=e.querySelector('[data-component-name="sdc-article-video"]')||e.querySelector('[data-component-name="sdc-site-view-manager"]');r&&t(r);const a=e=>{e||o(new Error("Missing video component"));const n=e.contentDocument||e.contentWindow.document,r=n.querySelector('[data-component-name="sdc-article-video"]')||n.querySelector('[data-component-name="sdc-site-view-manager"]');if(!r)return window.setTimeout(a,1e3,e);t(r)};a(n)}))(e).then(t=>g(t,e)));var b=e=>h(e).then(e=>{e.pause(),e.seek(0)}).catch(console.log),w=e=>h(e).then(e=>e.play()).catch(console.log),A=e=>new Promise((t,o)=>{h(e).then(e=>{t(e)}).catch(o)});const v={loading:"loading",playbackReady:"ready","Authorisation required":"ready"},S=(e,t)=>{const o=e.querySelectorAll('[data-role="video-toggle"]'),n=t in v?v[t]:"ready";o.forEach(e=>e.setAttribute("data-playing",n))};var q=function(e){const t=document.querySelector('[data-component-name="sdc-site-modal"]'),o=e.querySelector('[data-role="livestream-toggle"]');t&&o&&o.addEventListener("click",n=>{const r=y.init(o);if(r&&!r.useWebModal)return;const a=o.getAttribute("data-modal-content");let i=e.querySelector(a);const c=(()=>{if(sdc&&sdc.authManager){const e=sdc.authManager.getRoles();if(e&&Array.isArray(e))return[...e,"invalidPackage"]}return["unauthenticated"]})(),d=e.querySelectorAll('[data-role="modal-content"]'),u=e.querySelector('[modal-role="appModal"]');if(r.useWebModal&&u)i=u;else for(let e=0;e<d.length;e++){const t=d[e].getAttribute("modal-role");if(c.indexOf(t)>=0){i=d[e];break}}window.sdc.openModal&&(n.preventDefault(),window.sdc.openModal(t,i))},!1)};var P=function(e,t,o){NodeList.prototype.forEach=Array.prototype.forEach;const n=o.football;if(!n)return;const r=n[0];e.update||(e.update=t),e.update(r)},E=function(e,t){if(!e||null==t)return;let o=String(t);o=o.trim(),e.textContent!==o?(e.textContent=o,e.setAttribute("data-updated","true")):e.removeAttribute("data-updated")},x=function(e,t){if(!e)return;let o,n="";t.synopsis&&(o=e.getAttribute("data-update-template-event"),t.synopsis.split("~").forEach(t=>{let r=t.replace(/([0-9]{1,3})/g,e=>`${e}'`);r=r.replace(/([0-9]{1,3})/,e=>`(${e}`),r=r.replace(/'\+/g,"+"),r=r.replace("s/o",e.getAttribute("data-update-template-sent-off")),r=r.replace(/\bog\b/gi,e.getAttribute("data-update-template-own-goal")),r=r.replace(/\bpen\b/gi,`${e.getAttribute("data-penalty")}`),n+=o.replace(/#{player}/,`${r})`)})),e.innerHTML=n},M=function(e){this.setAttribute("data-status",e.status),E(this.querySelector('[data-update="score-home"]'),e.teams.home.score),E(this.querySelector('[data-update="score-away"]'),e.teams.away.score),e.teams.home.hasOwnProperty("aggregate")&&E(this.querySelector('[data-update="score-aggregate"]'),[e.teams.home.aggregate,"-",e.teams.away.aggregate].join("")),E(this.querySelector('[data-update="status-note"]'),e.summary?e.summary.full:null),x(this.querySelector('[data-update="synopsis-home"]'),e.teams.home),x(this.querySelector('[data-update="synopsis-away"]'),e.teams.away),function(e,t){e&&(t&&t.hasOwnProperty("markets")?(e.setAttribute("data-show-odds",!0),e.setAttribute("data-active",t.active),e.querySelectorAll('[data-update="odds"]').forEach((e,o)=>{const n=t.markets[0].selections[o];e.setAttribute("data-active",Boolean(n.active)),E(e,n.price)})):e.setAttribute("data-show-odds",!1))}(this.querySelector('[data-role="betting"]'),e.betting)};t.default=function(e,t){!function(e){const t=e.querySelector('[data-role="header-video-content"]');if(t){A(t).then(t=>{S(e,t.getState()),t.mb.subscribe("*","sdc-site-match-header-highlight-video",t=>{t in v&&S(e,t)})}).catch(t=>{console.log(t),S(e,t)}),t.querySelectorAll('[data-role="video-toggle"]').forEach(e=>{e.addEventListener("click",()=>{"playing"in e.dataset&&"ready"===e.dataset.playing&&(t.hasAttribute("expanded")?(t.removeAttribute("expanded"),b(t)):(t.setAttribute("expanded",""),w(t)))},!1)})}}(e),q(e),window.sdc&&(window.sdc.modalButtonOnClick=e=>{const t=e.getAttribute("link"),o=e.getAttribute("channel-id"),n=e.getAttribute("app-link"),r=e.getAttribute("android-store-link"),a=e.getAttribute("ios-store-link"),i=(e=>{if(!e)return null;const t=e.toLowerCase();return t.includes("android")?"android":t.includes("iphone")?"iphone":null})(navigator&&navigator.userAgent);if(!i||!r&&!a||!n)return void(window.location=t);const c="android"===i?r:a;setTimeout(()=>window.location=c,30),window.location=n.replace("%s",o)});const o={url:null,interval:15,fetchPolyfill:"https://cdn.polyfill.io/v2/polyfill.min.js?features=fetch"};function r(){setTimeout(r,1e3*o.interval),o.url=e.getAttribute("data-url"),o.url&&fetch(o.url).then(n).then(e=>e.json()).then(P.bind(null,e,M)).catch(e=>console.error(e))}!function(e,t){if(t)for(const o in t)e[o]=t[o]}(o,t),function(e,t,o){if(!0===e)o();else{const e=document.createElement("script");e.src=t,e.onreadystatechange=o,e.onload=o,e.onerror=()=>console.error("no polyfill found!"),document.querySelector("head").appendChild(e)}}("fetch"in window,o.fetchPolyfill,()=>{r()})}}])}));