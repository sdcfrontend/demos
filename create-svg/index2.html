<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <style>
    * {
      padding: 0;
      margin: 0;
      box-sizing: border-box;
    }

    html {
      font-size: calc(14px + 1.4vw);
    }

    @media (min-width:928px) {
      html {
        font-size: 25px
      }
    }

    body {
      font-family: sans-serif;
      background: #eee;
    }

    .sf-line-graph {
      background: white;
      position: relative;
      max-width: 680px;
      margin: 0 auto 1rem;
      padding-bottom: 1rem
    }

    .sf-line-graph__svg {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
    }

    .sf-line-graph__svg-line {
      stroke: currentColor;
      stroke-width: 4;
      fill: none;
      stroke-linecap: round;
      stroke-linejoin: round;
    }

    .sf-line-graph__body {
      position: relative;
      padding-bottom: 60%;
      background-size: 93% 105%;
      background-position: 0 100%;
      transition: opacity 0.166s;
      will-change: opacity;
      opacity: 0;
    }

    .sf-line-graph__key {
      position: absolute;
      top: 1rem;
      left: 1rem;
      display: flex;
    }

    .sf-line-graph__key>span {
      font-size: 0.7rem;
      padding-right: 0.5rem
    }

    .sf-line-graph__key--dem:before,
    .sf-line-graph__key--rep:before,
    .sf-line-graph__key--ind:before {
      background: inherit;
      display: inline-block;
      content: "";
      height: 4px;
      border-radius: 2px;
      width: 0.7rem;
      vertical-align: middle;
      margin-right: 0.2rem
    }

    .sf-line-graph__key--dem:before {
      background: midnightblue
    }

    .sf-line-graph__key--rep:before {
      background: crimson
    }

    .sf-line-graph__key--ind:before {
      background: #aaa
    }

    .sf-line-graph__x {
      display: flex;
      transform: translateX(calc(-100% / 36));
      width: 90%;
    }


    .sf-line-graph__x-tick {
      padding: 0.6rem 0 0;
      position: relative;
      flex: 1;
      text-align: center;
      font-size: 0.7rem
    }

    .sf-line-graph__x-tick:last-child:before {
      right: calc(50% - 1px);
      left: auto;
      border-right-width: 1px;
      border-left-width: 0
    }

    .sf-line-graph__x-tick:before {
      content: "";
      width: 100%;
      height: 0.6rem;
      border: 1px solid black;
      border-bottom-width: 0;
      border-right-width: 0;
      top: 0;
      left: 50%;
      position: absolute;
    }

    .sf-line-graph__caption {
      text-align: center;
      font-weight: 600;
      padding: 0.8rem 0 0;
      margin: 0
    }

    .sf-line-graph__number {
      font-size: 0.8rem;
      color: crimson;
      font-weight: 600;
      position: absolute;
      transform: translate(0, -50%);
      background: white;
      line-height: 1
    }

    .sf-line-graph__number--1 {
      color: midnightblue
    }

    .sf-line-graph__number--2 {
      color: #888
    }

    .sf-line-graph__svg-line--1 {
      stroke: midnightblue
    }

    .sf-line-graph__svg-line--2 {
      stroke: #aaa
    }

    .sf-line-graph--religion {
      color: cornflowerblue
    }

    .sf-line-graph--age {
      color: chocolate
    }

    .sf-line-graph--race {
      color: darkcyan
    }

    .sf-line-graph--education {
      color: darkslateblue
    }

    .sf-line-graph--gender {
      color: goldenrod
    }

    .sf-line-graph--party {
      color: lightslategrey
    }
  </style>
</head>

<body>

  <div class="sf-line-graph">
    <div class="sf-line-graph__body">
      <svg class="sf-line-graph__svg" viewBox="0 0 680 408">

        <!-- <polyline class="sf-line-graph__svg-line sf-line-graph__svg-line--2" stroke="black" points="">
          <animate attributeName="points" begin="0s" dur="0.3s" repeatCount="1" fill="freezer" to="" from=""></animate>
        </polyline> -->

        <polyline class="sf-line-graph__svg-line sf-line-graph--religion" stroke="black" points="38,370 137,379 237,372 339,355 442,329 492,309 538,306">
          <animate attributeName="points" begin="0s" dur="0.3s" repeatCount="1" fill="freezer" to="38,370 137,379 237,372 339,355 442,329 492,309 538,306"
            from="38,408 137,408 237,408 339,408 442,408 492,408 538,408"></animate>
        </polyline>

        <polyline class="sf-line-graph__svg-line sf-line-graph--party" stroke="black" points="38,267 135,270 237,243 339,150 440,85 490,73 537,38">
          <animate attributeName="points" begin="0s" dur="0.3s" repeatCount="1" fill="freezer" to="38,267 135,270 237,243 339,150 440,85 490,73 537,38"
            from="38,408 135,408 237,408 339,408 440,408 490,408 537,408"></animate>
        </polyline>

        <polyline class="sf-line-graph__svg-line sf-line-graph--race" stroke="black" points="36,274 136,300 238,306 340,297 443,274 491,272 538,280">
          <animate attributeName="points" begin="0s" dur="0.3s" repeatCount="1" fill="freezer" to="36,274 136,300 238,306 340,297 443,274 491,272 538,280"
            from="36,408 136,408 238,408 340,408 443,408 491,408 538,408"></animate>
        </polyline>

        <polyline class="sf-line-graph__svg-line sf-line-graph--age" stroke="black" points="36,362 136,384 238,381 340,373 442,356 491,330 536,324">
          <animate attributeName="points" begin="0s" dur="0.3s" repeatCount="1" fill="freezer" to="36,362 136,384 238,381 340,373 442,356 491,330 536,324"
            from="36,408 136,408 238,408 340,408 442,408 491,408 536,408"></animate>
        </polyline>

        <polyline class="sf-line-graph__svg-line sf-line-graph--gender" stroke="black" points="35,332 135,335 236,334 341,356 441,352 490,374 536,352">
          <animate attributeName="points" begin="0s" dur="0.3s" repeatCount="1" fill="freezer" to="35,332 135,335 236,334 341,356 441,352 490,374 536,352"
            from="35,408 135,408 236,408 341,408 441,408 490,408 536,408"></animate>
        </polyline>

        <polyline class="sf-line-graph__svg-line sf-line-graph--education" stroke="black" points="37,344 135,342 237,316 341,321 442,322 492,336 535,314">
          <animate attributeName="points" begin="0s" dur="0.3s" repeatCount="1" fill="freezer" to="37,344 135,342 237,316 341,321 442,322 492,336 535,314"
            from="37,408 135,408 237,408 341,408 442,408 492,408 535,408"></animate>
        </polyline>


      </svg>
      <span class="sf-line-graph__number sf-line-graph--party" style="top:8%;left:80%">Party</span>
      <span class="sf-line-graph__number sf-line-graph--race" style="top: 57.5%;left:80%;">Race</span>
      <span class="sf-line-graph__number sf-line-graph--age" style="top:80%;left:80%">Age</span>
      <span class="sf-line-graph__number sf-line-graph--gender" style="top:88%;left:80%">Gender</span>
      <span class="sf-line-graph__number sf-line-graph--education" style="top: 73%;left:80%;">Education</span>
      <span class="sf-line-graph__number sf-line-graph--religion" style="top: 65.5%;left:80%;">Religion</span>

    </div>
    <div class="sf-line-graph__x">
      <span class="sf-line-graph__x-tick">1994</span>
      <span class="sf-line-graph__x-tick">1999</span>
      <span class="sf-line-graph__x-tick">2004</span>
      <span class="sf-line-graph__x-tick">2011</span>
      <span class="sf-line-graph__x-tick">2014</span>
      <span class="sf-line-graph__x-tick">2017</span>
    </div>
    <!-- <p class="sf-line-graph__caption">College graduates</p> -->
  </div>

  <button>show</button>

</body>

<script>
  var coords = [];
  var body = document.querySelector('.sf-line-graph__body');


  body.onclick = function (e) {
    var num = prompt('Add number');
    var index = prompt('index');
    body.insertAdjacentHTML('beforeend', '<span class="sf-line-graph__number sf-line-graph--' + (index) + '" style="top:' + parseInt((100 / body.offsetHeight) * e.layerY) + '%;left:' + parseInt((100 / body.offsetWidth) * e.layerX) + '%">' + num + '</span>')
  }

  // body.onclick = function (e) {
  //   var x = e.layerX;
  //   var y = e.layerY;
  //   console.log(x);
  //   coords.push([x, y]);
  //   var anim = coords.map(function (a) { return [a[0], 408] });

  //   var p = body.querySelector('polyline');
  //   p.setAttribute('points', coords.join(" "));
  //   body.querySelector('animate').setAttribute('to', coords.join(" "));
  //   body.querySelector('animate').setAttribute('from', anim.join(" "));
  // }


</script>

</html>