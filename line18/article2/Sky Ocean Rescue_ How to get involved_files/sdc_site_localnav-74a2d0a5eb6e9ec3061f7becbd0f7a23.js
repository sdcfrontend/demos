!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.sdc_site_localnav=e():t.sdc_site_localnav=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return t[r].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="/scripts/",e(0)}([function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){function e(){g&&q&&(g.style.cssText="padding-right:"+q.offsetWidth+"px")}function n(){q.onclick=function(t){t.preventDefault(),r()},document.body.addEventListener("click",function(t){q.contains(t.target)||w.contains(t.target)||r("close")})}function r(t){var e="true"===q.getAttribute("aria-expanded");t&&(e=!0),q.setAttribute("aria-label",q.getAttribute("data-aria-label-open-"+e)),e===!0?(q.setAttribute("aria-expanded","false"),w.setAttribute("aria-hidden","true")):(q.setAttribute("aria-expanded","true"),w.setAttribute("aria-hidden","false"))}function a(t){t?(E.setAttribute("aria-hidden","true"),w.style.visibility="hidden"):(E.setAttribute("aria-hidden","false"),w.style.visibility="visible")}function o(){x.forEach(function(t){w.appendChild(t.cloneNode(!0))})}function i(){var t=0;return x.forEach(function(e){e.setAttribute("aria-hidden","false"),e.offsetTop>1&&(e.setAttribute("aria-hidden","true"),t+=1)}),t}function u(){e();var t=i();q.setAttribute("aria-hidden",!t),a(!t),D.textContent=L.replace(/#{amount}/g,t)}function c(){return window.getComputedStyle(g,null).getPropertyValue("overflow")}function d(){setTimeout(function(){requestAnimationFrame(function(){var t=c();t.match(/hidden/)&&u()})},500)}function l(t){if("hidden"!==c()){var e="true"===S.getAttribute("aria-expanded");t&&(e=!0),S.setAttribute("aria-label",S.getAttribute("data-aria-label-open-"+e)),e===!0?(S.setAttribute("aria-expanded",!1),A.setAttribute("data-state-hidden",!0)):(S.setAttribute("aria-expanded",!0),A.setAttribute("data-state-hidden",!1))}}function s(){S&&(S.onclick=function(t){t.preventDefault(),"hidden"!==c()&&l()},document.body.addEventListener("click",function(t){S.contains(t.target)||A.contains(t.target)||l("close")}))}function f(){var e=t.querySelectorAll("a[data-hash]"),n=document.querySelectorAll("[data-hash-target]");e.forEach(function(t){t.onclick=function(a){a.preventDefault();var o=t.getAttribute("data-hash");e.forEach(function(t){t.removeAttribute("aria-current")}),n.forEach(function(t){t.setAttribute("aria-hidden","true")}),t.setAttribute("aria-current","true");var i=document.getElementById(o);i&&i.setAttribute("aria-hidden","false"),r("close")}})}function p(){T&&(m(),b(T,k),h(k))}function m(){var t=document.querySelectorAll('[data-role="nav-item-links"]');t.forEach(function(t){t.onclick=function(t){var e=document.getElementById(t.target.getAttribute("href").substring(1)),n=e.offsetTop-65,r=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;w.setAttribute("aria-hidden","true"),q.setAttribute("aria-expanded","false"),n!=r?v(document.scrollingElement||document.documentElement,r,n,200):t.preventDefault()}})}function v(t,e,n,r){if(t){var a=(new Date).getTime(),o=setInterval(function(){var i=Math.min(1,((new Date).getTime()-a)/r);t.scrollTop=e+i*(n-e),1===i&&clearInterval(o)},25);t.scrollTop=e}}function b(t,e){requestAnimationFrame(function(){var n=t.offsetTop-window.pageYOffset,r=window.pageYOffset,a=t.offsetTop;n<=0&&!_?(e.setAttribute("data-stuck","true"),_=!0):_&&r<=a&&(e.removeAttribute("data-stuck"),_=!1)})}function h(t){requestAnimationFrame(function(){var e=document.querySelectorAll('[data-role="localnav-item"]'),n=document.querySelector(".sdc-site-localnav__current-section-name"),r=document.documentElement.scrollTop||document.body.scrollTop,a={};if(n&&e[0]&&(n.textContent=e[0].textContent),_&&!(e.length<=0)&&n){Array.prototype.forEach.call(e,function(e){a[e.id]=e.offsetTop-(t.offsetHeight+25)});for(var o in a){var i=t.querySelector("a[aria-current=true]"),u=t.querySelector('a[href*="'+o+'"]');a[o]<=r&&u&&(i&&(i.removeAttribute("aria-current"),n.textContent=u.textContent),u.setAttribute("aria-current",!0))}}})}if(t){var y=t.querySelector('[data-role="nav-wrap"]'),A=t.querySelector('[data-role="nav-body"]'),g=t.querySelector('[data-role="nav-items"]'),x=g.querySelectorAll('[data-role="nav-item"]'),q=t.querySelector('[data-role="nav-items-more"]'),E=t.querySelector('[data-role="nav-items-more-wrap"]'),w=t.querySelector('[data-role="nav-items-overflow"]'),S=t.querySelector('[data-role="nav-header"]'),T=document.querySelector(".sdc-site-localnav--sticky"),k=document.querySelector(".sdc-site-localnav__sticky-content"),_=!1;NodeList.prototype.forEach=Array.prototype.forEach;var C="localnav-"+Math.floor(1e6*Math.random());y.id=C;var D=document.createElement("style");t.appendChild(D);var L="#"+C+" [data-role='nav-items-overflow'] li:nth-last-of-type(-n+#{amount}) {display: table;}",j=!1;window.addEventListener("resize",function(){j||(setTimeout(function(){d(),T&&(h(k),b(T,k)),j=!1},250),j=!0)}),T&&!function(){var t=!1;window.addEventListener("scroll",function(){t||(setTimeout(function(){h(k),b(T,k),t=!1},1e3/60),t=!0)})}(),o(),n(),d(),s(),f(),p()}},t.exports=e.default}])});
//# sourceMappingURL=sdc_site_localnav.js.map