!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.sdc_article_gallery=e():t.sdc_article_gallery=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var r={};return e.m=t,e.c=r,e.p="/scripts/",e(0)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),a=r(2),i=r(3),o=r(4);e.default=function(t){function e(){r.list=r.root.querySelector(".sdc-article-gallery__list"),r.items=r.root.querySelectorAll(".sdc-article-gallery__item"),r.totalItems=r.items.length;var t=r.totalItems<=1;if(t)return(0,i.loadImage)(r.items[0],r),void(0,a.addClass)(r.items[0],"sdc-article-gallery--single-image");(0,a.replaceClass)(r.root,"sdc-article-gallery--inactive","sdc-article-gallery--active"),r.currentDisplay=r.root.querySelector(".sdc-article-gallery__current"),r.currentDisplay.textContent=r.currentItem,r.totalDisplay=r.root.querySelector(".sdc-article-gallery__total"),r.totalDisplay.textContent=r.totalItems,r.prevButton=r.root.querySelector(".sdc-article-gallery__area--prev, .sdc-article-gallery__control--prev"),r.nextButton=r.root.querySelector(".sdc-article-gallery__area--next, .sdc-article-gallery__control--next");var e=r.items[0].cloneNode(!0),s=r.items[r.items.length-1].cloneNode(!0);r.list.appendChild(e),r.list.insertBefore(s,r.items[0]),r.listItems=r.root.querySelectorAll(".sdc-article-gallery__item"),(0,i.loadImages)(r),(0,n.switchItem)(r.currentItem,r),r.list.style.transform="translateX(-"+r.currentItem+"%)",(0,o.configureEvents)(r)}if(t){var r={root:t,list:null,currentItem:1,totalItems:0,lazyLoaded:0,animating:!1};e()}},t.exports=e.default},function(t,e,r){"use strict";function n(t,e){return!e.animating&&(e.previousItem=e.currentItem,"previous"===t?e.currentItem--:e.currentItem++,a(e),i(e),(0,u.loadImages)(e),e)}function a(t){return(0,c.addClass)(t.list,"sdc-article-gallery__list--animating"),t.animating=!0,s(t),t}function i(t){var e=t.currentItem;return e>t.totalItems?e=1:e<=0&&(e=t.totalItems),t.currentDisplay.textContent=e,t}function o(t,e){return(0,c.addClass)(e.list,"sdc-article-gallery__list--notransition"),e.previousItem=e.currentItem,e.currentItem=t,s(e),i(e),window.getComputedStyle(e.list).opacity,(0,c.removeClass)(e.list,"sdc-article-gallery__list--notransition"),e}function s(t){return t.list.style.transform="translateX(-"+t.currentItem+"%)",(0,c.removeClass)(t.listItems[t.previousItem],"sdc-article-gallery__item--active"),(0,c.addClass)(t.listItems[t.currentItem],"sdc-article-gallery__item--active"),t}function l(t){return(0,c.removeClass)(t.list,"sdc-article-gallery__list--animating"),t.animating=!1,t.currentItem<=0?o(t.totalItems,t):t.currentItem>t.totalItems&&o(1,t),t}Object.defineProperty(e,"__esModule",{value:!0}),e.showItem=n,e.animateGallery=a,e.updateGalleryDisplay=i,e.switchItem=o,e.activateItem=s,e.showItemComplete=l;var c=r(2),u=r(3)},function(t,e){"use strict";function r(t,e){return!(!t||!e)&&(t.classList.add(e.trim()),!0)}function n(t,e){return!(!t||!e)&&(t.classList.remove(e),!0)}function a(t,e,r){return!!(t&&e&&r&&t.classList.contains(e))&&(t.classList.remove(e),t.classList.add(r.trim()),!0)}Object.defineProperty(e,"__esModule",{value:!0}),e.addClass=r,e.removeClass=n,e.replaceClass=a},function(t,e){"use strict";function r(t){if(t.lazyLoaded>=t.listItems.length)return!1;n(t);for(var e=0;e<t.toLoad.length;e++)a(t.listItems[t.toLoad[e]],t);return t}function n(t){t.toLoad=[];for(var e=t.listItems.length-1,r=[t.currentItem-2,t.currentItem-1,t.currentItem,t.currentItem+1,t.currentItem+2],n=0;n<r.length;n++){if(t.toLoad.push(r[n]),0===r[n]&&(t.toLoad.push(e),t.toLoad.push(e-1)),r[n]<0){var a=r[n]+(e-1);t.toLoad.push(a)}r[n]===e&&(t.toLoad.push(0),t.toLoad.push(1)),r[n]>e&&t.toLoad.push(r[n]+1-e)}return t}function a(t,e){if(!t||"object"!=typeof t||t.getAttribute("data-loaded")||!e)return!1;var r=t.querySelector(".sdc-article-gallery__image--hasjs");return r.setAttribute("src",r.getAttribute("data-src")),r.setAttribute("srcset",r.getAttribute("data-srcset")),t.setAttribute("data-loaded",!0),e.lazyLoaded++,t}Object.defineProperty(e,"__esModule",{value:!0}),e.loadImages=r,e.calculateImagesToLoad=n,e.loadImage=a},function(t,e,r){"use strict";function n(){var t=void 0,e=document.createElement("fakeelement"),r={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in r)if(void 0!==e.style[t])return r[t]}function a(t){var e=n();return t.list.addEventListener(e,function(){(0,i.showItemComplete)(t)}),t.prevButton.addEventListener("click",function(e){e.preventDefault(),(0,i.showItem)("previous",t)}),t.nextButton.addEventListener("click",function(e){e.preventDefault(),(0,i.showItem)("next",t)}),t.root.addEventListener("keydown",function(e){37===e.which?(0,i.showItem)("previous",t):39===e.which&&(0,i.showItem)("next",t)}),t}Object.defineProperty(e,"__esModule",{value:!0}),e.whichTransitionEvent=n,e.configureEvents=a;var i=r(1)}])});
//# sourceMappingURL=sdc_article_gallery.js.map