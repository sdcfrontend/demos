<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <style>
    * {
      padding: 0;
      margin: 0;
      box-sizing: border-box;
    }

    html {
      font-size: calc(14px + 1.4vw);
    }

    @media (min-width:928px) {
      html {
        font-size: 25px
      }
    }

    body {
      font-family: sans-serif;
      background: #eee;
    }

    .sf-gunsales__inner {
      max-width: 680px;
      margin: 0 auto;
    }

    .sf-gunsales__body {
      background: white;

    }

    .sf-gunsales__canvas {
      position: relative;
      padding-bottom: 75%;
      /* background: url(http://i67.tinypic.com/24uxlea.png); */
      background-size: 100% 100%;
      opacity: 1;
      will-change: opacity;
    }

    .sf-gunsales__svg {
      position: absolute;
      height: 100%;
      width: 100%;
      z-index: 3
    }

    .sf-gunsales__svg-line {
      stroke: #de6969;
      stroke-width: 1;
      fill: none
    }

    .sf-gunsales__hotspot {
      width: 1rem;
      height: 1rem;
      background: rgba(255, 0, 0, 0.39);
      border-radius: 50%;
      position: absolute;
      z-index: 2;
      transform: translate(-50%, -50%) scale(1);
      transition: transform 0.25s, opacity 0.2s;
      will-change: transform;
      opacity: 1
    }

    .sf-gunsales__canvas[data-role="gunsales-gfx"] {
      opacity: 0;
    }

    .sf-gunsales__canvas[data-role="gunsales-gfx"] .sf-gunsales__hotspot {
      transform: translate(-50%, -50%) scale(1.2);
      opacity: 0
    }

    .sf-gunsales__hotspot-label {
      font-size: 0.7rem;
      white-space: nowrap;
      position: absolute;
      top: 50%;
      left: 50%;
      line-height: 1;
      font-style: normal;
      background: white
    }

    .sf-gunsales__hotspot-label[data-align*="right"] {
      left: auto;
      right: 100%;
      transform: translate(-5px, -50%)
    }

    .sf-gunsales__hotspot-label[data-align*="top"] {
      left: auto;
      right: 50%;
      bottom: 100%;
      top: auto;
      transform: translate(50%, -50%)
    }

    .sf-gunsales__div {
      height: 2px;
      background: #eee;
      position: absolute;
      width: 90%;
      top: 79%;
      left: 5%;
    }

    .sf-gunsales__scale {
      font-size: 0.6rem;
      color: #ccc;
      background: white;
      position: absolute;
      left: 0;
      transform: translateX(0.5rem);
    }
  </style>
</head>

<body>
  <div class="sf-gunsales">
    <div class="sf-gunsales__inner">
      <div class="sf-gunsales__body">
        <div class="sf-gunsales__canvas" data-role="gunsales-gfx">
          <svg class="sf-gunsales__svg" viewBox="0 0 680 510">

            <polyline class="sf-gunsales__svg-line" stroke="black" points="23,428 30,402 39,396 44,408 50,378 57,343 57,406 61,401 69,406 72,400 77,403 81,394 83,406 87,399 91,420 92,405 95,409 99,404 100,409 107,400 109,404 112,397 118,345 124,400 127,394 131,407 137,393 141,407 145,397 149,409 154,400 157,426 161,403 162,400 168,402 171,393 175,404 181,402 183,408 187,399 192,416 195,392 201,404 204,398 207,410 212,400 216,412 220,404 223,405 226,396 229,404 232,400 235,403 239,401 241,410 246,406 249,412 253,403 254,412 262,374 264,401 268,403 271,414 279,417 282,399 287,388 289,407 294,377 298,396 301,405 303,395 307,403 309,391 313,391 315,405 317,400 321,414 325,418 327,412 329,415 333,397 339,476 343,383 347,398 349,375 351,383 359,378 360,318 362,383 367,357 369,403 372,403 375,369 380,390 384,397 388,388 393,400 394,445 398,458 402,396 403,416 406,433 407,453 408,409 409,374 412,398 418,374 421,396 423,379 427,373 430,437 434,429 434,382 438,401 442,449 442,396 446,380 452,402 456,380 459,400 460,435 465,409 467,372 469,414 469,427 472,371 475,409 476,428 478,433 480,416 484,413 486,419 489,370 496,408 497,306 500,225 500,159 504,101 506,215 511,332 519,421 522,426 524,407 527,416 529,387 532,395 536,386 539,406 548,420 553,445 556,442 558,416 560,444 565,472 568,451 567,387 569,360 574,405 575,437 578,423 580,428 583,419 586,427 595,379 599,384 603,347 601,288 602,209 603,88 606,180 608,276 611,321 611,379 618,443 619,359 624,334 626,368 626,403 628,443 627,468 632,415 633,382 635,361 638,361 641,391 644,395 647,367 649,405 653,388 657,391 656,449 663,398 667,438 670,377">
              <animate attributeName="points" begin="0s" dur="0.3s" repeatCount="1" fill="freeze" from="23,510,30,510,39,510,44,510,50,510,57,510,57,510,61,510,69,510,72,510,77,510,81,510,83,510,87,510,91,510,92,510,95,510,99,510,100,510,107,510,109,510,112,510,118,510,124,510,127,510,131,510,137,510,141,510,145,510,149,510,154,510,157,510,161,510,162,510,168,510,171,510,175,510,181,510,183,510,187,510,192,510,195,510,201,510,204,510,207,510,212,510,216,510,220,510,223,510,226,510,229,510,232,510,235,510,239,510,241,510,246,510,249,510,253,510,254,510,262,510,264,510,268,510,271,510,279,510,282,510,287,510,289,510,294,510,298,510,301,510,303,510,307,510,309,510,313,510,315,510,317,510,321,510,325,510,327,510,329,510,333,510,339,510,343,510,347,510,349,510,351,510,359,510,360,510,362,510,367,510,369,510,372,510,375,510,380,510,384,510,388,510,393,510,394,510,398,510,402,510,403,510,406,510,407,510,408,510,409,510,412,510,418,510,421,510,423,510,427,510,430,510,434,510,434,510,438,510,442,510,442,510,446,510,452,510,456,510,459,510,460,510,465,510,467,510,469,510,469,510,472,510,475,510,476,510,478,510,480,510,484,510,486,510,489,510,496,510,497,510,500,510,500,510,504,510,506,510,511,510,519,510,522,510,524,510,527,510,529,510,532,510,536,510,539,510,548,510,553,510,556,510,558,510,560,510,565,510,568,510,567,510,569,510,574,510,575,510,578,510,580,510,583,510,586,510,595,510,599,510,603,510,601,510,602,510,603,510,606,510,608,510,611,510,611,510,618,510,619,510,624,510,626,510,626,510,628,510,627,510,632,510,633,510,635,510,638,510,641,510,644,510,647,510,649,510,653,510,657,510,656,510,663,510,667,510,670,510"
                to="23,428 30,402 39,396 44,408 50,378 57,343 57,406 61,401 69,406 72,400 77,403 81,394 83,406 87,399 91,420 92,405 95,409 99,404 100,409 107,400 109,404 112,397 118,345 124,400 127,394 131,407 137,393 141,407 145,397 149,409 154,400 157,426 161,403 162,400 168,402 171,393 175,404 181,402 183,408 187,399 192,416 195,392 201,404 204,398 207,410 212,400 216,412 220,404 223,405 226,396 229,404 232,400 235,403 239,401 241,410 246,406 249,412 253,403 254,412 262,374 264,401 268,403 271,414 279,417 282,399 287,388 289,407 294,377 298,396 301,405 303,395 307,403 309,391 313,391 315,405 317,400 321,414 325,418 327,412 329,415 333,397 339,476 343,383 347,398 349,375 351,383 359,378 360,318 362,383 367,357 369,403 372,403 375,369 380,390 384,397 388,388 393,400 394,445 398,458 402,396 403,416 406,433 407,453 408,409 409,374 412,398 418,374 421,396 423,379 427,373 430,437 434,429 434,382 438,401 442,449 442,396 446,380 452,402 456,380 459,400 460,435 465,409 467,372 469,414 469,427 472,371 475,409 476,428 478,433 480,416 484,413 486,419 489,370 496,408 497,306 500,225 500,159 504,101 506,215 511,332 519,421 522,426 524,407 527,416 529,387 532,395 536,386 539,406 548,420 553,445 556,442 558,416 560,444 565,472 568,451 567,387 569,360 574,405 575,437 578,423 580,428 583,419 586,427 595,379 599,384 603,347 601,288 602,209 603,88 606,180 608,276 611,321 611,379 618,443 619,359 624,334 626,368 626,403 628,443 627,468 632,415 633,382 635,361 638,361 641,391 644,395 647,367 649,405 653,388 657,391 656,449 663,398 667,438 670,377"></animate>
            </polyline>
          </svg>


          <div class="sf-gunsales__hotspot" style="left: 17.5%;top: 67.5%;transition-delay: 0.3s">
            <em class="sf-gunsales__hotspot-label" data-align="top">9/11</em>
          </div>

          <div class="sf-gunsales__hotspot" style="left: 8.5%;top: 67.5%;transition-delay: 0.4s">
            <em class="sf-gunsales__hotspot-label" data-align="top">Y2K</em>
          </div>

          <div class="sf-gunsales__hotspot" style="left: 53%;top: 63%;transition-delay: 0.5s">
            <em class="sf-gunsales__hotspot-label" data-align="top">Obama elected</em>
          </div>
          <div class="sf-gunsales__hotspot" style="top: 20%;left: 74%;transition-delay: 0.6s">
            <em class="sf-gunsales__hotspot-label" data-align="right">Sandy Hook</em>
          </div>

          <div class="sf-gunsales__hotspot" style="top: 17.5%;left: 88.5%;transition-delay: 0.7s">
            <em class="sf-gunsales__hotspot-label" data-align="top">San Bernardino</em>
          </div>

          <div class="sf-gunsales__hotspot" style="left: 94.5%;top: 71.5%;transition-delay: 0.8s">
            <em class="sf-gunsales__hotspot-label" data-align="right">Trump elected</em>
          </div>

          <span class="sf-gunsales__div" style="top: 79%"></span>
          <span class="sf-gunsales__div" style="top: 19%"></span>
          <span class="sf-gunsales__div" style="top: 49%"></span>

          <span class="sf-gunsales__scale" style="
    top: 77%;
">0</span>
          <span class="sf-gunsales__scale" style="
    top: 47%;
">0.5</span>
          <span class="sf-gunsales__scale" style="
    top: 17%;
">1</span>

        </div>
      </div>
    </div>
  </div>

  <script>
    var canvas = document.querySelector('.sf-gunsales__canvas');
    var polyline = document.querySelector('polyline');
    var animate = document.querySelector('animate');
    var coords = [];
    canvas.onclick = function (e) {
      var x = e.layerX;
      var y = e.layerY;
      coords.push([x, y]);
      polyline.setAttribute('points', coords.join(" "));
      animate.setAttribute('to', coords.join(" "));
      animate.setAttribute('from', coords.map(function (item) { return [item[0], 510] }));
    }

    document.querySelectorAll('[data-role="gunsales-gfx"]').forEach(function (item) {
      item.start = function () {
        this.removeAttribute('data-role');
        this.querySelectorAll('animate').forEach(function (animate) {
          animate.beginElement();
        })
      }
    })

  </script>
</body>

</html>