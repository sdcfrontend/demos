(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{1508:function(e,t,n){n(9)({target:"Math",stat:!0},{sign:n(1509)})},1509:function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},1510:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e.default:e}t.__esModule=!0;var i=n(1511);t.Motion=r(i);var a=n(1513);t.StaggeredMotion=r(a);var o=n(1514);t.TransitionMotion=r(o);var s=n(1516);t.spring=r(s);var c=n(842);t.presets=r(c);var u=n(776);t.stripStyle=r(u);var l=n(1517);t.reorderKeys=r(l)},1511:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function a(e){return e&&e.__esModule?e:{default:e}}var o=a(n(807)),s=a(n(776)),c=a(n(808)),u=a(n(809)),l=a(n(810)),d=a(n(811)),p=a(n(0)),f=a(n(101)),h=function(e){function t(n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,n),this.wasAnimating=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyle=null,this.clearUnreadPropStyle=function(e){var t=!1,n=i.state,a=n.currentStyle,o=n.currentVelocity,s=n.lastIdealStyle,c=n.lastIdealVelocity;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var l=e[u];"number"==typeof l&&(t||(t=!0,a=r({},a),o=r({},o),s=r({},s),c=r({},c)),a[u]=l,o[u]=0,s[u]=l,c[u]=0)}t&&i.setState({currentStyle:a,currentVelocity:o,lastIdealStyle:s,lastIdealVelocity:c})},this.startAnimationIfNecessary=function(){i.animationID=l.default((function(e){var t=i.props.style;if(d.default(i.state.currentStyle,t,i.state.currentVelocity))return i.wasAnimating&&i.props.onRest&&i.props.onRest(),i.animationID=null,i.wasAnimating=!1,void(i.accumulatedTime=0);i.wasAnimating=!0;var n=e||u.default(),r=n-i.prevTime;if(i.prevTime=n,i.accumulatedTime=i.accumulatedTime+r,i.accumulatedTime>1e3/60*10&&(i.accumulatedTime=0),0===i.accumulatedTime)return i.animationID=null,void i.startAnimationIfNecessary();var a=(i.accumulatedTime-Math.floor(i.accumulatedTime/(1e3/60))*(1e3/60))/(1e3/60),o=Math.floor(i.accumulatedTime/(1e3/60)),s={},l={},p={},f={};for(var h in t)if(Object.prototype.hasOwnProperty.call(t,h)){var y=t[h];if("number"==typeof y)p[h]=y,f[h]=0,s[h]=y,l[h]=0;else{for(var v=i.state.lastIdealStyle[h],m=i.state.lastIdealVelocity[h],_=0;_<o;_++){var g=c.default(1e3/60/1e3,v,m,y.val,y.stiffness,y.damping,y.precision);v=g[0],m=g[1]}var b=c.default(1e3/60/1e3,v,m,y.val,y.stiffness,y.damping,y.precision),E=b[0],T=b[1];p[h]=v+(E-v)*a,f[h]=m+(T-m)*a,s[h]=v,l[h]=m}}i.animationID=null,i.accumulatedTime-=o*(1e3/60),i.setState({currentStyle:p,currentVelocity:f,lastIdealStyle:s,lastIdealVelocity:l}),i.unreadPropStyle=null,i.startAnimationIfNecessary()}))},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"propTypes",value:{defaultStyle:f.default.objectOf(f.default.number),style:f.default.objectOf(f.default.oneOfType([f.default.number,f.default.object])).isRequired,children:f.default.func.isRequired,onRest:f.default.func},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyle,n=e.style,r=t||s.default(n),i=o.default(r);return{currentStyle:r,currentVelocity:i,lastIdealStyle:r,lastIdealVelocity:i}},t.prototype.componentDidMount=function(){this.prevTime=u.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=e.style,null==this.animationID&&(this.prevTime=u.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(l.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyle);return e&&p.default.Children.only(e)},t}(p.default.Component);t.default=h,e.exports=t.default},1512:function(e,t,n){(function(t){(function(){var n,r,i,a,o,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(n()-o)/1e6},r=t.hrtime,a=(n=function(){var e;return 1e9*(e=r())[0]+e[1]})(),s=1e9*t.uptime(),o=a-s):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,n(38))},1513:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function a(e){return e&&e.__esModule?e:{default:e}}var o=a(n(807)),s=a(n(776)),c=a(n(808)),u=a(n(809)),l=a(n(810)),d=a(n(811)),p=a(n(0)),f=a(n(101));var h=function(e){function t(n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,n),this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=i.state,n=t.currentStyles,a=t.currentVelocities,o=t.lastIdealStyles,s=t.lastIdealVelocities,c=!1,u=0;u<e.length;u++){var l=e[u],d=!1;for(var p in l)if(Object.prototype.hasOwnProperty.call(l,p)){var f=l[p];"number"==typeof f&&(d||(d=!0,c=!0,n[u]=r({},n[u]),a[u]=r({},a[u]),o[u]=r({},o[u]),s[u]=r({},s[u])),n[u][p]=f,a[u][p]=0,o[u][p]=f,s[u][p]=0)}}c&&i.setState({currentStyles:n,currentVelocities:a,lastIdealStyles:o,lastIdealVelocities:s})},this.startAnimationIfNecessary=function(){i.animationID=l.default((function(e){var t=i.props.styles(i.state.lastIdealStyles);if(function(e,t,n){for(var r=0;r<e.length;r++)if(!d.default(e[r],t[r],n[r]))return!1;return!0}(i.state.currentStyles,t,i.state.currentVelocities))return i.animationID=null,void(i.accumulatedTime=0);var n=e||u.default(),r=n-i.prevTime;if(i.prevTime=n,i.accumulatedTime=i.accumulatedTime+r,i.accumulatedTime>1e3/60*10&&(i.accumulatedTime=0),0===i.accumulatedTime)return i.animationID=null,void i.startAnimationIfNecessary();for(var a=(i.accumulatedTime-Math.floor(i.accumulatedTime/(1e3/60))*(1e3/60))/(1e3/60),o=Math.floor(i.accumulatedTime/(1e3/60)),s=[],l=[],p=[],f=[],h=0;h<t.length;h++){var y=t[h],v={},m={},_={},g={};for(var b in y)if(Object.prototype.hasOwnProperty.call(y,b)){var E=y[b];if("number"==typeof E)v[b]=E,m[b]=0,_[b]=E,g[b]=0;else{for(var T=i.state.lastIdealStyles[h][b],O=i.state.lastIdealVelocities[h][b],I=0;I<o;I++){var S=c.default(1e3/60/1e3,T,O,E.val,E.stiffness,E.damping,E.precision);T=S[0],O=S[1]}var w=c.default(1e3/60/1e3,T,O,E.val,E.stiffness,E.damping,E.precision),P=w[0],A=w[1];v[b]=T+(P-T)*a,m[b]=O+(A-O)*a,_[b]=T,g[b]=O}}p[h]=v,f[h]=m,s[h]=_,l[h]=g}i.animationID=null,i.accumulatedTime-=o*(1e3/60),i.setState({currentStyles:p,currentVelocities:f,lastIdealStyles:s,lastIdealVelocities:l}),i.unreadPropStyles=null,i.startAnimationIfNecessary()}))},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"propTypes",value:{defaultStyles:f.default.arrayOf(f.default.objectOf(f.default.number)),styles:f.default.func.isRequired,children:f.default.func.isRequired},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,n=e.styles,r=t||n().map(s.default),i=r.map((function(e){return o.default(e)}));return{currentStyles:r,currentVelocities:i,lastIdealStyles:r,lastIdealVelocities:i}},t.prototype.componentDidMount=function(){this.prevTime=u.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=e.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=u.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(l.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyles);return e&&p.default.Children.only(e)},t}(p.default.Component);t.default=h,e.exports=t.default},1514:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function a(e){return e&&e.__esModule?e:{default:e}}var o=a(n(807)),s=a(n(776)),c=a(n(808)),u=a(n(1515)),l=a(n(809)),d=a(n(810)),p=a(n(811)),f=a(n(0)),h=a(n(101));function y(e,t,n){var r=t;return null==r?e.map((function(e,t){return{key:e.key,data:e.data,style:n[t]}})):e.map((function(e,t){for(var i=0;i<r.length;i++)if(r[i].key===e.key)return{key:r[i].key,data:r[i].data,style:n[t]};return{key:e.key,data:e.data,style:n[t]}}))}function v(e,t,n,r,i,a,s,c,l){for(var d=u.default(r,i,(function(e,r){var i=t(r);return null==i||p.default(a[e],i,s[e])?(n({key:r.key,data:r.data}),null):{key:r.key,data:r.data,style:i}})),f=[],h=[],y=[],v=[],m=0;m<d.length;m++){for(var _=d[m],g=null,b=0;b<r.length;b++)if(r[b].key===_.key){g=b;break}if(null==g){var E=e(_);f[m]=E,y[m]=E;var T=o.default(_.style);h[m]=T,v[m]=T}else f[m]=a[g],y[m]=c[g],h[m]=s[g],v[m]=l[g]}return[d,f,h,y,v]}var m=function(e){function t(n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,n),this.unmounting=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=v(i.props.willEnter,i.props.willLeave,i.props.didLeave,i.state.mergedPropsStyles,e,i.state.currentStyles,i.state.currentVelocities,i.state.lastIdealStyles,i.state.lastIdealVelocities),n=t[0],a=t[1],o=t[2],s=t[3],c=t[4],u=0;u<e.length;u++){var l=e[u].style,d=!1;for(var p in l)if(Object.prototype.hasOwnProperty.call(l,p)){var f=l[p];"number"==typeof f&&(d||(d=!0,a[u]=r({},a[u]),o[u]=r({},o[u]),s[u]=r({},s[u]),c[u]=r({},c[u]),n[u]={key:n[u].key,data:n[u].data,style:r({},n[u].style)}),a[u][p]=f,o[u][p]=0,s[u][p]=f,c[u][p]=0,n[u].style[p]=f)}}i.setState({currentStyles:a,currentVelocities:o,mergedPropsStyles:n,lastIdealStyles:s,lastIdealVelocities:c})},this.startAnimationIfNecessary=function(){i.unmounting||(i.animationID=d.default((function(e){if(!i.unmounting){var t=i.props.styles,n="function"==typeof t?t(y(i.state.mergedPropsStyles,i.unreadPropStyles,i.state.lastIdealStyles)):t;if(function(e,t,n,r){if(r.length!==t.length)return!1;for(var i=0;i<r.length;i++)if(r[i].key!==t[i].key)return!1;for(i=0;i<r.length;i++)if(!p.default(e[i],t[i].style,n[i]))return!1;return!0}(i.state.currentStyles,n,i.state.currentVelocities,i.state.mergedPropsStyles))return i.animationID=null,void(i.accumulatedTime=0);var r=e||l.default(),a=r-i.prevTime;if(i.prevTime=r,i.accumulatedTime=i.accumulatedTime+a,i.accumulatedTime>1e3/60*10&&(i.accumulatedTime=0),0===i.accumulatedTime)return i.animationID=null,void i.startAnimationIfNecessary();for(var o=(i.accumulatedTime-Math.floor(i.accumulatedTime/(1e3/60))*(1e3/60))/(1e3/60),s=Math.floor(i.accumulatedTime/(1e3/60)),u=v(i.props.willEnter,i.props.willLeave,i.props.didLeave,i.state.mergedPropsStyles,n,i.state.currentStyles,i.state.currentVelocities,i.state.lastIdealStyles,i.state.lastIdealVelocities),d=u[0],f=u[1],h=u[2],m=u[3],_=u[4],g=0;g<d.length;g++){var b=d[g].style,E={},T={},O={},I={};for(var S in b)if(Object.prototype.hasOwnProperty.call(b,S)){var w=b[S];if("number"==typeof w)E[S]=w,T[S]=0,O[S]=w,I[S]=0;else{for(var P=m[g][S],A=_[g][S],D=0;D<s;D++){var R=c.default(1e3/60/1e3,P,A,w.val,w.stiffness,w.damping,w.precision);P=R[0],A=R[1]}var C=c.default(1e3/60/1e3,P,A,w.val,w.stiffness,w.damping,w.precision),k=C[0],L=C[1];E[S]=P+(k-P)*o,T[S]=A+(L-A)*o,O[S]=P,I[S]=A}}m[g]=O,_[g]=I,f[g]=E,h[g]=T}i.animationID=null,i.accumulatedTime-=s*(1e3/60),i.setState({currentStyles:f,currentVelocities:h,lastIdealStyles:m,lastIdealVelocities:_,mergedPropsStyles:d}),i.unreadPropStyles=null,i.startAnimationIfNecessary()}})))},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"propTypes",value:{defaultStyles:h.default.arrayOf(h.default.shape({key:h.default.string.isRequired,data:h.default.any,style:h.default.objectOf(h.default.number).isRequired})),styles:h.default.oneOfType([h.default.func,h.default.arrayOf(h.default.shape({key:h.default.string.isRequired,data:h.default.any,style:h.default.objectOf(h.default.oneOfType([h.default.number,h.default.object])).isRequired}))]).isRequired,children:h.default.func.isRequired,willEnter:h.default.func,willLeave:h.default.func,didLeave:h.default.func},enumerable:!0},{key:"defaultProps",value:{willEnter:function(e){return s.default(e.style)},willLeave:function(){return null},didLeave:function(){}},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,n=e.styles,r=e.willEnter,i=e.willLeave,a=e.didLeave,c="function"==typeof n?n(t):n,u=void 0;u=null==t?c:t.map((function(e){for(var t=0;t<c.length;t++)if(c[t].key===e.key)return c[t];return e}));var l=null==t?c.map((function(e){return s.default(e.style)})):t.map((function(e){return s.default(e.style)})),d=null==t?c.map((function(e){return o.default(e.style)})):t.map((function(e){return o.default(e.style)})),p=v(r,i,a,u,c,l,d,l,d),f=p[0];return{currentStyles:p[1],currentVelocities:p[2],lastIdealStyles:p[3],lastIdealVelocities:p[4],mergedPropsStyles:f}},t.prototype.componentDidMount=function(){this.prevTime=l.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var t=e.styles;this.unreadPropStyles="function"==typeof t?t(y(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):t,null==this.animationID&&(this.prevTime=l.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){this.unmounting=!0,null!=this.animationID&&(d.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=y(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),t=this.props.children(e);return t&&f.default.Children.only(t)},t}(f.default.Component);t.default=m,e.exports=t.default},1515:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){for(var r={},i=0;i<e.length;i++)r[e[i].key]=i;var a={};for(i=0;i<t.length;i++)a[t[i].key]=i;var o=[];for(i=0;i<t.length;i++)o[i]=t[i];for(i=0;i<e.length;i++)if(!Object.prototype.hasOwnProperty.call(a,e[i].key)){var s=n(i,e[i]);null!=s&&o.push(s)}return o.sort((function(e,n){var i=a[e.key],o=a[n.key],s=r[e.key],c=r[n.key];if(null!=i&&null!=o)return a[e.key]-a[n.key];if(null!=s&&null!=c)return r[e.key]-r[n.key];if(null!=i){for(var u=0;u<t.length;u++){var l=t[u].key;if(Object.prototype.hasOwnProperty.call(r,l)){if(i<a[l]&&c>r[l])return-1;if(i>a[l]&&c<r[l])return 1}}return 1}for(u=0;u<t.length;u++){l=t[u].key;if(Object.prototype.hasOwnProperty.call(r,l)){if(o<a[l]&&s>r[l])return 1;if(o>a[l]&&s<r[l])return-1}}return-1}))},e.exports=t.default},1516:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e,t){return r({},s,t,{val:e})};var i,a=n(842),o=(i=a)&&i.__esModule?i:{default:i},s=r({},o.default.noWobble,{precision:.01});e.exports=t.default},1517:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){0};e.exports=t.default},1518:function(e,t,n){"use strict";n(50),n(227),n(790),n(376),n(20),n(383),n(69),n(1519),n(103),n(100),n(87),n(113),n(1520),n(1521),n(1522),n(548),n(174),n(1523),n(840),n(549),n(33),n(30),n(378),n(24),n(31),n(102),n(23),n(128),n(1524);var r,i,a,o,s,c=n(7),u=n.n(c),l=n(173),d=n.n(l),p=n(1),f=n.n(p),h=n(64),y=n.n(h),v=n(81),m=n.n(v),_=n(1525),g=n.n(_);function b(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T="AD_SKIP_EVENT",O="CONFIG_LOADED_EVENT",I="CTA_CLICK_EVENT",S="CTA_IMPRESSION_EVENT",w="ERROR_EVENT",P="FULL_SCREEN_EVENT",A="GROUPM_VIEW_EVENT",D="HEARTBEAT_EVENT",R="HEARTBEAT_START_EVENT",C="INITIAL_CTA_IMPRESSION_EVENT",k="INITIAL_INTEND_TO_PLAY_EVENT",L="INTEND_TO_PLAY_EVENT",M="LOOP_EVENT",N="MRC_AUDIBLE_VIEW_EVENT",j="MRC_VIEW_EVENT",x="MUTE_EVENT",U="ONE_SEC_VIEW_EVENT",B="SIX_SEC_VIEW_EVENT",F="PAUSE_EVENT",V="PLAY_EVENT",G="PLAY_FROM_TAP_EVENT",W="PLAYBACK_25_EVENT",Y="PLAYBACK_50_EVENT",H="PLAYBACK_75_EVENT",z="PLAYBACK_95_EVENT",K="PLAYBACK_COMPLETE_EVENT",q="PLAYBACK_ERROR_EVENT",J="PLAYBACK_LAPSE_EVENT",Q="PLAYBACK_START_EVENT",X="REPLAY_EVENT",$="REWIND_EVENT",Z="SHRINK_EVENT",ee="STARTUP_ERROR_EVENT",te="TEARDOWN_EVENT",ne="TICK_EVENT",re="TRACK_FINISHED_EVENT",ie="UNMUTE_EVENT",ae="VIDEO_SESSION_EVENT",oe="VIDEO_QUALITY_VIEW_EVENT",se="VIDEO_VIEW_EVENT",ce="VIEW_THRESHOLD_EVENT",ue="ad",le="content",de="broadcast",pe="gif",fe="live",he="media_entity",ye="partner_video",ve="periscope",me="vine",_e="vmap",ge=Object.assign({},{event:"url",visit:"url",url:"url",image:"url",watch:"url"},{watch_now:"watch",visit_site:"url",shop:"url",see_more:"url",go_to:"url"});function be(e){return Te(e,e.source.trackId)}function Ee(e){return Te(e,e.currentTrackId)}function Te(e,t){return e.tracks.find((function(e){return t===e.id}))}function Oe(e){return e.tracks.find((function(e){return ue===e.displayType}))}function Ie(e){return Boolean(e)&&e.isPlaying&&!e.isScrubbing&&!e.isMuted}var Se=((r={})[se]="creativeView",r[W]="firstQuartile",r[Y]="midpoint",r[H]="thirdQuartile",r[K]="complete",r[V]="resume",r[F]="pause",r[$]="rewind",r[w]="adError",r),we=function(){function e(e){var t=this;Object.keys(Se).forEach((function(n){e.on(n,(function(e){t.fireBeacon(Se[n],e)}))})),e.on(Q,this.onPlaybackStart.bind(this))}var t=e.prototype;return t.onPlaybackStart=function(e){this.fireBeacon("start",e),this.fireBeacon("adImpression",e)},t.fireBeacon=function(e,t){var n=Ee(t);if(void 0!==n&&void 0!==n.beacons&&void 0!==n.beacons[e])for(var r,i=b(n.beacons[e]);!(r=i()).done;){var a=r.value;(new window.Image).src=a}},e}(),Pe=function(){function e(e){this.analytics=e,this.hasFiredOnTrackMap={},this.analytics.on(S,this.onCtaImpressionEvent.bind(this))}return e.prototype.onCtaImpressionEvent=function(e){var t=e.currentTrackId;this.hasFiredOnTrackMap[t]||(this.hasFiredOnTrackMap[t]=!0,this.analytics.emit(C,e))},e}(),Ae=function(){function e(e){this.analytics=e,this.hasStarted=!1,this.hasFired=!1,this.analytics.on(Q,this.onPlaybackStartEvent.bind(this)),this.analytics.on(L,this.onShowEvent.bind(this)),this.analytics.on(w,this.onErrorEvent.bind(this))}var t=e.prototype;return t.onPlaybackStartEvent=function(){this.hasStarted=!0},t.onShowEvent=function(){this.intentToPlayTime=new Date},t.onErrorEvent=function(e,t){var n=this.constructClientMediaEventError(e,t);if(!this.hasStarted&&!this.hasFired){var r,i=void 0!==this.intentToPlayTime?new Date-this.intentToPlayTime:void 0;n&&(r={latency_millis:i,error:n}),this.analytics.emit(ee,e,Object.assign({latency:i},t),r),this.hasFired=!0}this.analytics.emit(q,e,t,n)},t.constructClientMediaEventError=function(e,t){var n=t&&t.media_details&&t.media_details.media_error||{};return{is_fatal:n.is_fatal,category:n.category,message:n.message,retry_count:n.retry_count}},e}(),De=function(){function e(e){this.bufferingCount=0,this.bufferingDurationMs=0,this.bufferingBeginTimeMs=void 0,e.on(ne,this.onTickEvent.bind(this)),e.on(R,this.onHeartbeatStart.bind(this)),e.on(D,this.onHeartbeat.bind(this))}var t=e.prototype;return t.onHeartbeat=function(e){this.reset(e)},t.onHeartbeatStart=function(e){this.reset(e)},t.onTickEvent=function(e){var t=Ee(e);void 0!==t&&(t.isBuffering&&null==this.bufferingBeginTimeMs?(this.bufferingBeginTimeMs=Date.now(),this.bufferingCount++):t.isBuffering||null==this.bufferingBeginTimeMs||(this.bufferingDurationMs+=Date.now()-this.bufferingBeginTimeMs,this.bufferingBeginTimeMs=void 0))},t.getBufferTime=function(e){var t=Ee(e);if(void 0!==t){var n=this.bufferingDurationMs;return t.isBuffering&&null!=this.bufferingBeginTimeMs&&(n+=Date.now()-this.bufferingBeginTimeMs),n}},t.reset=function(e){var t=Ee(e);void 0!==t&&(this.bufferingBeginTimeMs=t.isBuffering?Date.now():void 0,this.bufferingCount=t.isBuffering?1:0,this.bufferingDurationMs=0)},e}();function Re(e){return"number"!=typeof e||Number.isNaN(e)||e===1/0||e===-1/0?"string"==typeof e?e:void 0:e.toString()}var Ce=function(){function e(e){this.analytics=e,this.bufferingDurationListener=new De(e),this.lastKnownDataUsageBytes=0,this.audibleDuration=0,this.bitrateHistory=[],this.latencyHistory=[],this.previousTickTimestamp,this.analytics.on(ne,this.onTickEvent.bind(this)),this.analytics.on(V,this.onPlayEvent.bind(this)),this.analytics.on(Q,this.onPlaybackStartEvent.bind(this)),this.analytics.on(re,this.onTrackFinishedEvent.bind(this)),this.analytics.on(w,this.onErrorEvent.bind(this)),this.analytics.on(F,this.onPauseEvent.bind(this)),this.analytics.on(te,this.onTeardownEvent.bind(this)),this.analytics.on(M,this.onLoopEvent.bind(this)),this.analytics.on(T,this.onAdSkip.bind(this))}var t=e.prototype;return t.onTickEvent=function(e){var t=Ee(e);if(void 0!==t){if(this.updateTimesOnTick(t,e),this.updatePerfMetrics(t),e.isScrubbing?this.stopPolling():e.isPlaying&&this.startPolling(e),void 0!==this.lastKnownPlayerState){var n=this.lastKnownPlayerState.percentVisible,r=e.percentVisible;(n>0&&0===r||0===n&&r>0)&&(this.stopPolling(),this.startPolling(e))}this.lastKnownPlayerState=e,this.previousTickTimestamp=Date.now()}},t.onPlayEvent=function(e){this.hasPlaybackStarted&&this.startPolling(e),this.lastKnownPlayerState=e},t.onPlaybackStartEvent=function(e){this.startPolling(e),this.lastKnownPlayerState=e,this.hasPlaybackStarted=!0},t.onTrackFinishedEvent=function(e){this.hasPlaybackStarted=!1,void 0!==Ee(e)&&(this.stopPolling(),this.lastKnownPlayerState=e)},t.onErrorEvent=function(e,t){t&&t.media_details&&t.media_details.media_error&&t.media_details.media_error.is_fatal&&(this.stopPolling(),this.lastKnownPlayerState=e)},t.onPauseEvent=function(e,t){this.stopPolling(),this.lastKnownPlayerState=e},t.onTeardownEvent=function(e,t){this.stopPolling(!0),this.lastKnownPlayerState=e},t.onLoopEvent=function(e){this.startPolling(e)},t.onAdSkip=function(){this.stopPolling()},t.updateTimesOnTick=function(e,t){var n;void 0!==(n=e.contentType===de||e.contentType===fe||e.contentType===ve?e.absoluteTimeMs:e.currentTimeMs)&&(Ie(t)&&void 0!==this.lastTimeMs&&(this.audibleDuration+=n-this.lastTimeMs),this.lastTimeMs=n,void 0===this.startTimeMs&&(this.startTimeMs=n))},t.startPolling=function(e){var t=be(e);void 0===this.intervalId&&void 0!==t&&t.contentType!==me&&(this.analytics.emit(R,e),this.onHeartbeatStart(e))},t.stopPolling=function(e){(this.intervalId||e)&&(this.onHeartbeat(),this.lastTimeMs=void 0,this.startTimeMs=void 0),void 0!==this.intervalId&&(clearInterval(this.intervalId),this.intervalId=void 0)},t.onHeartbeatStart=function(e){this.intervalId=setInterval(this.onHeartbeat.bind(this),e.heartbeatIntervalMs||5e3),this.lastTimeMs=void 0,this.startTimeMs=void 0,this.bitrateHistory=[],this.latencyHistory=[]},t.updatePerfMetrics=function(e){if(this.previousTickTimestamp){var t=Date.now()-this.previousTickTimestamp;e.currentBitrate&&this.bitrateHistory.push({value:e.currentBitrate,weight:t}),e.liveLatencyMs&&this.latencyHistory.push({value:e.liveLatencyMs,weight:t})}},t.onHeartbeat=function(){var e=this.lastKnownPlayerState;if(e){var t=Ee(e),n=this.getProgramDateTimeMs();if(void 0!==n&&void 0!==t){var r=t.currentBitrate?{sampled_bitrate:t.currentBitrate}:{},i=0;e.dataUsageBytes&&(i=e.dataUsageBytes-this.lastKnownDataUsageBytes,this.lastKnownDataUsageBytes=e.dataUsageBytes);var a,o,s={data_usage_bytes:i},c=this.bufferingDurationListener.bufferingCount,u=this.bufferingDurationListener.getBufferTime(e),l=Math.floor(100*e.percentVisible),d=Object.assign({buffering_duration_millis:u,video_visibility:l},{start_program_date_time_millis:n.start_program_date_time_millis,end_program_date_time_millis:n.end_program_date_time_millis},r,s),p={buffering_duration_millis:Re(u),buffering_count:c,percent_in_view:l,sampled_bits_per_second:t.currentBitrate,data_usage_bytes:Re(s.data_usage_bytes),start_program_date_time_millis:Re(n.start_program_date_time_millis),end_program_date_time_millis:Re(n.end_program_date_time_millis),audible_duration_millis:Re(n.audible_duration_millis),bandwidth_estimate_bps:Re(e.bandwidthEstimateBps),bitrate_metrics:(a=this.bitrateHistory,o=Le(a),o&&{min_bps:Math.round(o.min),max_bps:Math.round(o.max),avg_bps:Math.round(o.avg)}),live_or_non_live_heartbeat_metrics:ke(t.isLive,this.latencyHistory)};this.analytics.emit(D,e,d,p)}}},t.getProgramDateTimeMs=function(){if(void 0!==this.startTimeMs&&void 0!==this.lastTimeMs){var e=this.startTimeMs,t=this.lastTimeMs,n=this.audibleDuration;return this.startTimeMs=this.lastTimeMs,this.audibleDuration=0,{start_program_date_time_millis:Math.round(e),end_program_date_time_millis:Math.round(t),audible_duration_millis:Math.round(n)}}return{}},e}();function ke(e,t){var n=Le(t);return e?{live_heartbeat_metrics:{latency_metrics:n&&{min_ms:Math.round(n.min),max_ms:Math.round(n.max),avg_ms:Math.round(n.avg)}}}:{non_live_heartbeat_metrics:{}}}function Le(e){if(e&&e.length){var t=e.map((function(e){return e.value}));return{min:Math.min.apply(Math,y()(t)),max:Math.max.apply(Math,y()(t)),avg:function(e){var t=e.reduce((function(e,t){return e+t.weight}),0);return e.reduce((function(e,t){return e+t.value*t.weight}),0)/t}(e)}}}var Me=function(){function e(e){this.analytics=e,this.hasFiredOnTrackMap={},this.analytics.on(L,this.onIntendToPlayEvent.bind(this)),this.analytics.on(X,this.onIntendToPlayEvent.bind(this)),this.analytics.on(re,this.onTrackFinishedEvent.bind(this))}var t=e.prototype;return t.onIntendToPlayEvent=function(e){this.hasFiredOnTrackMap[e.currentTrackId]||(this.hasFiredOnTrackMap[e.currentTrackId]=!0,this.analytics.emit(k,e))},t.onTrackFinishedEvent=function(e){var t=Ee(e);t&&(t.shouldLoop||(this.hasFiredOnTrackMap[e.currentTrackId]=!1))},e}(),Ne=function(){function e(e){this.analytics=e,this.analytics.on(re,this.onTrackFinishedEvent.bind(this))}return e.prototype.onTrackFinishedEvent=function(e){var t=Ee(e);void 0!==t&&t.shouldLoop&&this.analytics.emit(M,e)},e}(),je={home:"HomeTimeline",list:"Lists",live_broadcast:"BroadcastPage",live_event_timeline:"EventPage",me:"UserTimeline",moments:"Moments",permalink:"TweetCard",profile:"UserTimeline",search:"Search"},xe=function(e){return"/api/v2/"+e},Ue="videoStartWatchingLive",Be="videoPingLive",Fe="videoStopWatchingLive",Ve=((i={})[Ue]={method:"GET",path:xe("startPublic")},i[Be]={method:"GET",path:xe("pingPublic")},i[Fe]={method:"GET",path:xe("stopPublic")},i.videoStartWatchingReplay={method:"GET",path:xe("replayViewedPublic")},i.videoPingReplay={method:"GET",path:xe("pingReplayViewedPublic")},i.videoStopWatchingReplay={method:"GET",path:xe("endReplayViewedPublic")},i),Ge=function(){function e(e,t){if(this.httpClient=e,this.idempotenceId=Date.now()+"--"+g()(),t){var n=t.scribeContext,r=t.periscopeComponent;this.pageContext=this.getPageContext(n),this.componentContext=r}}var t=e.prototype;return t.getPageContext=function(e){var t=e.page;return"permalink_overlay"===e.section?"TweetCard":je[t]||""},t.call=function(e,t){var n={"X-Idempotence":this.idempotenceId},r=Ve[e],i=r.method,a=r.path;return this.httpClient.dispatch({headers:n,host:"https://proxsee.pscp.tv",method:i,path:a,params:t})},t.videoStartWatching=function(e,t,n){var r=this;return new Promise((function(i,a){("string"!=typeof e||e.length<1)&&a(new Error("Cannot videoStartWatching. lifecycleToken not valid, lifecycleToken="+e));var o=t?"videoStartWatchingReplay":Ue,s={life_cycle_token:e,auto_play:!!n};r.pageContext&&(s.page=r.pageContext),r.componentContext&&(s.component=r.componentContext),r.call(o,s).then((function(e){var t=JSON.parse(e.body).session;t?i(t):a("No valid Session")}),a)}))},t.videoPingWatching=function(e,t){var n=this;return new Promise((function(r,i){("string"!=typeof e||e.length<1)&&i(new Error("Cannot videoPingWatching. session not valid, session="+e));var a=t?"videoPingReplay":Be;n.call(a,{session:e}).then((function(e){JSON.parse(e.body).success?r():i("Ping request failed")}),i)}))},t.videoStopWatching=function(e,t){var n=this;return new Promise((function(r,i){("string"!=typeof e||e.length<1)&&i(new Error("Cannot videoStopWatching. session not valid, session="+e));var a=t?"videoStopWatchingReplay":Fe;n.call(a,{session:e}).then((function(e){JSON.parse(e.body).success?r():i("StopWatching request failed")}),i)}))},e}();var We=function(){function e(e){this.api=e,this.handleStartWatching=this.handleStartWatching.bind(this),this.updateSession=this.updateSession.bind(this),this.startPingWatching=this.startPingWatching.bind(this),this.isVideoPreview=!1,this.isReplay=!0}var t=e.prototype;return t.updateSession=function(e){this.session=e},t.setStartWatchingTimer=function(){this.startWatchingTimer=setTimeout(this.handleStartWatching,3e3)},t.clearStartWatchingTimer=function(){this.startWatchingTimer&&clearTimeout(this.startWatchingTimer)},t.handleStartWatching=function(){if(!this.isWatching){this.stopPingWatching();var e=this.api.videoStartWatching(this.lifecycleToken,this.isReplay,this.isVideoPreview).then(this.updateSession).then(this.startPingWatching);return this.isWatching=!0,e}},t.startPingWatching=function(){var e=this;this.stopPingWatching(),this.pingWatchingTimer=setInterval((function(){e.isWatching?e.api.videoPingWatching(e.session,e.isReplay):e.stopPingWatching()}),3e4)},t.stopPingWatching=function(){clearInterval(this.pingWatchingTimer)},t.updateLifecycleToken=function(e){void 0!==e&&e!==this.lifecycleToken&&(this.lifecycleToken=e,this.isWatching&&(this.stopWatching(),this.handleStartWatching()))},t.updateIsReplay=function(e){void 0!==e&&e!==this.isReplay&&(this.isReplay=e)},t.startWatching=function(){return this.isVideoPreview=!1,this.handleStartWatching()},t.startWatchingPreview=function(){this.isVideoPreview=!0,this.clearStartWatchingTimer(),this.setStartWatchingTimer()},t.stopWatching=function(){this.isWatching&&(this.stopPingWatching(),this.session&&this.api.videoStopWatching(this.session,this.isReplay),this.isWatching=!1)},t.destroy=function(){this.stopWatching(),this.clearStartWatchingTimer(),this.isVideoPreview=void 0,this.lifecycleToken=void 0,this.session=void 0,this.isReplay=void 0,this.isWatching=void 0,this.pingWatchingTimer=void 0},e}(),Ye=[O,V,F,re,te],He=function(){function e(e,t){var n=this;this.analytics=e,this.lifecycleController=t,Ye.map((function(e){return n.analytics.on(e,n.possiblyHandleEvent.bind(n,e))}))}var t=e.prototype;return t.possiblyHandleEvent=function(e,t){if(this.shouldSendPeriscopeAnalytics(t)){var n=Ee(t);switch(e){case O:this.updateLifecycleToken(t),this.updateReplayState(!n.isLive);break;case V:this.handleStartWatching(t);break;case F:this.handleStopWatching(t);break;case re:this.handleStopWatching(t),this.updateReplayState(!0);break;case te:this.teardownPeriscopeLifecycle()}}},t.shouldSendPeriscopeAnalytics=function(e){var t=Ee(e);return void 0!==t&&(t.contentType===ve||t.contentType===de)},t.getLifecycleToken=function(e){return Ee(e).lifecycleToken},t.updateLifecycleToken=function(e){var t=this.getLifecycleToken(e);this.lifecycleController.updateLifecycleToken(t)},t.updateReplayState=function(e){this.lifecycleController.updateIsReplay(e)},t.handleStartWatching=function(e){this.getLifecycleToken(e)&&(e.isPreview?this.lifecycleController.startWatchingPreview():this.lifecycleController.startWatching())},t.handleStopWatching=function(e){this.getLifecycleToken(e)&&this.lifecycleController.stopWatching()},t.teardownPeriscopeLifecycle=function(){this.lifecycleController.destroy(),this.lifecycleController=null},e}(),ze=function(){function e(e){this.analytics=e,this.lapseMap={},this.analytics.on(ne,this.onTickEvent.bind(this)),this.analytics.on(re,this.onTrackFinishedEvent.bind(this)),this.analytics.on(T,this.onAdSkipEvent.bind(this)),this.analytics.on(se,this.onVideoViewEvent.bind(this))}var t=e.prototype;return t.onTrackFinishedEvent=function(e){var t=Ee(e);if(void 0!==t){var n=this.lapseMap[t.id];if(void 0!==n){n.timePlayedToMs=0;var r=be(e);r&&r.contentType!==pe&&!t.shouldLoop&&(this.emit(n,e),n.viewFired=!1)}}},t.onAdSkipEvent=function(e){this.onTickEvent(e);var t=Ee(e);if(void 0!==t){var n=this.lapseMap[t.id];this.emit(n,e)}},t.onVideoViewEvent=function(e){var t=Ee(e);if(void 0!==t){var n=this.lapseMap[t.id];void 0===n&&(n=this.initializeLapseMapForTrack(t),this.lapseMap[t.id]=n),n.viewFired=!0}},t.onTickEvent=function(e){var t=Ee(e);if(void 0!==t){var n=this.lapseMap[t.id];void 0===n&&(n=this.initializeLapseMapForTrack(t),this.lapseMap[t.id]=n),e.isScrubbing?n.timePlayedToMs=t.currentTimeMs:(this.updateTimingData(t,n),this.checkPlaybackLapse(n,e))}},t.initializeLapseMapForTrack=function(e){return{timePlayedMs:0,timePlayedToMs:e.currentTimeMs,viewFired:!1}},t.updateTimingData=function(e,t){var n=e.currentTimeMs-t.timePlayedToMs;t.timePlayedToMs=e.currentTimeMs,t.timePlayedMs+=n},t.checkPlaybackLapse=function(e,t){e.timePlayedMs>1e4&&this.emit(e,t)},t.emit=function(e,t){var n=be(t),r=e.viewFired,i=e.timePlayedMs;r&&i>0&&n&&n.contentType!==fe&&(this.analytics.emit(J,t,{playback_lapse_ms:Math.round(i)}),e.timePlayedMs=0)},e}(),Ke=function(e){return t="AD_CTA_TO_ENGAGEMENT_MAPPING_ERROR",(n=new Error("Unable to map CTA type to engagement type for: "+e)).name=t,n;var t,n},qe=function(){function e(){}return e.set=function(t){e.report=t},e}();f()(qe,"report",(function(e){return console.warn(e)}));var Je=((a={})[Q]="playback_start",a[W]="playback_25",a[Y]="playback_50",a[H]="playback_75",a[z]="playback_95",a[K]="playback_complete",a[j]="mrc_view",a[A]="groupm_view",a[U]="1sec_view",a[B]="6sec_view",a[se]="view",a[G]="play_from_tap",a[ce]="view_threshold",a),Qe=function(){function e(e,t){var n=this;this.promotedLogHandler=t,Object.keys(Je).forEach((function(t){e.on(t,(function(e,r){var i=Ee(e);void 0!==i&&n.log(n.buildEventName(t,i),e,r)}))})),e.on(Q,this.logImpression.bind(this)),e.on(I,this.onCtaClickEvent.bind(this)),e.on(ae,this.onVideoSessionEvent.bind(this))}var t=e.prototype;return t.buildEventName=function(e,t){var n=Je[e];return"video_"+t.displayType+"_"+n},t.log=function(e,t,n,r){void 0===n&&(n={});var i=Ee(t),a=this.getPromotedEventData(t,i);if(void 0!==a.impression_id){var o=this.getAmplifyDetailsData(t,i,n),s=JSON.stringify({amplify_details:o}),c=r&&JSON.stringify(r),u=Object.assign(a,o,{event:e,card_event:s,engagement_metadata:c});this.promotedLogHandler.log(u)}},t.logImpression=function(e){var t=Ee(e);this.isPromotedTrack(e,t)&&this.log("impression",e)},t.onCtaClickEvent=function(e){var t=Ee(e);if(void 0!==t){var n=t.cta;if(void 0!==n)if(t.displayType===ue){var r=ge[n.type];r?this.log("video_"+t.displayType+"_cta_"+r+"_click",e):qe.report(Ke(n.type))}else this.log("video_cta_"+n.type+"_click",e)}},t.onVideoSessionEvent=function(e,t){void 0!==t&&this.log("video_session",e,{},t)},t.isPromotedTrack=function(e,t){return t&&t.impressionId&&t.disclosureType},t.getPromotedEventData=function(e,t){var n=t.disclosureType||e.disclosureType;return{impression_id:t.impressionId||e.impressionId,earned:"earned"===n}},t.getAmplifyDetailsData=function(e,t,n){var r=be(e),i=Oe(e)||{};return Object.assign({content_id:r.contentId,dynamic_preroll_type:i.dynamicPrerollType,preroll_uuid:i.contentId,preroll_owner_id:i.publisherId,video_uuid:t.contentId,video_type:t.displayType===le?"video":"ad",video_is_muted:e.isMuted,video_visibility:Math.floor(100*e.percentVisible)},n)},e}(),Xe=function(){function e(e){this.analytics=e,this.analytics.on(ne,this.onTickEvent.bind(this))}return e.prototype.onTickEvent=function(e){var t=Ee(e);void 0!==t&&(e.isScrubbing&&void 0===this.scrubbingStartTime?this.scrubbingStartTime=t.currentTimeMs:e.isScrubbing||void 0===this.scrubbingStartTime||(t.currentTimeMs<this.scrubbingStartTime&&this.analytics.emit($,e),this.scrubbingStartTime=void 0))},e}(),$e=((o={})[se]="video_view",o[G]="play_from_tap",o[ce]="view_threshold",o[N]="video_mrc_audible_view",o[j]="video_mrc_view",o[B]="video_6sec_view",o[Q]="playback_start",o[W]="playback_25",o[Y]="playback_50",o[H]="playback_75",o[z]="playback_95",o[K]="playback_complete",o[k]="intent_to_play",o[V]="play",o[F]="pause",o[X]="replay",o[M]="loop",o[x]="mute",o[ie]="unmute",o[P]="full_screen",o[Z]="shrink",o[J]="playback_lapse",o[q]="error",o[ee]="playback_startup_error",o[oe]="video_quality_view",o[T]="video_ad_skip",o),Ze=["playback_lapse","video_1sec_view","shrink","full_screen"].reduce((function(e,t){return e[t]=!0,e}),{}),et="tweet",tt="client_event",nt="live_video_heartbeat_event",rt=7,it=13,at=16,ot=26,st=28,ct=1,ut=2,lt=1,dt=2,pt=["appplayer","poll2choice_video","poll3choice_video","poll4choice_video","promo_video_convo","promo_video_website","video_direct_message"],ft=/^([0-9]{1,2})_([0-9]+)$/,ht=function(){function e(e,t,n){var r=this;this.scribeHandler=t,this.context=n||{},this.isAdFormatsCard=-1!==pt.indexOf(this.context.cardType),Object.keys($e).forEach((function(t){e.on(t,(function(e,n,i){r.scribe($e[t],e,n,i)}))})),e.on(I,this.onCtaClickEvent.bind(this)),e.on(C,this.onCtaImpressionEvent.bind(this)),e.on(D,this.onHeartbeatEvent.bind(this))}var t=e.prototype;return t.onCtaClickEvent=function(e){var t=Ee(e).cta;t&&t.type&&this.scribe("cta_"+t.type+"_click",e)},t.onCtaImpressionEvent=function(e){var t=Ee(e).cta;t&&t.type&&this.scribe("cta_"+t.type+"_impression",e)},t.onHeartbeatEvent=function(e,t,n){var r=be(e);if(void 0!==r){var i;switch(r.contentType){case fe:case de:i=nt;break;default:i=tt}this.scribe("heartbeat",e,t,n,i)}},t.scribe=function(e,t,n,r,i){void 0===n&&(n={}),void 0===r&&(r={}),void 0===i&&(i=tt);var a,o,s=be(t)||{},c=Ee(t)||{},u=Oe(t)||{},l=t.session||{},d=(t.features||{}).isLiveTimecodeEnabled&&c.requestedTimecode>0?1e3*c.requestedTimecode:void 0;this.isActionSupportedInClientMediaEvent(e)&&(a={media_client_event_type:(o={},o[e]=r,o),session_state:{session_id:l.id,content_video_identifier:vt(this.getContentIdentifier(s),this.context.scribeContext),video_ads_passthrough_data:t.videoAnalyticsScribePassthrough,live_event_identifier:this.getLiveEventIdentifier(t,s.contentType),tweet_id:this.getTweetId(t.source,s.contentType)},playing_media_state:{video_type:c.displayType===le?ut:ct,media_asset_url:this.getVariantUrl(c),media_timecode_millis:Re(d),media_metadata:{broadcast_id:c.broadcastId,twitter_publisher_id:Re(c.publisherId),publisher_identifier:mt(c.publisherId,c.periscopePublisherId,this.context.scribeContext)},broadcast_media_state:_t(c.contentType,c.isLive)},player_state:{is_muted:t.isMuted}});var p=Object.assign({},this.getBaseItem(t.source,t.eventId),{media_asset_url:this.getVariantUrl(c),video_uuid:c.contentId,video_owner_id:c.publisherId,video_type:c.displayType===le?"video":"ad",promoted_id:c.impressionId||t.impressionId,content_id:s.contentId,dynamic_preroll_type:u.dynamicPrerollType,preroll_uuid:u.contentId,preroll_owner_id:u.publisherId,publisher_id:s.publisherId,media_session_id:l.id,video_analytics_scribe_passthrough:t.videoAnalyticsScribePassthrough,client_media_event:a,media_timecode_millis:d,disclosure_type:c.disclosureType||t.disclosureType},n,this.getLexMetadata(t,s));this.scribeHandler.log({namespace:{element:this.getScribeElement(s),action:e},category:i,data:{items:[p]}})},t.getContentIdentifier=function(e){var t=e.contentId,n=this.parseMediaKeyString(t);if(n)return{media_platform_identifier:n};switch(e.contentType){case he:case pe:case fe:case de:return this.getMediaPlatformIdentifierUsingDefaultCategory(e);case _e:return this.isAdFormatsCard?{media_platform_identifier:{media_category:this.getMediaEntityCategoryUsingPlaybackUrl(e),media_id:t}}:{amplify_card_identifier:{vmap_url:e.vmapUrl,content_id:t}};case me:case ve:case ye:default:return{unknown_identifier:{content_id:t}}}},t.parseMediaKeyString=function(e){var t=ft.exec(e)||[],n=t[1],r=t[2],i=+n;if(i&&r)return{media_category:i,media_id:r}},t.getMediaPlatformIdentifierUsingDefaultCategory=function(e){var t=this.defaultMediaCategory(e);return t?{media_platform_identifier:{media_category:t,media_id:e.contentId}}:{unknown_identifier:{content_id:e.contentId}}},t.getMediaEntityCategoryUsingPlaybackUrl=function(e){var t=this.getVariantUrl(e);if(t){if(-1!==t.indexOf("amplify_video"))return it;if(-1!==t.indexOf("ext_tw_video"))return rt}},t.defaultMediaCategory=function(e){switch(e.contentType){case pe:return at;case fe:return ot;case de:return st;case he:return this.getMediaEntityCategoryUsingPlaybackUrl(e);default:return}},t.getLiveEventIdentifier=function(e,t){return e.eventId?{lex_event_identifier:{lex_event_id:e.eventId}}:t===fe?{legacy_live_event_identifier:{legacy_live_event_id:e.source.id}}:void 0},t.getTweetId=function(e,t){return t===de||t===fe?e.tweetId:e.type===et?e.id:void 0},t.getScribeElement=function(e){switch(e.contentType){case me:return"vine_player";case pe:return"gif_player";case _e:return"platform_amplify_card";case fe:case de:return"live_video_player";case ye:return"partner_video_player";case ve:return"periscope_player";case he:default:return"video_player"}},t.getBaseItem=function(e,t){var n=this.context.baseScribeItem;return n||(e.type===et?{id:e.id,item_type:"0"}:e.tweetId?{id:e.tweetId,item_type:"0"}:t?{id:t,item_type:"28"}:void 0)},t.getLexMetadata=function(e,t){var n=this.context.scribeContext||{},r={},i={};return t.broadcastId&&(r.is_replay_broadcast=!t.isLive,i.tweet_id=e.source.tweetId,"live_event_timeline"===n.page&&"tweet"!==n.component?r.host_broadcast_id=t.broadcastId:r.target_broadcast_id=t.broadcastId),e.eventId&&("live_event_timeline"===n.page&&"tweet"!==n.component?i.host_event_id=e.eventId:i.target_event_id=e.eventId),{live_broadcast_details:r,live_video_event_details:i}},t.getVariantUrl=function(e){var t=e.variants&&e.variants[e.currentVariantIndex];return t&&t.src},t.isActionSupportedInClientMediaEvent=function(e){return!Ze[e]},e}();function yt(e){return e&&"messages"===e.page}function vt(e,t){return yt(t)?{scrubbed_identifier:{}}:e}function mt(e,t,n){return yt(n)?{scrubbed_publisher_identifier:{}}:e&&t?{twitter_periscope_publisher_identifier:{twitter_id:Re(e),periscope_id:t}}:e?{twitter_publisher_identifier:{id:Re(e)}}:t?{periscope_publisher_identifier:{id:t}}:{unknown_publisher_identifier:{}}}function _t(e,t){if(e===de||e===fe||e===ve)return{broadcast_state:t?lt:dt}}var gt=function(){function e(e){this.analytics=e,this.analytics.on(X,this.onReplayEvent.bind(this)),this.analytics.on(re,this.onTrackFinishedEvent.bind(this)),this.analytics.on(k,this.onInitialIntendToPlayEvent.bind(this))}var t=e.prototype;return t.onInitialIntendToPlayEvent=function(e){this.resetLatencyStartDate(e.intentToPlayTime)},t.onReplayEvent=function(){this.resetLatencyStartDate()},t.onTrackFinishedEvent=function(e){this.resetLatencyStartDate(),this.trackId!==e.currentTrackId&&(this.trackId=e.currentTrackId)},t.resetLatencyStartDate=function(e){this.latencyStartDate=e||new Date},t.getLatencyData=function(){if(void 0!==this.latencyStartDate)return{latency:new Date-this.latencyStartDate}},e}(),bt=[{progress:.25,event:W},{progress:.5,event:Y},{progress:.75,event:H},{progress:.95,event:z},{progress:1,event:K}],Et=function(){function e(e){this.analytics=e,this.eventMap={},this.playbackLatencyListener=new gt(e),this.analytics.on(re,this.onTrackFinishedEvent.bind(this)),this.analytics.on(ne,this.onTickEvent.bind(this))}var t=e.prototype;return t.onTrackFinishedEvent=function(e){var t=Ee(e);void 0!==t&&(t.shouldLoop||(this.eventMap[e.currentTrackId]={}))},t.onTickEvent=function(e){var t=Ee(e);if(void 0!==t&&t.durationMs){var n=this.eventMap[t.id];void 0===n&&(n={},this.eventMap[t.id]=n),this.checkAllTentpoles(t,n,e)}},t.checkAllTentpoles=function(e,t,n){if(n.isPlaying){var r=e.durationMs,i=e.currentTimeMs,a=this.playbackLatencyListener.getLatencyData()||{},o={latency_millis:a.latency,cache_info:{notCached:{}}};this.emitOnce(Q,t,n,a,o),e.isLive||this.checkProgressTentpoles(r,i,t,n)}},t.checkProgressTentpoles=function(e,t,n,r){var i=this;bt.forEach((function(a){var o=a.progress*e;t>=o-1e3&&t<=o+1e3&&i.emitOnce(a.event,n,r)}))},t.emitOnce=function(e,t,n,r,i){t[e]||(this.analytics.emit(e,n,r,i),t[e]=!0)},e}(),Tt=[0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100],Ot=((s={})[me]=2,s[pe]=3,s[_e]=1,s[he]=1,s[fe]=1,s[ve]=5,s[de]=1,s),It=function(){function e(e){this.analytics=e,this.sessionDataStore={},this.analytics.on(ne,this.onTickEvent.bind(this)),this.analytics.on(P,this.onFullscreenEvent.bind(this)),this.analytics.on(Z,this.onShrinkEvent.bind(this)),this.analytics.on(re,this.onTrackFinishedEvent.bind(this)),this.analytics.on(T,this.onTrackInterrupt.bind(this)),this.analytics.on(te,this.onTrackInterrupt.bind(this))}var t=e.prototype;return t.onTickEvent=function(e){var t=Ee(e);if(void 0!==t){var n=this.getOrCreateNewSessionDataForTrack(t,e);e.isScrubbing?n.currentTimeMs=t.currentTimeMs:this.updateViewData(t,n,e)}},t.onFullscreenEvent=function(e){var t=Ee(e);void 0!==t&&(this.getOrCreateNewSessionDataForTrack(t,e).isFullscreenMode=!0)},t.onShrinkEvent=function(e){var t=Ee(e);void 0!==t&&(this.getOrCreateNewSessionDataForTrack(t,e).isFullscreenMode=!1)},t.onTrackFinishedEvent=function(e){var t=Ee(e);if(void 0!==t){var n=this.sessionDataStore[t.id];if(void 0!==n)if(t.shouldLoop)n.currentTimeMs=0;else{if(n.timeWatchedMs>0){var r=this.constructVideoSessionDetails(n,t);this.emitVideoSessionEvent(e,r)}this.sessionDataStore[t.id]=void 0}}},t.onTrackInterrupt=function(e){var t=Ee(e);if(void 0!==t){var n=this.sessionDataStore[t.id];if(void 0!==n){if(n.timeWatchedMs>0){var r=this.constructVideoSessionDetails(n,t);this.emitVideoSessionEvent(e,r)}this.sessionDataStore[t.id]=void 0}}},t.getOrCreateNewSessionDataForTrack=function(e,t){var n=this.sessionDataStore[e.id];return void 0===n&&(n={sizesInfoAtTheStart:t.sizesInfo,currentTimeMs:e.currentTimeMs,isFullscreenMode:!1,timeWatchedMs:0,timeWatchedFullscreenMs:0,timeWatchedWithAudioMs:0,timeWatchedFullscreenWithAudioMs:0,watchedMsByInViewPct:this.generateNewAggregateHistogram(),watchedWithAudioMsByInViewPct:this.generateNewAggregateHistogram(),watchedMsByViewportPct:this.generateNewAggregateHistogram(),maxContinuousWatchedMsByInViewPct:this.generateNewMaxContinuousHistogram(),maxContinuousWatchedWithAudioMsByInViewPct:this.generateNewMaxContinuousHistogram()},this.sessionDataStore[e.id]=n),n},t.generateNewAggregateHistogram=function(){for(var e,t={},n=b(Tt);!(e=n()).done;){t[e.value]=0}return t},t.generateNewMaxContinuousHistogram=function(){for(var e,t={},n=b(Tt);!(e=n()).done;){t[e.value]={current:0,max:0}}return t},t.resetContinuousViewDataForHistogram=function(e){for(var t,n=b(Tt);!(t=n()).done;){var r=t.value;this.resetContinuousViewDataForBucket(e[r])}},t.resetContinuousViewDataForBucket=function(e){e.max=Math.max(e.current,e.max),e.current=0},t.updateViewData=function(e,t,n){var r=e.currentTimeMs-t.currentTimeMs,i=t.isFullscreenMode?1:n.percentVisible,a=t.isFullscreenMode?1:n.percentOfViewportOccupied;t.currentTimeMs=e.currentTimeMs,r<0||(t.timeWatchedMs+=r,this.updateAggregateHistogram(t.watchedMsByInViewPct,i,r),this.updateAggregateHistogram(t.watchedMsByViewportPct,a,r),this.updateMaxContinuousHistogram(t.maxContinuousWatchedMsByInViewPct,i,r),n.isMuted?this.resetContinuousViewDataForHistogram(t.maxContinuousWatchedWithAudioMsByInViewPct):(t.timeWatchedWithAudioMs+=r,this.updateAggregateHistogram(t.watchedWithAudioMsByInViewPct,i,r),this.updateMaxContinuousHistogram(t.maxContinuousWatchedWithAudioMsByInViewPct,i,r)),t.isFullscreenMode&&(t.timeWatchedFullscreenMs+=r,n.isMuted||(t.timeWatchedFullscreenWithAudioMs+=r)))},t.updateAggregateHistogram=function(e,t,n){if(0!==t)for(var r,i=100*t,a=b(Tt);!(r=a()).done;){var o=r.value;i>=o&&(e[o]+=n)}},t.updateMaxContinuousHistogram=function(e,t,n){if(0!==t)for(var r,i=100*t,a=b(Tt);!(r=a()).done;){var o=r.value;i>=o?e[o].current+=n:e[o].current>0&&this.resetContinuousViewDataForBucket(e[o])}else this.resetContinuousViewDataForHistogram(e)},t.constructVideoSessionDetails=function(e,t){return{video_details:{is_preroll_video:t.displayType===ue,video_length:Math.round(t.durationMs),time_watched:Math.round(e.timeWatchedMs),time_watched_fullscreen:Math.round(e.timeWatchedFullscreenMs),time_watched_with_audio:Math.round(e.timeWatchedWithAudioMs),time_watched_fullscreen_with_audio:Math.round(e.timeWatchedFullscreenWithAudioMs),time_watched_100_with_audio:Math.round(e.watchedWithAudioMsByInViewPct[100]),video_type:Ot[t.contentType],watched_ms_by_in_view_pct:this.constructAggregateHistogramPayload(e.watchedMsByInViewPct),watched_with_audio_ms_by_in_view_pct:this.constructAggregateHistogramPayload(e.watchedWithAudioMsByInViewPct),watched_ms_by_viewport_pct:this.constructAggregateHistogramPayload(e.watchedMsByViewportPct),max_continuous_watched_ms_by_in_view_pct:this.constructMaxContinuousHistogramPayload(e.maxContinuousWatchedMsByInViewPct),max_continuous_watched_with_audio_ms_by_in_view_pct:this.constructMaxContinuousHistogramPayload(e.maxContinuousWatchedWithAudioMsByInViewPct),sizes_info_at_the_start:{viewport_size:e.sizesInfoAtTheStart.viewportSize,ad_size:e.sizesInfoAtTheStart.mediaSize}}}},t.constructAggregateHistogramPayload=function(e){for(var t,n={},r=b(Tt);!(t=r()).done;){var i=t.value;n[i]=Math.round(e[i])}return{histogram:n}},t.constructMaxContinuousHistogramPayload=function(e){for(var t,n={},r=b(Tt);!(t=r()).done;){var i=t.value,a=e[i];n[i]=Math.round(Math.max(a.current,a.max))}return{histogram:n}},t.emitVideoSessionEvent=function(e,t){this.analytics.emit(ae,e,t)},e}(),St=[se,G,ce,U,A,N,j,oe,B],wt=[U,N,j,oe],Pt=function(){function e(e){this.analytics=e,this.eventMap={},this.analytics.on(ne,this.onTickEvent.bind(this)),this.analytics.on(re,this.onTrackFinishedEvent.bind(this)),this.analytics.on(F,this.onPauseEvent.bind(this))}var t=e.prototype;return t.onTrackFinishedEvent=function(e){var t=Ee(e);if(void 0!==t){var n=this.eventMap[t.id];void 0!==n&&(t.shouldLoop?n.timePlayedToMs=0:this.eventMap[t.id]=void 0)}},t.onPauseEvent=function(e){this.resetContinuousViewEventTimingData(e)},t.onTickEvent=function(e){var t=Ee(e);if(void 0!==t){var n=this.eventMap[t.id];if(void 0===n){n={timePlayedToMs:t.currentTimeMs};for(var r,i=b(St);!(r=i()).done;){n[r.value]={timePlayedMs:0,visibilityWeightedTimePlayedMs:0,fired:!1}}this.eventMap[t.id]=n}e.isScrubbing?(n.timePlayedToMs=t.currentTimeMs,this.resetContinuousViewEventTimingData(e)):(this.updateTimingData(t,n,e),this.checkViewEvents(t,n,e)),this.checkPlayFromTap(n,e)}},t.updateTimingData=function(e,t,n){var r=e.currentTimeMs-t.timePlayedToMs;t.timePlayedToMs=e.currentTimeMs;var i=n.percentVisible;i>=1&&(t[ce].timePlayedMs+=r),i>=1?t[U].timePlayedMs+=r:t[U].timePlayedMs=0,i>=.5&&Ie(n)?t[N].timePlayedMs+=r:t[N].timePlayedMs=0,i>=.5?t[j].timePlayedMs+=r:t[j].timePlayedMs=0,i>=1&&!n.isMuted&&(t[A].timePlayedMs+=r),i>=.5?t[oe].timePlayedMs+=r:t[oe].timePlayedMs=0,t[B].timePlayedMs+=r,i>=.5&&(t[B].visibilityWeightedTimePlayedMs+=i*r)},t.resetContinuousViewEventTimingData=function(e){var t=this.eventMap[e.currentTrackId];if(void 0!==t)for(var n,r=b(wt);!(n=r()).done;){t[n.value].timePlayedMs=0}},t.checkViewEvents=function(e,t,n){var r;t[ce].timePlayedMs>=(!(r=e).isLive&&r.durationMs>0&&!r.shouldLoop?Math.min(r.durationMs-500,3e3):3e3)&&(this.emitOnce(ce,t,n),this.emitOnce(se,t,n)),t[U].timePlayedMs>=1e3&&this.emitOnce(U,t,n),t[A].timePlayedMs>=function(e){return!e.isLive&&e.durationMs>0?.5*e.durationMs:Number.MAX_SAFE_INTEGER}(e)&&this.emitOnce(A,t,n),t[N].timePlayedMs>=2e3&&this.emitOnce(N,t,n),t[j].timePlayedMs>=2e3&&this.emitOnce(j,t,n),t[oe].timePlayedMs>=function(e){return!e.isLive&&e.durationMs>0?Math.min(.95*e.durationMs,1e4):1e4}(e)&&this.emitOnce(oe,t,n);var i=t[B];i.timePlayedMs>=function(e){return!e.isLive&&e.durationMs>0?Math.min(.95*e.durationMs,6e3):6e3}(e)&&i.visibilityWeightedTimePlayedMs>=function(e){return!e.isLive&&e.durationMs>0?Math.min(.5*e.durationMs,3e3):3e3}(e)&&this.emitOnce(B,t,n)},t.checkPlayFromTap=function(e,t){t.isPlaying&&!t.isPreview&&(this.emitOnce(G,e,t),this.emitOnce(se,e,t))},t.emitOnce=function(e,t,n){t[e].fired||(this.analytics.emit(e,n),t[e].fired=!0)},e}(),At=function(e){function t(t,n,r,i){var a;(a=e.call(this)||this).scribeListener=new ht(u()(a),t,i),a.promotedLogListener=new Qe(u()(a),n),a.tentpoleListener=new Et(u()(a)),a.viewListener=new Pt(u()(a)),a.playbackLapseListener=new ze(u()(a)),a.errorListener=new Ae(u()(a)),a.beaconListener=new we(u()(a)),a.rewindListener=new Xe(u()(a)),a.heartbeatListener=new Ce(u()(a)),a.loopListener=new Ne(u()(a)),a.intendToPlayListener=new Me(u()(a)),a.videoSessionListener=new It(u()(a)),a.ctaImpressionListener=new Pe(u()(a));var o=new Ge(r,i),s=new We(o);return a.lifecycleListener=new He(u()(a),s),a}d()(t,e);var n=t.prototype;return n.onTickEvent=function(e){this.emit(ne,e)},n.onReplay=function(e){var t=Ee(e);void 0!==t&&(t.shouldLoop||this.emit(X,e))},n.onTrackFinished=function(e){this.emit(re,e)},n.onIntendToPlay=function(e){this.emit(L,e)},n.onPlay=function(e){this.emit(V,e)},n.onPause=function(e){this.emit(F,e)},n.onMute=function(e){this.emit(x,e)},n.onUnmute=function(e){this.emit(ie,e)},n.onFullScreen=function(e){this.emit(P,e)},n.onShrink=function(e){this.emit(Z,e)},n.onAdSkip=function(e){this.emit(T,e)},n.onCtaImpression=function(e){this.emit(S,e)},n.onCtaClick=function(e){this.emit(I,e)},n.onConfigLoaded=function(e){this.emit(O,e)},n.onError=function(e,t){this.emit(w,e,t)},n.onTeardown=function(e){this.emit(te,e)},t}(m.a);t.a=At},1519:function(e,t,n){n(9)({target:"Array",stat:!0},{isArray:n(144)})},1520:function(e,t,n){n(9)({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},1521:function(e,t,n){var r=n(65),i=Date.prototype,a=i.toString,o=i.getTime;new Date(NaN)+""!="Invalid Date"&&r(i,"toString",(function(){var e=o.call(this);return e==e?a.call(this):"Invalid Date"}))},1522:function(e,t,n){n(9)({target:"Function",proto:!0},{bind:n(554)})},1523:function(e,t,n){n(9)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},1524:function(e,t,n){var r=n(9),i=n(18),a=n(393),o=[].slice,s=function(e){return function(t,n){var r=arguments.length>2,i=r?o.call(arguments,2):void 0;return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};r({global:!0,bind:!0,forced:/MSIE .\./.test(a)},{setTimeout:s(i.setTimeout),setInterval:s(i.setInterval)})},1525:function(e,t,n){var r=n(1526),i=n(1527),a=i;a.v1=r,a.v4=i,e.exports=a},1526:function(e,t,n){var r,i,a=n(846),o=n(847),s=0,c=0;e.exports=function(e,t,n){var u=t&&n||0,l=t||[],d=(e=e||{}).node||r,p=void 0!==e.clockseq?e.clockseq:i;if(null==d||null==p){var f=a();null==d&&(d=r=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==p&&(p=i=16383&(f[6]<<8|f[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),y=void 0!==e.nsecs?e.nsecs:c+1,v=h-s+(y-c)/1e4;if(v<0&&void 0===e.clockseq&&(p=p+1&16383),(v<0||h>s)&&void 0===e.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,c=y,i=p;var m=(1e4*(268435455&(h+=122192928e5))+y)%4294967296;l[u++]=m>>>24&255,l[u++]=m>>>16&255,l[u++]=m>>>8&255,l[u++]=255&m;var _=h/4294967296*1e4&268435455;l[u++]=_>>>8&255,l[u++]=255&_,l[u++]=_>>>24&15|16,l[u++]=_>>>16&255,l[u++]=p>>>8|128,l[u++]=255&p;for(var g=0;g<6;++g)l[u+g]=d[g];return t||o(l)}},1527:function(e,t,n){var r=n(846),i=n(847);e.exports=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;s<16;++s)t[a+s]=o[s];return t||i(o)}},1528:function(e,t,n){"use strict";(function(e){n(50),n(34),n(20),n(69),n(40),n(51),n(33),n(30),n(378),n(23);var r=n(5),i=n.n(r),a=n(3),o=n.n(a),s=n(1),c=n.n(s),u=n(740),l=n(743),d=n(778),p=n(764),f=n(1544),h=n(853),y=n(752),v=n(747),m=n(753),_=n(1542),g=n(1543),b=n(763),E=n(1554),T=n(785),O=n(1529),I=n.n(O),S=n(1555),w=n(852),P=n(745),A=n(757),D=n(749),R=n(816),C=n(758);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=function(){function t(n){var r=this,a=n.source,o=void 0===a?{}:a,s=n.videoConfig,l=n.domElement,O=n.httpClient,S=n.twitterAuthedHttpClient,k=n.options,M=void 0===k?{}:k;i()(this,t),c()(this,"teardown",(function(){r.broadcastUpdater&&r.broadcastUpdater.cancelUpdate(),r.unsubscribeCalls.forEach((function(e){e()})),r.unsubscribeCalls=[],Object(w.c)(r.id),r.source=void 0,r.session=void 0,void 0!==r.hydraExperienceId&&E.a.dispatch(Object(R.teardownExperience)(r.hydraExperienceId)),r.video&&r.video.teardown(),E.a.dispatch(Object(T.c)(r.id)),Object(A.h)(r.id),r.logger.clearLogs(),r.rejectPlayerReadyPromise()})),c()(this,"play",(function(){return r.initiallyMuted?r.playPreview():r.playerReadyPromise.then((function(){r._dispatch(u.O(r.id))})),r})),c()(this,"pause",(function(){return r.playerReadyPromise.then((function(){r._dispatch(u.N(r.id))})),r})),c()(this,"replay",(function(){return r.playerReadyPromise.then((function(){r._dispatch(u.Q(r.id))})),r})),c()(this,"mute",(function(){return r.playerReadyPromise.then((function(){r._dispatch(u.M(r.id))})),r})),c()(this,"unmute",(function(){return r.playerReadyPromise.then((function(){r._dispatch(u.S(r.id))})),r})),c()(this,"scrubToFraction",(function(e){return r.playerReadyPromise.then((function(){r._dispatch(u.R(r.id,e))})),r})),c()(this,"setVolume",(function(e){return r.playerReadyPromise.then((function(){r._dispatch(u.T(r.id,e))})),r})),c()(this,"setPlaybackTimeRange",(function(e){var t=e.startTimeS,n=e.endTimeS;return r.playerReadyPromise.then((function(){t<=0&&n>=r.video.getVideoTag().duration?r._dispatch(u.F(r.id)):r._dispatch(u.P(r.id,t,n))})),r})),c()(this,"fullScreen",(function(e){var t=e||r.domElement;return E.a.dispatch(Object(C.f)(r.id,t,r.video.getVideoTag())),r})),c()(this,"exitFullScreen",(function(){return E.a.dispatch(Object(C.g)(r.id)),r})),c()(this,"hideControls",(function(){return r.playerReadyPromise.then((function(){r._dispatch(u.I(r.id))})),r})),c()(this,"showControls",(function(){return r.playerReadyPromise.then((function(){r._dispatch(u.U(r.id))})),r})),c()(this,"playPreview",(function(){return r.playerReadyPromise.then((function(){r._dispatch(Object(D.f)(r.id)),r.initiallyMuted&&(r.initiallyMuted=!1)})),r})),c()(this,"pausePreview",(function(){return r.playerReadyPromise.then((function(){r._dispatch(Object(D.e)(r.id))})),r})),c()(this,"objectFitVideo",(function(e){return-1!==v.c.indexOf(e)&&r.video&&(r.video.objectFitVideo=e),r})),c()(this,"toggleCaptions",(function(){return r.playerReadyPromise.then((function(){var e=E.a.getState(),t=e&&e.players&&e.players[r.id],n=!(!t||!t.areCaptionsShown);r._dispatch(n?u.K(r.id,!0):u.L(r.id,!0))})),r})),c()(this,"nextTrack",(function(){return r.playerReadyPromise.then((function(){r._dispatch(Object(y.n)(r.id))})),r})),c()(this,"triggerError",(function(e){var t=new Error(e||"synthetic");return E.a.dispatch(Object(m.h)(r.id,t)),r})),c()(this,"reload",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.requestedTimecode,n=e.autoPlay,i=void 0!==n&&n;r.playerReadyPromise=new Promise((function(e,t){r.resolvePlayerReadyPromise=e,r.rejectPlayerReadyPromise=t})).catch((function(){}));var a=E.a.getState()||{players:{}},o=a.players[r.id],s=-1;if(o){if(void 0!==t)r.playerOptions.requestedTimecode=t;else if(0===o.currentTrackId){var c=Object(p.b)(o);s=c.currentTimeMs/1e3}var l=o.isPreview,d=o.isPlaying,f=o.isMuted,h=d||i;r.playerReadyPromise.then((function(){l?h?r._dispatch(Object(D.f)(r.id)):r._dispatch(Object(D.e)(r.id)):(h&&r._dispatch(u.O(r.id)),f&&r._dispatch(u.M(r.id)))}))}return r.video&&r.video.teardownPlayer(),E.a.dispatch(r._reloadPlayer(r.id,r.source,r.videoConfig,r.session,r.resolvePlayerReadyPromise,r.rejectPlayerReadyPromise,L(L({},r.playerOptions),{},{reloadTimecode:s}),r.logger)),r})),c()(this,"on",(function(e,t){return Object.keys(d.a).forEach((function(n){d.a[n]===e&&Object(w.a)(r.id,e,t)})),r})),c()(this,"updatePosition",(function(e){var t=e.percentVisible,n=e.percentOfViewportOccupied,i=e.sizesInfo;return r.playerReadyPromise.then((function(){r._dispatch(u.V(r.id,t,n,i))})),r})),c()(this,"callToActionClicked",(function(){return r.playerReadyPromise.then((function(){r._dispatch(u.D(r.id))})),r})),c()(this,"callToActionImpression",(function(){return r.playerReadyPromise.then((function(){r._dispatch(u.E(r.id))})),r})),c()(this,"liveClickthroughClicked",(function(){return r.playerReadyPromise.then((function(){r._dispatch(u.J(r.id))})),r})),c()(this,"subscribe",(function(e){var t=E.a.getState(),n=r._getPlayerState(t),i=r._getHydraState(t),a=E.a.subscribe((function(){var t=E.a.getState(),a=r._getPlayerState(t),o=r._getHydraState(t);void 0!==a&&(n!==a||i!==o)&&(n=a,i=o,e(a,o))}));return r.unsubscribeCalls.push(a),a})),c()(this,"onStoreUpdate",(function(e){e.errorInfo.autoRetry&&setTimeout((function(){r.reload()}),e.errorInfo.backoffMs||0)})),this.id=t.id,t.id+=1,this.unsubscribeCalls=[],this.source=o,this.videoConfig=s,this.session={id:I()()},this.playbackSessionId=M.playbackSessionId,this.initiallyMuted=M.initiallyMuted,this._reloadPlayer=P.j,this.playerReadyPromise=new Promise((function(e,t){r.resolvePlayerReadyPromise=e,r.rejectPlayerReadyPromise=t})).then(Promise.resolve()).catch((function(){})),M.autoplay&&this.play(),this.logger=new h.a(this.id),e.env.VIDEO_PLAYER_DEBUG&&(h.a.debuggingEnabled=!0),Object(A.f)(this.id,new _.a(new g.a(O)),new _.a(new g.a(S||O)),this.logger,new f.a,M.featureProvider),this.subscribe(this.onStoreUpdate),this.source.type!==b.a.BROADCAST&&this.source.type!==b.a.STATIC_BROADCAST||(this.hydraExperienceId=M.hydraExperienceId=E.a.dispatch(Object(R.registerExperience)())),this.options=M;var N=-1,j=this.playbackSessionId?Object(A.g)(this.playbackSessionId):void 0;j&&(this.options.videoEl=M.videoEl||j.videoEl,N=j.reloadTimecode);var x=this.options,U=x.bitrateCap,B=x.featureProvider,F=x.includeBroadcastEventAssociation,V=x.initiallyMutedCaptions,G=x.intentToPlayTime,W=x.maxLoopCount,Y=x.promotedContext,H=x.requestedTimecode,z=x.showGeolocationPrompt;this.playerOptions={bitrateCap:U,featureProvider:B,includeBroadcastEventAssociation:F,initiallyMutedCaptions:V,intentToPlayTime:G,maxLoopCount:W,promotedContext:Y,reloadTimecode:N,requestedTimecode:H,showGeolocationPrompt:z},E.a.dispatch(Object(P.g)(this.id,o,s,this.session,M.analytics,M.adProvider,this.resolvePlayerReadyPromise,this.rejectPlayerReadyPromise,this.playerOptions,this.logger)).then((function(e){r.broadcastUpdater=e})),l&&this.attach(l)}return o()(t,[{key:"attach",value:function(e){this.video||(this.domElement=e,this.video=new S.a(this.domElement,this.id,E.a,this.reload,this.logger,this.options))}},{key:"_getPlayerState",value:function(e){if(e.players)return e.players[this.id]}},{key:"_getHydraState",value:function(e){if(void 0!==this.hydraExperienceId&&e.hydraExperiences)return e.hydraExperiences[this.hydraExperienceId]}},{key:"_dispatch",value:function(e){var t=E.a.getState();this._getPlayerState(t)?E.a.dispatch(e):this.triggerError(l.a.MEDIA_TEARDOWN_ERROR)}}]),t}();c()(M,"id",0),t.a=M}).call(this,n(38))},1529:function(e,t,n){var r=n(1530),i=n(1531);e.exports=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;s<16;++s)t[a+s]=o[s];return t||i(o)}},1530:function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},1531:function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},1532:function(e,t,n){"use strict";var r=n(14);n(100),n(174),n(1533),n(1535),n(33),t.__esModule=!0,t.default=t.registerExperience=t.REGISTER_EXPERIENCE=void 0;var i=r(n(64)),a=n(851);t.REGISTER_EXPERIENCE="REGISTER_EXPERIENCE";t.registerExperience=function(){return{type:"REGISTER_EXPERIENCE"}};t.default=function(e){return function(t){return function(n){switch(n.type){case"REGISTER_EXPERIENCE":var r=e.getState(),o=Object.keys(r.hydraExperiences||{}).map((function(e){return Number.parseInt(e,10)})),s=Math.max.apply(Math,(0,i.default)(o))+1;return Number.isFinite(s)||(s=0),e.dispatch((0,a.initializeExperience)(s)),s;default:return t(n)}}}}},1533:function(e,t,n){n(9)({target:"Number",stat:!0},{isFinite:n(1534)})},1534:function(e,t,n){var r=n(18).isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&r(e)}},1535:function(e,t,n){var r=n(9),i=n(558);r({target:"Number",stat:!0,forced:Number.parseInt!=i},{parseInt:i})},1536:function(e,t,n){"use strict";n(87),n(33),t.__esModule=!0,t.combineReducers=void 0;t.combineReducers=function(e){return function(t,n){return Object.keys(e).reduce((function(r,i){return r[i]=e[i](t[i],n),r}),{})}}},1537:function(e,t,n){var r=n(555),i=n(553),a=n(394),o=n(556);e.exports=function(e){return r(e)||i(e)||a(e)||o()}},1538:function(e,t,n){"use strict";(function(e,r){var i,a=n(1540);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var o=Object(a.a)(i);t.a=o}).call(this,n(46),n(1539)(e))},1539:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},1540:function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},1541:function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(46))},1542:function(e,t,n){"use strict";n(52);var r=n(5),i=n.n(r),a=n(3),o=n.n(a),s=n(765),c={},u=function(){function e(t){i()(this,e),this.httpClient=t}return o()(e,[{key:"dispatch",value:function(e){if("get"===e.method.toLowerCase()){var t=e.params?Object(s.b)(e.params):"",n=t?"?".concat(t):"",r="".concat(e.host).concat(e.path).concat(n);return c[r]||(c[r]=this.httpClient.dispatch(e).then((function(e){return delete c[r],e})).catch((function(e){throw delete c[r],e}))),c[r]}return this.httpClient.dispatch(e)}}]),e}();t.a=u},1543:function(e,t,n){"use strict";n(30),n(378);var r=n(5),i=n.n(r),a=n(3),o=n.n(a),s=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;i()(this,e),this.httpClient=t,this.backOffMSec=n}return o()(e,[{key:"dispatch",value:function(e){var t=this;return new Promise((function(n,r){t._dispatchOnce(0,n,r,e)}))}},{key:"_dispatchOnce",value:function(e,t,n,r){var i=this;this.httpClient.dispatch(r).then((function(a){i._handleResponse(e,t,n,r,a)})).catch((function(a){i._handleReject(e,t,n,r,a)}))}},{key:"_handleResponse",value:function(e,t,n,r,i){var a=this,o=!1;switch(i.status){case 404:case 425:case 429:case 500:case 502:case 503:case 504:case 508:o=!0}!o||e>=3?t(i):setTimeout((function(){a._dispatchOnce(e+1,t,n,r)}),this._backOffMSec(e))}},{key:"_handleReject",value:function(e,t,n,r,i){var a=this;e>=3?n(i):setTimeout((function(){a._dispatchOnce(e+1,t,n,r)}),this._backOffMSec(e))}},{key:"_backOffMSec",value:function(e){var t=this.backOffMSec,n=Math.pow(3,e)*t;return t+Math.random()*(n-t)}}]),e}();t.a=s},1544:function(e,t,n){"use strict";var r=n(5),i=n.n(r),a=n(3),o=n.n(a),s=function(){function e(){i()(this,e),this.byteAccumulator=0}return o()(e,[{key:"add",value:function(e){this.byteAccumulator+=e}},{key:"getAndReset",value:function(){var e=this.byteAccumulator;return this.byteAccumulator=0,e}}]),e}();t.a=s},1545:function(e,t,n){e.exports=n(1546)},1546:function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),o=new O(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return S()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=b(o,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,o),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var l={};function d(){}function p(){}function f(){}var h={};h[i]=function(){return this};var y=Object.getPrototypeOf,v=y&&y(y(I([])));v&&v!==t&&n.call(v,i)&&(h=v);var m=f.prototype=d.prototype=Object.create(h);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){var r;this._invoke=function(i,a){function o(){return new t((function(r,o){!function r(i,a,o,s){var c=u(e[i],e,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,s)}))}s(c.arg)}(i,a,r,o)}))}return r=r?r.then(o,o):o()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function I(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=m.constructor=f,f.constructor=p,p.displayName=s(f,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},_(g.prototype),g.prototype[a]=function(){return this},e.AsyncIterator=g,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new g(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(m),s(m,o,"Generator"),m[i]=function(){return this},m.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},1547:function(e,t){function n(e,t,n,r,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,c,"next",e)}function c(e){n(o,i,a,s,c,"throw",e)}s(void 0)}))}}},1548:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return i}));var i=function(){function e(){}return e.isAvailable=function(){return void 0===r&&(r="function"==typeof document.queryCommandSupported&&document.queryCommandSupported("copy")),r},e.getString=function(){return Promise.resolve("")},e.setString=function(e){var t=!1,n=document.body;if(n){var r=document.createElement("span");r.textContent=e,r.style.opacity="0",r.style.position="absolute",r.style.whiteSpace="pre-wrap",r.style.userSelect="auto",n.appendChild(r);var i=window.getSelection();i.removeAllRanges();var a=document.createRange();a.selectNodeContents(r),i.addRange(a);try{document.execCommand("copy"),t=!0}catch(e){}i.removeAllRanges(),n.removeChild(r)}return t},e}()},1554:function(e,t,n){"use strict";var r=n(819),i=n(749),a=n(740),o=n(785),s=n(780),c=n(854),u=n(745),l={},d=n(856),p=(n(376),n(757)),f=n(753),h=n(752),y={},v=n(779),m=n(758),_=n(852),g=(n(50),n(34),n(20),n(40),n(51),n(33),n(23),n(5)),b=n.n(g),E=n(3),T=n.n(E),O=n(1),I=n.n(O);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var w=function(){function e(t){var n=this;b()(this,e),I()(this,"onNativeFullscreenBegin",(function(){n.setFullscreen(!0)})),I()(this,"onNativeFullscreenEnd",(function(){n.setFullscreen(!1)})),I()(this,"onFullscreenChanged",(function(){var e=(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)===n.fullscreenTarget;e||(n.fullscreenTarget=void 0,n.removeDocumentListeners()),n.setFullscreen(e)})),I()(this,"expand",(function(e,t,r){t&&(n.expandTimeout=setTimeout((function(){n.setFullscreen(!1)}),1e3),n.fullscreenTarget&&(n.fullscreenTarget.removeEventListener("touchstart",n._swipeStart),n.fullscreenTarget.removeEventListener("transitionend",n._fullscreenTransitionEnd),n.setFullscreen(!1)),n.fullscreenTarget=t,n.playerId=e,n.addDocumentListeners(),t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.webkitEnterFullscreen?(n.addElementListeners(t),t.webkitEnterFullscreen()):(null==r?void 0:r.webkitEnterFullscreen)?(n.fullscreenTarget=r,n.addElementListeners(r),r.webkitEnterFullscreen()):(n.removeDocumentListeners(),n.removeElementListeners(),n.nonFullscreenStyle=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){I()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.style),n.nonFullscreenPosition=t.getBoundingClientRect(),t.style.position="fixed",t.style.width="".concat(n.nonFullscreenPosition.right-n.nonFullscreenPosition.left,"px"),t.style.height="".concat(n.nonFullscreenPosition.bottom-n.nonFullscreenPosition.top,"px"),t.style.top="".concat(n.nonFullscreenPosition.top,"px"),t.style.left="".concat(n.nonFullscreenPosition.left,"px"),t.style.zIndex="100",window.requestAnimationFrame((function(){t.style.transition="width 0.25s, height 0.25s, top 0.25s, left 0.25s",t.style.width="100%",t.style.height="100%",t.style.top="0",t.style.left="0",t.addEventListener("transitionend",n._fullscreenTransitionEnd)}))))})),I()(this,"shrink",(function(e){e===n.playerId&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen?document.msExitFullscreen():n.fullscreenTarget.webkitExitFullscreen?n.fullscreenTarget.webkitExitFullscreen():(n.fullscreenTarget.style.width="".concat(n.nonFullscreenPosition.right-n.nonFullscreenPosition.left,"px"),n.fullscreenTarget.style.height="".concat(n.nonFullscreenPosition.bottom-n.nonFullscreenPosition.top,"px"),n.fullscreenTarget.style.top="".concat(n.nonFullscreenPosition.top,"px"),n.fullscreenTarget.style.left="".concat(n.nonFullscreenPosition.left,"px"),n.fullscreenTarget.style.transition="width 0.25s, height 0.25s, top 0.25s, left 0.25s",n.fullscreenTarget.addEventListener("transitionend",n._shrinkTransitionEnd),n.fullscreenTarget.removeEventListener("touchstart",n._swipeStart)))})),I()(this,"_swipeStart",(function(e){n.addSwipeListeners(),n.touchStart=e.touches[0]})),I()(this,"_swipeMove",(function(e){e.preventDefault();var t=e.touches[0].pageY-n.touchStart.pageY;n.swipeVector=Math.abs(t);var r=t/n.swipeVector*Math.min(n.swipeVector,n.swipeVector/(n.swipeVector+3*n.fullscreenTarget.clientHeight/4)*n.fullscreenTarget.clientHeight*1/2);n.fullscreenTarget.style.top="".concat(r,"px")})),I()(this,"_swipeEnd",(function(){n.removeSwipeListeners(),n.swipeVector>n.fullscreenTarget.clientHeight/4?n.shrink(n.playerId):n.fullscreenTarget.style.top="0"})),I()(this,"_fullscreenTransitionEnd",(function(){n.fullscreenTarget.style.transition="",n.fullscreenTarget.removeEventListener("transitionend",n._fullscreenTransitionEnd),n.fullscreenTarget.addEventListener("touchstart",n._swipeStart),n.setFullscreen(!0)})),I()(this,"_shrinkTransitionEnd",(function(){n.fullscreenTarget.removeEventListener("transitionend",n._shrinkTransitionEnd),n.fullscreenTarget.style.transition="",n.fullscreenTarget.style.position=n.nonFullscreenStyle.position,n.fullscreenTarget.style.width=n.nonFullscreenStyle.width,n.fullscreenTarget.style.height=n.nonFullscreenStyle.height,n.fullscreenTarget.style.top=n.nonFullscreenStyle.top,n.fullscreenTarget.style.left=n.nonFullscreenStyle.left,n.fullscreenTarget.style.zIndex=n.nonFullscreenStyle.zIndex,n.setFullscreen(!1),n.fullscreenTarget=void 0})),this.fullscreenTarget=void 0,this.playerId=void 0,this.onChange=t,this.isFullscreen=!1}return T()(e,[{key:"addDocumentListeners",value:function(){document.addEventListener("webkitfullscreenchange",this.onFullscreenChanged),document.addEventListener("mozfullscreenchange",this.onFullscreenChanged),document.addEventListener("MSFullscreenChange",this.onFullscreenChanged),document.addEventListener("fullscreenchange",this.onFullscreenChanged)}},{key:"removeDocumentListeners",value:function(){document.removeEventListener("webkitfullscreenchange",this.onFullscreenChanged),document.removeEventListener("mozfullscreenchange",this.onFullscreenChanged),document.removeEventListener("MSFullscreenChange",this.onFullscreenChanged),document.removeEventListener("fullscreenchange",this.onFullscreenChanged)}},{key:"addSwipeListeners",value:function(){document.addEventListener("touchend",this._swipeEnd),document.addEventListener("touchmove",this._swipeMove)}},{key:"addElementListeners",value:function(e){e.addEventListener("webkitbeginfullscreen",this.onNativeFullscreenBegin),e.addEventListener("webkitendfullscreen",this.onNativeFullscreenEnd)}},{key:"removeElementListeners",value:function(){var e=this.fullscreenTarget;e&&(e.removeEventListener("webkitbeginfullscreen",this.onNativeFullscreenBegin),e.removeEventListener("webkitendfullscreen",this.onNativeFullscreenEnd),e.removeEventListener("transitionend",this._fullscreenTransitionEnd),e.removeEventListener("transitionend",this._shrinkTransitionEnd))}},{key:"removeSwipeListeners",value:function(){document.removeEventListener("touchend",this._swipeEnd),document.removeEventListener("touchmove",this._swipeMove)}},{key:"setFullscreen",value:function(e){clearTimeout(this.expandTimeout),this.onChange(this.playerId,e),e||(this.cleanup(),this.fullscreenTarget=void 0,this.playerId=void 0)}},{key:"cleanup",value:function(){clearTimeout(this.expandTimeout),this.removeDocumentListeners(),this.removeElementListeners(),this.removeSwipeListeners()}}]),e}(),P=(n(398),n(855));function A(e){Object(P.b)("captions",e)}n(379);var D=n(747),R=n(818),C=R.a.BUFFERING_COMPLETED,k=R.a.BUFFERING_REQUESTED,L=R.a.IDLE,M=R.a.PREBUFFERING_COMPLETED,N=function(e,t,n){Object.keys(t).forEach((function(r){r=parseInt(r,10);var i=(null==t?void 0:t[r])||{},a=i.bufferingStatus,o=i.controls,s=i.isPlaying,c=void 0!==a,u=a===C,l=a===M,d="PLAY_REQUESTED"===(null==o?void 0:o.playState)||s;!u&&!d&&c&&r!==n&&!l&&e.dispatch(Object(R.f)(r,L,0))}))};function j(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}var x=j();x.withExtraArgument=j;var U=x,B=n(1541),F="object"==typeof self&&self&&self.Object===Object&&self,V=(B.a||F||Function("return this")()).Symbol,G=Object.prototype,W=G.hasOwnProperty,Y=G.toString,H=V?V.toStringTag:void 0;var z=function(e){var t=W.call(e,H),n=e[H];try{e[H]=void 0;var r=!0}catch(e){}var i=Y.call(e);return r&&(t?e[H]=n:delete e[H]),i},K=Object.prototype.toString;var q=function(e){return K.call(e)},J=V?V.toStringTag:void 0;var Q=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":J&&J in Object(e)?z(e):q(e)};var X=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object);var $=function(e){return null!=e&&"object"==typeof e},Z=Function.prototype,ee=Object.prototype,te=Z.toString,ne=ee.hasOwnProperty,re=te.call(Object);var ie=function(e){if(!$(e)||"[object Object]"!=Q(e))return!1;var t=X(e);if(null===t)return!0;var n=ne.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&te.call(n)==re},ae=n(1538),oe="@@redux/INIT";function se(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function ce(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var le=n(816),de=n.n(le),pe=[function(e){return function(t){return function(n){switch(n.type){case u.c:l[n.playerId]=function(){return"function"==typeof n.adProvider?n.adProvider():{}};break;case o.a:delete l[n.playerId];break;case a.p:case i.c:var d,p=e.getState().players[n.playerId],f=null==p||null===(d=p.features)||void 0===d?void 0:d[s.e];if(p&&!p.adLoaded&&l[n.playerId]&&!f)return t(Object(c.d)(n.playerId,l[n.playerId],n.type===i.c));break;case u.b:var h=e.dispatch(Object(r.b)(n.playerId,s.e));if(l[n.playerId]&&h){var y=l[n.playerId]();e.dispatch(Object(c.b)(n.playerId,y))}}return t(n)}}},function(e){return function(t){return function(n){switch(n.type){case i.c:var r=Object(v.c)(e,n.playerId)||{},o=r.initiallyMutedCaptions,s=r.userSpecifiedCaptions;o&&!s&&e.dispatch(Object(a.L)(n.playerId,!1));break;case a.p:case a.r:case a.t:case a.u:case a.s:case m.b:var c=Object(v.c)(e,n.playerId)||{},u=c.isPreview,l=c.userSpecifiedCaptions;u&&!l&&e.dispatch(Object(a.K)(n.playerId,!1))}return t(n)}}},r.a,function(e){var t=new w((function(t,n){e.dispatch(Object(m.h)(t,n))}));return function(n){return function(r){var i=e.getState().players[r.playerId],a=r.type;return!i||a!==m.b&&a!==m.c||(a===m.b?(e.dispatch(Object(m.h)(r.playerId,!0)),t.expand(r.playerId,r.containerEl,r.videoEl)):t.shrink(r.playerId)),n(r)}}},function(e){return function(t){return function(n){switch(n.type){case u.c:switch(e.dispatch(Object(a.T)(n.playerId,(i=parseFloat(Object(P.a)("volume")),isNaN(i)?1:i))),function(){var e,t=Object(P.a)("captions");if("ENABLED"===(e=t)||"DISABLED"===e)return t}()){case"ENABLED":e.dispatch(Object(a.L)(n.playerId,!0));break;case"DISABLED":e.dispatch(Object(a.K)(n.playerId,!0))}break;case a.B:(r=n.volume)>=0&&null!==r&&Object(P.b)("volume",r);break;case a.m:n.isUserSet&&A("ENABLED");break;case a.l:n.isUserSet&&A("DISABLED")}var r,i;return t(n)}}},function(e){return function(t){return function(n){var r,o=e.getState().players,c=o[n.playerId],u=c||{},l=u.bufferingStatus,d=u.targetDuration,p=null==c||null===(r=c.features)||void 0===r?void 0:r[s.d];switch(n.type){case i.b:case a.o:if(p&&void 0!==l){e.dispatch(Object(R.f)(n.playerId,M));var f=Object(v.b)(o,(function(e){return(null==e?void 0:e.bufferingStatus)===L&&(null==e?void 0:e.targetDuration)}));if(void 0!==f){var h=f.targetDuration*D.b;e.dispatch(Object(R.h)(f.playerId,h))}}break;case i.c:case a.p:if(p&&void 0!==l)if(!(l===C)){if(d){var y=d*D.b;e.dispatch(Object(R.h)(n.playerId,y))}N(e,o,n.playerId)}break;case R.c:if(p)if(n.bufferingStatus===k)N(e,o,n.playerId);else if(n.bufferingStatus===M||n.bufferingStatus===C){var m=Object(v.b)(o,(function(e){return(null==e?void 0:e.bufferingStatus)===L&&(null==e?void 0:e.targetDuration)}));if(void 0!==m){var _=m.targetDuration*D.b;e.dispatch(Object(R.h)(m.playerId,_))}}break;case R.d:if(n.targetDuration&&p){var g=Object(v.b)(o,(function(e){return(null==e?void 0:e.bufferingStatus)===k}));if(void 0===g||l===k){var b=n.targetDuration*D.b;e.dispatch(Object(R.h)(n.playerId,b))}else g.playerId!==n.playerId&&e.dispatch(Object(R.f)(n.playerId,L,0))}else if(n.targetDuration){var E=n.targetDuration*D.b;e.dispatch(Object(R.h)(n.playerId,E))}}return t(n)}}},function(e){return function(t){return function(n){if(void 0!==n.playerId&&Object(p.d)(n.playerId,(function(e){e.log("redux",n.type)})),n.type===u.c)return y[n.playerId]=n.analytics,t(n);var r=e.getState().players[n.playerId];if(!r)return t(n);var s=t(n),c=e.getState().players[n.playerId],l=y[n.playerId];if(void 0!==l){switch(n.type){case h.e:case a.A:l.onTickEvent(c);break;case h.f:l.onTrackFinished(r),c.currentTrackId!==r.currentTrackId&&l.onIntendToPlay(c);break;case h.c:var d=r.tracks.find((function(e){return e.id===r.currentTrackId}));"ad"!==d.displayType||d.playbackCompleted||l.onAdSkip(r),c.currentTrackId!==r.currentTrackId&&l.onIntendToPlay(c);break;case a.p:case i.c:l.onIntendToPlay(c);break;case a.r:l.onReplay(c);break;case a.B:r.isMuted&&!c.isMuted?l.onUnmute(r):!r.isMuted&&c.isMuted&&l.onMute(r);break;case a.b:l.onCtaClick(r);break;case a.c:l.onCtaImpression(r);break;case o.a:l.onTeardown(r),delete y[n.playerId];break;case u.b:l.onConfigLoaded(c);break;case f.a:case f.c:var v,m=c.errorInfo,_=m.autoRetry?m.count:void 0;v=n.type===f.a||n.type===f.c?n.thrownError.message:n.error,l.onError(r,{error_code:n.type,error_message:v,media_details:{media_error:{category:n.type,is_fatal:n.isFatal,message:v,retry_count:_}}})}c&&c.isPlaying!==r.isPlaying&&(c.isPlaying?l.onPlay(c):l.onPause(c))}return s}}},_.b,le.hydraMiddleware,U];t.a=function e(t,n,r){var i;if("function"==typeof n&&void 0===r&&(r=n,n=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(e)(t,n)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var a=t,o=n,s=[],c=s,u=!1;function l(){c===s&&(c=s.slice())}function d(){return o}function p(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return l(),c.push(e),function(){if(t){t=!1,l();var n=c.indexOf(e);c.splice(n,1)}}}function f(e){if(!ie(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,o=a(o,e)}finally{u=!1}for(var t=s=c,n=0;n<t.length;n++){(0,t[n])()}return e}return f({type:oe}),(i={dispatch:f,subscribe:p,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");a=e,f({type:oe})}})[ae.a]=function(){var e,t=p;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(d())}return n(),{unsubscribe:t(n)}}})[ae.a]=function(){return this},e},i}(function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"==typeof e[i]&&(n[i]=e[i])}var a=Object.keys(n),o=void 0;try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:oe}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+oe+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(e){o=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var c=a[s],u=n[c],l=e[c],d=u(l,t);if(void 0===d){var p=se(c,t);throw new Error(p)}i[c]=d,r=r||d!==l}return r?i:e}}({players:o.b,hydraExperiences:de.a,allPlayers:d.b}),function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,i){var a,o=e(n,r,i),s=o.dispatch,c={getState:o.getState,dispatch:function(e){return s(e)}};return a=t.map((function(e){return e(c)})),s=ce.apply(void 0,a)(o.dispatch),ue({},o,{dispatch:s})}}}.apply(void 0,pe))},1555:function(e,t,n){"use strict";n(50),n(227),n(790),n(52),n(34),n(376),n(20),n(383),n(103),n(126),n(113),n(548),n(40),n(51),n(33),n(30),n(378),n(24),n(31),n(102),n(229),n(23),n(128);var r=n(5),i=n.n(r),a=n(3),o=n.n(a),s=n(1),c=n.n(s),u=n(740),l=n(856),d=n(743),p=n(764),f=n(819),h=n(757),y=n(747),v=(n(61),n(7)),m=n.n(v),_=n(17),g=n.n(_),b=n(21),E=n.n(b),T=n(11),O=n.n(T);function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var i=O()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E()(this,n)}}var S=n(753),w=n(765),P=n(752),A=n(818),D=(n(69),n(817)),R=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=t();return n>0?i.catch((function(i){return new Promise((function(i){setTimeout((function(){i(e(t,n-1,2*r))}),r)}))})):i},C="application/x-mpegURL",k=function(e){var t;switch(e){case"0.14.17":t=R((function(){return n.e(48).then(n.bind(null,1566))}));case"0.13.2":default:t=R((function(){return n.e(47).then(n.bind(null,1567))}))}return t.then((function(e){return e.default}))},L=function(){var e=window.MediaSource||window.WebKitMediaSource,t=window.SourceBuffer||window.WebKitSourceBuffer,n=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),r=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return n&&r},M=function(e){var t=document.createElement("video");return t.canPlayType&&t.canPlayType(e)};n(172);function N(e){return"captions"===e.kind&&e.cues&&e.cues.length>0||"subtitles"===e.kind}function j(e,t){if(t&&e){var n=t.split("-")[0];return e.toLowerCase()===n.toLowerCase()}}var x,U=n(855),B=n(816),F=n(780);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Y=1,H=2,z=3,K=4,q="captions",J="metadata",Q="subtitles",X="disabled",$="hidden",Z="showing",ee=function(){function e(t,n,r,a,o){var s=this,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};i()(this,e),c()(this,"onLoadStart",(function(){s.playerRenderPromise||s.dispatchPlayerReady()})),this.domElement=t,this.playerId=n,this.hydraExperienceId=u.hydraExperienceId,this.store=r,this.reload=a,this.showControls=u.showControls,this.objectFitVideo=u.objectFitVideo,this.playerHandlesRotations=u.playerHandlesRotations,this.language=u.language,this.precache=u.precache,this.videoEl=u.videoEl,this.accessibilityLabel=u.accessibilityLabel,this.id3Disabled=!1,this.activeCues={},this.shouldRetryAutoplayMuted=u.shouldRetryAutoplayMuted,this.enablePiP=u.enablePiP||!1,Object(D.c)()||(this.hlsjsVersion=r.dispatch(Object(f.b)(n,F.b)),this.smartBufferingExperimentEnabled=this.store.dispatch(Object(f.b)(this.playerId,F.d)),this.hlsJsSegmentsToPrebuffer=y.b),this.isHlsWorkerEnabled=r.dispatch(Object(f.b)(n,F.c))||!1,this.liveAdDomainRegex=/t.lv.twimg.com$|ton.twitter.com$/,this.logger=o,this.onLoadedMetadata=this.onLoadedMetadata.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onCanPlay=this.onCanPlay.bind(this),this.onPlay=this.onPlay.bind(this),this.onPlaying=this.onPlaying.bind(this),this.onPause=this.onPause.bind(this),this.onVolumeChange=this.onVolumeChange.bind(this),this.onSeeked=this.onSeeked.bind(this),this.onSeeking=this.onSeeking.bind(this),this.onEnded=this.onEnded.bind(this),this.onError=this.onError.bind(this),this.onHlsJsError=this.onHlsJsError.bind(this),this.onId3CueWithInfo=this.onId3CueWithInfo.bind(this),this.onId3CueWithData=this.onId3CueWithData.bind(this),this.onFragmentLoading=this.onFragmentLoading.bind(this),this.onFragmentParsingInitSegment=this.onFragmentParsingInitSegment.bind(this),this.onLevelSwitching=this.onLevelSwitching.bind(this),this.onLevelLoaded=this.onLevelLoaded.bind(this),this.onBufferAppended=this.onBufferAppended.bind(this),this.onBufferEOS=this.onBufferEOS.bind(this),this.onBufferStart=this.onBufferStart.bind(this),this.onManifestParsed=this.onManifestParsed.bind(this),this.render=this.render.bind(this),this.dispatchPlayerReady=this.dispatchPlayerReady.bind(this),this.hlsJsPlay=this.hlsJsPlay.bind(this),this.shouldUseBitratePersistence=this.shouldUseBitratePersistence.bind(this),this.unsubscribeFromStore=this.store.subscribe(this.render),this.playPromise=Promise.resolve(),this.renderVideoTag(),this.render()}return o()(e,[{key:"teardownPlayer",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.trackDataUsage();var t=this.hlsJs;if(t){t.detachMedia();var n=function(){t.destroy()};this.hlsJs=void 0,this.playPromise.then(n).catch(n)}if(this.videoTag){this.stopListeningForId3Tags(),this.videoTag.removeEventListener("loadedmetadata",this.onLoadedMetadata),this.videoTag.removeEventListener("timeupdate",this.onTimeUpdate),this.videoTag.removeEventListener("canplay",this.onCanPlay),this.videoTag.removeEventListener("play",this.onPlay),this.videoTag.removeEventListener("playing",this.onPlaying),this.videoTag.removeEventListener("pause",this.onPause),this.videoTag.removeEventListener("volumechange",this.onVolumeChange),this.videoTag.removeEventListener("seeked",this.onSeeked),this.videoTag.removeEventListener("seeking",this.onSeeking),this.videoTag.removeEventListener("ended",this.onEnded),this.videoTag.removeEventListener("error",this.onError),this.videoTag.removeEventListener("waiting",this.onBufferStart),this.videoTag.removeEventListener("loadstart",this.onLoadStart),this.videoTag.textTracks&&(this.videoTag.textTracks.onaddtrack=void 0);try{this.videoTag.pause(),this.videoTag.removeAttribute("src"),this.videoTag.removeAttribute("poster"),this.videoTag.load()}catch(e){}this.videoTag.parentNode&&this.videoTag.parentNode.removeChild(this.videoTag),this.videoTag=void 0}this.renderedTrackId=void 0,this.hasEndedOnce=!1,this.activeCues=void 0,e&&(this.renderVideoTag(),this.activeCues={})}},{key:"teardown",value:function(){this.teardownPlayer(!1),this.domElement.parentNode&&this.domElement.parentNode.removeChild(this.domElement),this.unsubscribeFromStore()}},{key:"getVideoTag",value:function(){return this.videoTag}},{key:"renderVideoTag",value:function(){this.videoTag=this.videoEl||document.createElement("video"),this.videoTag.setAttribute("preload","none"),this.videoTag.setAttribute("playsinline",""),this.showControls&&this.videoTag.setAttribute("controls",""),this.accessibilityLabel&&this.videoTag.setAttribute("aria-label",this.accessibilityLabel),this.enablePiP||this.videoTag.setAttribute("disablePictureInPicture",""),this.videoTag.style.width="100%",this.videoTag.style.height="100%",this.videoTag.style.position="absolute",this.videoTag.style.backgroundColor="black",this.videoTag.addEventListener("loadstart",this.onLoadStart,!1),this.videoTag.addEventListener("loadedmetadata",this.onLoadedMetadata),this.videoTag.addEventListener("timeupdate",this.onTimeUpdate),this.videoTag.addEventListener("play",this.onPlay),this.videoTag.addEventListener("pause",this.onPause),this.videoTag.addEventListener("volumechange",this.onVolumeChange),this.videoTag.addEventListener("seeked",this.onSeeked),this.videoTag.addEventListener("seeking",this.onSeeking),this.videoTag.addEventListener("ended",this.onEnded),this.videoTag.addEventListener("error",this.onError),this.videoTag.addEventListener("playing",this.onPlaying),this.videoTag.addEventListener("waiting",this.onBufferStart),this.videoTag.addEventListener("canplay",this.onCanPlay),this.videoTag.textTracks&&(this.videoTag.textTracks.onaddtrack=this.handleTrackAdded.bind(this)),this.hasEndedOnce=!1}},{key:"onLoadedMetadata",value:function(){this.checkInitialSeek()}},{key:"onTimeUpdate",value:function(){var e,t,n;if(void 0===this.dateTimeAnchor&&void 0!==this.videoTag.getStartDate){var r=this.videoTag.getStartDate();r&&(this.dateTimeAnchor={streamTimeMs:0,absoluteTimeMs:r.getTime()})}var i,a=1e3*this.videoTag.currentTime;void 0!==this.dateTimeAnchor&&(i=a-this.dateTimeAnchor.streamTimeMs+this.dateTimeAnchor.absoluteTimeMs);var o=0,s=this.videoTag.currentSrc;if(s){var c=this.getCurrentTrack();if(void 0===c)return;var u=c.variants;if(void 0===u)return;for(var d=0;d<u.length;d++)if(u[d].src===s){o=d;break}}this.store.dispatch(Object(P.q)(this.playerId,a,i,1e3*this.videoTag.duration,this.hasCaptions(),o));var p=null===(e=this.hlsJs)||void 0===e?void 0:e.bandwidthEstimate;void 0!==p&&!isNaN(p)&&this.store.dispatch(Object(l.a)(p)),this.trackDataUsage();var f=null===(t=this.getPlayerState())||void 0===t||null===(n=t.controls)||void 0===n?void 0:n.playbackTimeRange;if(f){var h=this.clipScrubTime(f.startTimeS),y=this.clipScrubTime(f.endTimeS),v=window.isFinite(h)&&window.isFinite(y)&&h<y,m=this.videoTag.currentTime<h||this.videoTag.currentTime>y;v&&m&&!this.seeking&&(this.videoTag.currentTime=h)}}},{key:"trackDataUsage",value:function(){var e=this;Object(h.b)(this.playerId,(function(t){var n=t.getAndReset();n>0&&e.store.dispatch(u.H(e.playerId,n))}))}},{key:"checkInitialSeek",value:function(){var e=this.videoTag,t=this.getInitialTimeCode();this.isSeekable(t)&&!this.hasInitialSeeked&&t>-1&&(this.hasInitialSeeked=!0,e.currentTime=t)}},{key:"onCanPlay",value:function(){this.checkInitialSeek(),this.onBufferEnd()}},{key:"onPlay",value:function(){var e=this.videoTag.duration;this.isLooping||this.isLive&&(this.hlsJs?this.hlsJs.liveSyncPosition&&(this.videoTag.currentTime=this.hlsJs.liveSyncPosition):e&&window.isFinite(e)&&(this.videoTag.currentTime=e))}},{key:"onPlaying",value:function(){this.videoTag.paused||(this.isEnded=!1,this.reloadTimecode=void 0,this.store.dispatch(u.X(this.playerId)),this.onBufferEnd(),this.onTimeUpdate())}},{key:"onPause",value:function(){this.videoTag.ended||this.store.dispatch(u.W(this.playerId)),this.onBufferEnd()}},{key:"onVolumeChange",value:function(){this.store.dispatch(u.ab(this.playerId,this.videoTag.muted,this.videoTag.volume)),Object(U.b)("volume",this.videoTag.volume)}},{key:"onSeeking",value:function(){this.seeking||this.isLooping||(this.seeking=!0,this.store.dispatch(u.Z(this.playerId))),this.store.dispatch(Object(B.resetGuestState)(this.hydraExperienceId)),this.hasInitialSeeked=!0}},{key:"onSeeked",value:function(){this.seeking=!1,this.isEnded=!1,this.isLooping=!1,this.store.dispatch(u.Y(this.playerId)),this.onBufferEnd(),this.updateRotation()}},{key:"updateRotation",value:function(){var e,t,n,r=(this.getId3Track()||{}).cues||[],i=r.length,a=this.videoTag.currentTime;for(e=0;e<i&&r[e].startTime<=a;e++)"TXXX"===(t=r[e]).value.key&&"JSONMetadata"===t.value.info&&(n=t);if(n)try{var o=JSON.parse(n.value.data),s=this.normalizeRotation(o.rotation),c=this.getCurrentTrack();void 0!==s&&s!==c.rotation&&this.store.dispatch(Object(P.p)(this.playerId,s))}catch(e){}}},{key:"onEnded",value:function(){this.onBufferEnd(),this.isEnded=this.hasEndedOnce=!0,this.store.dispatch(Object(P.r)(this.playerId));var e=this.getCurrentTrack().shouldLoop;if(this.shouldLoop=e,this.shouldLoop){this.isLooping=!0;var t=this.videoTag.play()||Promise.resolve();this.playPromise=t.catch((function(){}))}var n=this.getCurrentTrack(),r=n.isLive,i=n.isLiveTimecode;r&&(i&&this.reload({requestedTimecode:-1,autoPlay:!0}),this.reload()),this.hasInitialSeeked=!1}},{key:"onHlsJsError",value:function(e,t,n){if(n.fatal){var r=n.response&&n.response.code;this.teardownPlayer(),403===r?"broadcast"===e||"live"===e||"periscope"===e?this.store.dispatch(Object(S.h)(this.playerId,new Error(d.a.LIVE_VIDEO_GEOBLOCK_ERROR))):this.store.dispatch(Object(S.h)(this.playerId,new Error(d.a.MEDIA_GEOBLOCK_ERROR))):(r=r?":".concat(r):"",this.store.dispatch(Object(S.h)(this.playerId,new Error("".concat(n.type,":").concat(n.details).concat(r)))))}}},{key:"onError",value:function(e,t){if(this.videoTag.error){var n;switch(this.videoTag.error.code){case Y:n=d.a.MEDIA_ABORTED;break;case H:n=d.a.MEDIA_NETWORK_ERROR;break;case z:n=d.a.MEDIA_DECODE_ERROR;break;case K:n=d.a.MEDIA_SRC_INVALID_ERROR;break;default:n=d.a.MEDIA_UNKNOWN_CODE_ERROR}this.store.dispatch(Object(S.h)(this.playerId,new Error(n))),this.teardownPlayer()}}},{key:"normalizeRotation",value:function(e){var t=90*Math.floor((Math.floor(e)+45)/90)%360;return 270===t?-90:t}},{key:"isMissingDataProp",value:function(e){var t,n,r=G(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if("TXXX"===i.value.key){t=i;break}}}catch(e){r.e(e)}finally{r.f()}return t&&""===t.value.data&&/\[.*\]|\{.*\}$/.test(t.value.info)}},{key:"onId3CueWithInfo",value:function(e){var t=/(\[|\{)/,n=e.currentTarget.activeCues,r=this.activeCues;this.activeCues={};var i,a=G(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=o.value,c=s.key,u=s.info,l=[o.startTime,c,u].join("|");if(this.activeCues[l]=!0,!r[l]&&"TXXX"===c){var d=u.search(t);if(-1!==d){var p=u.slice(0,d),f=u.slice(d);this.parseId3Data(p,f)}}}}catch(e){a.e(e)}finally{a.f()}}},{key:"onId3CueWithData",value:function(e){var t=e.currentTarget.activeCues,n=this.activeCues;this.activeCues={};var r,i=[],a=G(t);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.value,c=s.key,u=s.info,l=s.data,d=[o.startTime,c,u,l].join("|");this.activeCues[d]=!0,n[d]||("TXXX"===c&&this.parseId3Data(u,l),o.value&&i.push(o.value))}}catch(e){a.e(e)}finally{a.f()}this.store.dispatch(Object(P.l)(this.playerId,i))}},{key:"parseId3Data",value:function(e,t){try{var n=JSON.parse(t);if("JSONMetadata"===e){var r=this.normalizeRotation(n.rotation);this.store.dispatch(Object(P.p)(this.playerId,r)),this.store.dispatch(Object(P.m)(this.playerId,n))}else"HydraAudioLevel"===e?this.store.dispatch(Object(B.updateAudioLevels)(this.hydraExperienceId,n)):"HydraParticipants"===e&&this.store.dispatch(Object(B.updateGuestInfo)(this.hydraExperienceId,n))}catch(e){}}},{key:"onBufferAppended",value:function(e,t){if(0===this.pendingSegments){var n=this.getPlayerState(),r=n.controls,i=n.hasPlaybackStarted,a=n.nextTrackIds,o=(null==r?void 0:r.playState)===u.k.PLAY_REQUESTED;if(this.bufferedSegments+=1,!i&&!o&&this.hlsJs){this.prebufferedSegments+=1;var s=a&&0!==a.length;this.prebufferedSegments!==this.expectedSegments||s?(this.prebufferedSegments===y.b||this.prebufferedSegments===this.expectedSegments&&s)&&(this.maximumBufferLength=this.hlsJs.config.maxMaxBufferLength=0,this.store.dispatch(Object(A.f)(this.playerId,A.a.PREBUFFERING_COMPLETED,0))):this.store.dispatch(Object(A.f)(this.playerId,A.a.BUFFERING_COMPLETED))}}this.pendingSegments=null==t?void 0:t.pending}},{key:"onBufferEOS",value:function(e,t){var n=this.getPlayerState(),r=n.bufferingStatus,i=n.nextTrackIds,a=r===A.a.BUFFERING_COMPLETED,o=i&&0!==i.length;this.bufferedSegments!==this.expectedSegments||a||o||!this.hlsJs||this.store.dispatch(Object(A.f)(this.playerId,A.a.BUFFERING_COMPLETED))}},{key:"onFragmentLoading",value:function(e,t){var n,r=null==t||null===(n=t.frag)||void 0===n?void 0:n.bitrateTest;if(void 0!==t&&void 0!==t.frag&&t.frag.programDateTime&&(this.dateTimeAnchor={streamTimeMs:1e3*t.frag.start,absoluteTimeMs:te(t.frag.programDateTime)}),this.smartBufferingExperimentEnabled&&!r){var i=this.getPlayerState().bufferingStatus;i&&i!==A.a.IDLE||this.store.dispatch(Object(A.f)(this.playerId,A.a.BUFFERING_REQUESTED))}}},{key:"onFragmentParsingInitSegment",value:function(e,t){if(void 0!==t&&void 0!==t.frag&&void 0!==t.frag.level&&void 0!==this.hlsJs){var n=this.hlsJs.levels[t.frag.level];void 0!==n&&void 0!==n.details&&void 0!==n.details.programDateTime&&void 0!==n.details.fragments&&void 0!==n.details.fragments[0]&&(this.dateTimeAnchor={streamTimeMs:1e3*n.details.fragments[0].start,absoluteTimeMs:te(n.details.programDateTime)})}}},{key:"onLevelSwitching",value:function(e,t){if(this.hlsJs&&this.hlsJs.levels){var n=this.hlsJs.levels[t.level].bitrate;void 0!==n&&this.store.dispatch(Object(P.g)(this.playerId,n))}}},{key:"onLevelLoaded",value:function(e,t){if(this.hlsJs&&!this.maximumBufferLength){var n,r,i,a=null==t||null===(n=t.details)||void 0===n?void 0:n.targetduration;if(this.expectedSegments=null==t||null===(r=t.details)||void 0===r||null===(i=r.fragments)||void 0===i?void 0:i.length,a){var o=a*this.hlsJsSegmentsToPrebuffer;this.maximumBufferLength=this.hlsJs.config.maxMaxBufferLength=o,this.store.dispatch(Object(A.g)(this.playerId,a))}}}},{key:"onBufferStart",value:function(){var e=this,t=!this.hasEndedOnce||this.videoTag&&this.videoTag.currentTime>=2;this.shouldLoop&&!t||(this.buffering=!0,setTimeout((function(){e.buffering&&e.store.dispatch(Object(P.i)(e.playerId))}),20))}},{key:"onBufferEnd",value:function(){this.buffering&&(this.buffering=!1,this.store.dispatch(Object(P.h)(this.playerId)))}},{key:"getCaptionsTrack",value:function(e){var t=e||this.videoTag.textTracks||[],n=this.language;return n?function(e,t){for(var n,r,i=e.length,a=0;a<i;a++){var o=e[a],s=o.language;if(N(o)){if(s&&t&&s.toLowerCase()===t.toLowerCase())return o;!r&&j(s,t)?r=o:n||s||(n=o)}}return r||n}(t,n):function(e){for(var t=e.length,n=0;n<t;n++){var r=e[n];if(N(r))return r}}(t)}},{key:"getSubtitlesTrack",value:function(){return this.getCaptionsTrack(function(e){for(var t=e.length,n=[],r=0;r<t;r++){var i=e[r];"captions"!==i.kind&&n.push(i)}return n}(this.videoTag.textTracks))}},{key:"getId3Track",value:function(){for(var e=0;e<this.videoTag.textTracks.length;e++){var t=this.videoTag.textTracks[e];if(t.kind===J)return t}}},{key:"handleTrackAdded",value:function(e){var t=e.track,n=q,r=J,i=Q;t.kind===r?this.startListeningForId3Tags():t.mode=t.kind===n?$:X,!Object(D.c)()||t.kind!==n&&t.kind!==i||(this.id3Disabled=!0,this.stopListeningForId3Tags())}},{key:"startListeningForId3Tags",value:function(){var e=this.getId3Track();if(void 0!==e&&!this.id3Disabled){var t=e.cues;void 0===this.missingDataProp&&t&&(this.missingDataProp=this.isMissingDataProp(t)),e.oncuechange=this.missingDataProp?this.onId3CueWithInfo:this.onId3CueWithData,e.mode=$}}},{key:"stopListeningForId3Tags",value:function(){var e=this.getId3Track();void 0!==e&&(e.oncuechange=null,e.mode=X)}},{key:"handleControlUpdate",value:function(e){var t=this;switch(e.muteState){case u.j.MUTE_REQUESTED:this.videoTag.muted=!0;break;case u.j.UNMUTE_REQUESTED:this.videoTag.muted=!1}switch(e.playState){case u.k.PAUSE_REQUESTED:var n=function(){t.videoTag&&(t.videoTag.pause(),t.stopListeningForId3Tags())};this.videoTag.paused?n():this.playPromise.then(n);break;case u.k.PLAY_REQUESTED:var r=this.hlsJs?this.hlsJsPlay():this.videoTag.play()||Promise.resolve();this.playPromise=r.catch((function(e){t.videoTag&&t.videoTag.paused&&(t.shouldRetryAutoplayMuted&&e instanceof DOMException&&"NotAllowedError"===e.name?(t.shouldRetryAutoplayMuted=!1,t.store.dispatch(u.M(t.playerId))):t.store.dispatch(u.C(t.playerId)))})),this.startListeningForId3Tags()}if(e.captionsState&&this.hasCaptions()&&this.videoTag.readyState>=2){var i=this.getCaptionsTrack();switch(e.captionsState){case u.f.CAPTIONS_ON_REQUESTED:if(this.isUserRequestedCaptions())i.mode=Z,this.store.dispatch(u.G(this.playerId,!0));else{var a=this.getSubtitlesTrack();a&&(a.mode=Z,this.store.dispatch(u.G(this.playerId,!0)))}break;case u.f.CAPTIONS_OFF_REQUESTED:i.mode=i.kind===q?$:X,this.store.dispatch(u.G(this.playerId,!1))}}if(!this.seeking){var o=this.clipScrubTime(this.videoTag.duration*e.scrubToFraction);window.isFinite(o)&&(this.videoTag.currentTime=o)}e.volume>=0&&(this.videoTag.volume=e.volume)}},{key:"clipScrubTime",value:function(e){return Math.max(0,Math.min(this.videoTag.duration-.5,e))}},{key:"hlsJsPlay",value:function(){var e=this;return new Promise((function(t){if(e.videoTag&&(e.videoTag.readyState>=3||e.isEnded))t();else{e.videoTag.addEventListener("canplay",(function n(){e.videoTag&&e.videoTag.readyState>=3&&(t(),e.videoTag.removeEventListener("canplay",n))}))}})).then((function(){return e.checkInitialSeek(),e.videoTag.play()||Promise.resolve()}))}},{key:"xhrSetup",value:function(e,t,n){var r=new w.a(t).getHostname(),i=r&&this.liveAdDomainRegex.test(r),a=n===x.ResourceTypes.KEY;(i||a)&&(e.withCredentials=!0)}},{key:"hasCaptions",value:function(){return void 0!==this.getCaptionsTrack()}},{key:"renderVideoVariant",value:function(){var e=this.getCurrentTrack(),t=e.contentType,n=e.variants,r=this.getPlayerState().features.bitrateCap,i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.enableSafariMse,r=void 0!==n&&n,i=e.find((function(e){return 0===e.type.indexOf("video/mp4")})),a=e.find((function(e){return 0===e.type.indexOf(C)}));if(!a)return{useMse:!1,selectedVariant:i};var o=M(C),s=L();if(Object(D.c)()&&s&&!r&&(s=!1),s)return{useMse:!0,selectedVariant:a};var c=o?a:i;return{useMse:!1,selectedVariant:c}}(n),a=i.useMse,o=i.selectedVariant;return o?a?this.renderHlsJs(o,r,t):this.renderHtml5(o):(this.store.dispatch(Object(S.h)(this.playerId,new Error(d.a.MEDIA_NOT_SUPPORTED))),Promise.resolve())}},{key:"renderHlsJs",value:function(e,t,n){var r=this,a=this.getInitialTimeCode();return this.bufferedSegments=this.expectedSegments=this.pendingSegments=this.prebufferedSegments=0,k(this.hlsjsVersion).then((function(o){x=o;var s,u,l={autoStartLoad:!0,enableWorker:r.isHlsWorkerEnabled,fragLoadingMaxRetry:6,fragLoadingRetryDelay:500,fragLoadingTimeOut:2e4,levelLoadingMaxRetry:4,levelLoadingTimeOut:2e4,loader:(s=r.playerId,u=x,function(e){g()(n,e);var t=I(n);function n(e){var r;i()(this,n);var a=(r=t.call(this,e)).load.bind(m()(r));return r.load=function(e,t,n){var r=n.onSuccess;n.onSuccess=function(e,t,n){Object(h.b)(s,(function(e){e.add(t.total)})),r(e,t,n)},a(e,t,n)},r}return n}(u.DefaultConfig.loader)),manifestLoadingMaxRetry:4,manifestLoadingTimeOut:2e4,maxBufferHole:1.5,maxSeekHole:5,startLevel:-1,startPosition:a,xhrSetup:r.xhrSetup.bind(r),capLevelToPlayerSize:!t,debug:{trace:function(e){r.logger.log("HlsJs.trace",e)},debug:function(e){r.logger.log("HlsJs.debug",e)},log:function(e){r.logger.log("HlsJs.log",e)},warn:function(e){r.logger.log("HlsJs.warn",e)},info:function(e){r.logger.log("HlsJs.info",e)},error:function(e){r.logger.log("HlsJs.error",e)}}};r.hlsJs=new x(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},l)),r.smartBufferingExperimentEnabled&&(r.hlsJs.on(x.Events.BUFFER_APPENDED,r.onBufferAppended),r.hlsJs.on(x.Events.BUFFER_EOS,r.onBufferEOS)),r.hlsJs.on(x.Events.ERROR,r.onHlsJsError.bind(r,n)),r.hlsJs.on(x.Events.FRAG_LOADING,r.onFragmentLoading),r.hlsJs.on(x.Events.FRAG_PARSING_INIT_SEGMENT,r.onFragmentParsingInitSegment),r.hlsJs.on(x.Events.LEVEL_SWITCHING,r.onLevelSwitching),r.hlsJs.on(x.Events.LEVEL_LOADED,r.onLevelLoaded),r.hlsJs.on(x.Events.MANIFEST_PARSED,r.onManifestParsed.bind(r,t)),r.hlsJs.attachMedia(r.videoTag),r.hlsJs.loadSource(e.src),r.store.dispatch(Object(P.k)(r.playerId))})).catch((function(){r.store.dispatch(Object(S.h)(r.playerId,new Error("".concat(d.a.CONFIG_NETWORK_ERROR,":HlsJsChunk"))))}))}},{key:"renderHtml5",value:function(e){return this.videoTag.setAttribute("preload",this.precache?"auto":"none"),this.videoTag.setAttribute("src",e.src),this.videoTag.setAttribute("type",e.type),Promise.resolve()}},{key:"onManifestParsed",value:function(e,t,n){var r,i=n.levels,a=i.length;if(e){var o;for(o=1;o<i.length&&!(i[o].bitrate>e);o++);this.hlsJs.autoLevelCapping=o-1,a=o-1}var s=null===(r=this.store.getState().allPlayers)||void 0===r?void 0:r.mostRecentBandwidthEst;if(this.shouldUseBitratePersistence()&&void 0!==s){var c,u=a===i.length?i:i.slice(0,a);for(c=1;c<u.length&&!(i[c].bitrate>s);c++);this.hlsJs.startLevel=c-1}this.dispatchPlayerReady()}},{key:"dispatchPlayerReady",value:function(){this.store.dispatch(Object(P.o)(this.playerId))}},{key:"renderContainer",value:function(){var e=document.createElement("div");if(e.style.position="relative",e.style.width="100%",e.style.height="100%",e.style.backgroundColor="transparent",e.style.overflow="hidden",e.appendChild(this.videoTag),Object(D.b)()){var t=document.createElement("style"),n=document.createTextNode("video::-webkit-media-controls { display: none !important; }");t.appendChild(n),e.appendChild(t)}this.domElement.innerHTML="",this.domElement.appendChild(e)}},{key:"getPlayerState",value:function(){return this.store.getState().players[this.playerId]||{}}},{key:"getCurrentTrack",value:function(){var e=this.getPlayerState();return Object(p.b)(e)}},{key:"getInitialTimeCode",value:function(){var e=this.reloadTimecode,t=this.getCurrentTrack(),n=t.isLive,r=t.isLiveTimecode,i=[e,t.requestedTimecode,t.replayEditedStartTime].find((function(e){return e>0||0===e}));return n&&!r||void 0===i?-1:i}},{key:"isUserRequestedCaptions",value:function(){return this.getPlayerState().userSpecifiedCaptions}},{key:"isSeekable",value:function(e){if(0===e||e>0)for(var t=this.videoTag.seekable,n=t.length,r=0;r<n;r++)if(t.start(r)<=e&&e<=t.end(r))return!0;return!1}},{key:"cleanupVideoElement",value:function(){if(this.hasCaptions()){var e=this.getCaptionsTrack();if(Array.isArray(e.cues))for(;e.cues.length;)e.removeCue(e.cues[0])}}},{key:"render",value:function(){var e=this,t=this.getPlayerState(),n=t.posterImage;if(void 0!==t.currentTrackId)if(t.error)this.teardownPlayer();else{var r=this.getCurrentTrack();if(this.renderedTrackId!==t.currentTrackId){this.cleanupVideoElement(),this.hlsJs&&(this.hlsJs.destroy(),this.hlsJs=void 0),n&&this.videoTag.setAttribute("poster",n);var i=r.isLive,a=r.shouldLoop,o=r.reloadTimecode;i||(this.reloadTimecode=o),this.hasInitialSeeked=!1,this.renderedTrackId=t.currentTrackId,this.playerRenderPromise=this.renderVideoVariant(),this.playerRenderPromise.then((function(){e.renderContainer(),e.isLive=i,e.shouldLoop=a,e.videoTag.volume=Object(U.a)("volume",1)||1,e.playerRenderPromise=void 0}))}if(r.playerReady){var s=t.fullscreen.isFullscreen,c=r.rotation;this.handleControlUpdate(t.controls),this.renderRotationAndScale(c,s)}this.hlsJs&&this.maximumBufferLength!==t.maximumBufferLength&&(this.maximumBufferLength=t.maximumBufferLength,this.hlsJs.config.maxMaxBufferLength=this.maximumBufferLength)}}},{key:"renderRotationAndScale",value:function(e,t){var n=this.videoTag,r=100,i=100,a=0,o=0,s=!1!==this.playerHandlesRotations;if(s&&(90===e||-90===e)){var c=n.parentNode||{},u=c.offsetWidth/c.offsetHeight;isFinite(u)&&(a=(100-(i=100*u))/2,o=(100-(r=100/u))/2)}n.style.width="".concat(r,"%"),n.style.height="".concat(i,"%"),n.style.top="".concat(a,"%"),n.style.left="".concat(o,"%"),s&&(t?(n.style.transform="rotate(".concat(e,"deg) scale(1.005)"),n.style.objectFit="contain"):(n.style.transform="rotate(".concat(e,"deg) scale(1.005)"),n.style.objectFit=this.objectFitVideo))}},{key:"shouldUseBitratePersistence",value:function(){return this.store.dispatch(Object(f.b)(this.playerId,F.a))}}]),e}();function te(e){return void 0!==e.getTime?e.getTime():e}t.a=ee},1556:function(e,t,n){"use strict";n(30),n(61),n(31);var r=n(5),i=n.n(r),a=n(3),o=n.n(a),s=n(7),c=n.n(s),u=n(17),l=n.n(u),d=n(21),p=n.n(d),f=n(11),h=n.n(f),y=n(1),v=n.n(y),m=n(0),_=n(777),g=n(747),b=n(101),E=n.n(b);E.a.string,E.a.func,E.a.object,E.a.bool,E.a.number,E.a.string,E.a.oneOf(["media_entity","gif","vmap"]),E.a.bool,E.a.object,E.a.node,E.a.shape({objectFitVideo:E.a.oneOf(g.c),playerHandlesRotations:E.a.bool}),E.a.number,E.a.string,E.a.shape({getValue:E.a.func}),E.a.bool,E.a.object,E.a.bool,E.a.bool,E.a.bool,E.a.instanceOf(Date),E.a.string,E.a.bool,E.a.number,E.a.object,E.a.string,E.a.string,E.a.bool,E.a.object,E.a.string,E.a.string,E.a.func,E.a.bool,E.a.bool,E.a.object,E.a.arrayOf(E.a.shape({src:E.a.string,type:E.a.string})),E.a.object,E.a.object,E.a.oneOfType([E.a.string,E.a.number]),E.a.string;function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var O={base:{height:"100%",position:"relative",transform:"translateZ(0)",width:"100%"},wrapper:{height:"100%",position:"absolute",width:"100%"}},I=function(e){l()(n,e);var t=T(n);function n(e){var r;return i()(this,n),r=t.call(this,e),v()(c()(r),"_setVideoRef",(function(e){e&&r.videoPlayer.attach(e)})),v()(c()(r),"_setContainerRef",(function(e){r.containerDomElement=e})),v()(c()(r),"_renderCustomOverlay",(function(){if(r.props.customOverlay)return r.props.customOverlay})),r.videoPlayer=_.a.createPlayer({source:r.props.videoId,videoConfig:{contentId:r.props.contentId,contentType:r.props.contentType,cta:r.props.cta,durationMs:r.props.durationMs,expandedUrl:r.props.expandedUrl,eventId:r.props.eventId,mediaAvailability:r.props.mediaAvailability,publisherId:r.props.publisherId,poster:r.props.poster,loop:r.props.loop,shouldLoadTranslations:r.props.shouldLoadTranslations,variants:r.props.variants,viewCount:r.props.viewCount,vmapUrl:r.props.vmapUrl},httpClient:r.props.httpClient,twitterAuthedHttpClient:r.props.twitterAuthedHttpClient,options:{accessibilityLabel:r.props.accessibilityLabel,autoplay:r.props.autoplay,adProvider:r.props.adProvider,analytics:r.props.analytics,bitrateCap:r.props.bitrateCap,featureProvider:r.props.featureProvider,hlsjsVersion:r.props.hlsjsVersion,includeBroadcastEventAssociation:r.props.includeBroadcastEventAssociation,initiallyMuted:r.props.initiallyMuted,initiallyMutedCaptions:r.props.initiallyMutedCaptions,intentToPlayTime:r.props.intentToPlayTime,language:r.props.language,maxLoopCount:r.props.maxLoopCount,objectFitVideo:r.props.displayOptions.objectFitVideo,playbackSessionId:r.props.playbackSessionId,playerHandlesRotations:r.props.displayOptions.playerHandlesRotations,precache:r.props.precache,promotedContext:r.props.promotedContext,requestedTimecode:r.props.requestedTimecode,showControls:!1,showGeolocationPrompt:r.props.geolocationPrompt,shouldRetryAutoplayMuted:r.props.shouldRetryAutoplayMuted,videoEl:r.props.videoEl}}),r.props.setPlayerApi&&r.props.setPlayerApi(r.videoPlayer),r}return o()(n,[{key:"componentWillUnmount",value:function(){try{this.videoPlayer.teardown()}catch(e){}}},{key:"render",value:function(){return m.createElement("div",{ref:this._setContainerRef,style:O.base},m.createElement("div",{ref:this._setVideoRef,style:O.wrapper}),this._renderCustomOverlay())}}]),n}(m.PureComponent);v()(I,"defaultProps",{displayOptions:{},variants:[]}),I.propTypes={};t.a=I},1561:function(e,t,n){"use strict";n(69),n(113),n(179),n(33);var r=function(e,t,n){if(void 0===n&&(n={actual:[],expected:[]}),e===t)return!0;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(!e||!t||"object"!=typeof e&&"object"!=typeof t)return e===t;var r=n.actual.indexOf(e);return-1!==r&&r===n.expected.indexOf(t)||(n.actual.push(e),n.expected.push(t),o(e,t,n))};function i(e){return null==e}function a(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}function o(e,t,n){if(i(e)||i(t))return!1;if(e.prototype&&t.prototype&&e.prototype!==t.prototype)return!1;if(a(e)){if(!a(t))return!1;if(e.length!==t.length)return!1;for(var o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}var s,c;try{s=Object.keys(e),c=Object.keys(t)}catch(e){return!1}if(s.length!==c.length)return!1;s.sort(),c.sort();for(var u=s.length-1;u>=0;u--)if(s[u]!==c[u])return!1;for(var l=s.length-1;l>=0;l--){var d=s[l];if(!r(e[d],t[d],n))return!1}return typeof e==typeof t}t.a=r},1562:function(e,t,n){"use strict";function r(e){var t,n;return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];var s=n&&i(a,n);if(s)return t;var c=e.apply(void 0,a);return t=c,n=a,c}}n.d(t,"a",(function(){return r}));var i=function(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}},1563:function(e,t,n){"use strict";t.a=function(){}},1564:function(e,t,n){"use strict";var r=n(821),i=n.n(r);t.a=function(e,t,n){return i()(e,t,n)}},45:function(e,t,n){"use strict";var r=n(162);n.d(t,"a",(function(){return r}))},736:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return u}));n(68);var r={AMPLIFY:"amplify",APP:"app",APPPLAYER:"appplayer",BROADCAST:"745291183405076480:broadcast",DIRECT_STORE_LINK_APP:"direct_store_link_app",IMAGE_DIRECT_MESSAGE:"2586390716:image_direct_message",LIVE_EVENT:"745291183405076480:live_event",MESSAGE_ME:"2586390716:message_me",MOMENT:"3260518932:moment",PERISCOPE_BROADCAST:"3691233323:periscope_broadcast",PLAYER:"player",POLL_2_CHOICE_TEXT:"poll2choice_text_only",POLL_3_CHOICE_TEXT:"poll3choice_text_only",POLL_4_CHOICE_TEXT:"poll4choice_text_only",POLL_2_CHOICE_IMAGE:"poll2choice_image",POLL_3_CHOICE_IMAGE:"poll3choice_image",POLL_4_CHOICE_IMAGE:"poll4choice_image",POLL_2_CHOICE_VIDEO:"poll2choice_video",POLL_3_CHOICE_VIDEO:"poll3choice_video",POLL_4_CHOICE_VIDEO:"poll4choice_video",PROMO_IMAGE_APP:"promo_image_app",PROMO_IMAGE_CONVO:"promo_image_convo",PROMO_VIDEO_CONVO:"promo_video_convo",PROMO_VIDEO_WEBSITE:"2586390716:promo_video_website",PROMO_WEBSITE:"promo_website",SUMMARY:"summary",SUMMARY_LARGE_IMAGE:"summary_large_image",UNIFIED_CARD:"unified_card",VIDEO_DIRECT_MESSAGE:"2586390716:video_direct_message"},i={BUTTON_GROUP:"button_group",BUTTON_GROUP_STATIC:"button_group_static",DESTINATION:"destination_default",DESTINATION_SECONDARY:"destination_secondary",DESTINATION_STATIC:"destination_static",DETAILS:"details_default",DETAILS_SECONDARY:"details_secondary",DETAILS_STATIC:"details_static",MEDIA:"media_default",MEDIA_SECONDARY:"media_secondary",MEDIA_STATIC:"media_static",IMAGE_ENTITY:"image_entity_default",IMAGE_ENTITY_SECONDARY:"image_entity_secondary",IMAGE_ENTITY_STATIC:"image_entity_static",VIDEO_ENTITY:"video_entity_default",VIDEO_ENTITY_SECONDARY:"video_entity_secondary",IFRAME_ENTITY:"iframe_entity",POLL:"poll",POLL_STATIC:"poll_static",SWIPEABLE_MEDIA_STATIC:"swipeable_media_static",TOPIC_DETAILS:"topic_details"},a={DEFAULT:"default",SECONDARY:"secondary",STATIC:"static",DATA_SAVER:"data_saver"},o={LABEL:"label",MOMENTS:"moments",PLAY:"play"},s={ACTION:"action",BROADCAST:"broadcast",BROWSER:"browser",BROWSER_WITH_DOCKED_MEDIA:"browser_with_docked_media",BROWSER_WITH_MEDIA:"browser_with_media",EVENT:"event",MOMENT:"moment"},c=Object.freeze({MEDIA:"media",DETAILS:"details",BUTTON_GROUP:"button_group",SWIPEABLE_MEDIA:"swipeable_media",TWITTER_LIST_DETAILS:"twitter_list_details",TOPIC_DETAILS:"topic_details"}),u="https://twitter.com"},738:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(52),n(379);var r=n(0),i=n(759),a=n(751),o={composeDirectMessage:function(e){e.recipient,e.welcomeMessageId,e.messageText},composeTweet:function(e,t,n){},getCtaString:function(e){switch(e){case"play":return"Play";case"shop":return"Shop";case"book":return"Book";case"connect":return"Connect";case"order":return"Order";case"open":return"Open";case"install":default:return"Install"}},getFetchIntervalSeconds:function(){return 30},getMessageMeString:function(e){switch(e){case"message_me_card_cta_1":return"Message us";case"message_me_card_cta_3":return"Send us a private message";case"message_me_card_cta_4":return"Send me a private message";case"message_me_card_cta_2":default:return"Send a private message"}},getMobileOS:function(){return"android"},getBroadcastLink:function(e){return"https://twitter.com/i/broadcasts/".concat(e)},getEventLink:function(e){return"https://twitter.com/i/events/".concat(e)},getMomentLink:function(e){return"https://twitter.com/i/moments/".concat(e)},renderImage:function(e,t,n,o,s,c){var u=e.uri,l=e.width,d=e.height;return r.createElement(i.a,{accessibilityLabel:c,aspectMode:a.a.exact(t||1),cropCandidates:s,image:{url:u,width:l||1e3,height:d||1e3}})},renderTwemojiText:function(e){return e},renderRatingsLabel:function(e){var t=e.appStarRating,n=e.appNumRatings;return"".concat(t,"/5.0 stars  ").concat(n," ratings")},renderStartingTimeLabel:function(e){return"Starting ".concat(new Date(parseInt(e,10)).toLocaleString("default",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}))},renderTweetActionLabel:function(e){return"Tweet ".concat(e)},shouldLimitTextToSingleLine:function(){return!1},storeCardState:function(e,t){},storeCarouselIndex:function(e,t){}}},740:function(e,t,n){"use strict";n.d(t,"k",(function(){return r})),n.d(t,"j",(function(){return i})),n.d(t,"f",(function(){return a})),n.d(t,"p",(function(){return o})),n.d(t,"O",(function(){return s})),n.d(t,"o",(function(){return c})),n.d(t,"N",(function(){return u})),n.d(t,"r",(function(){return l})),n.d(t,"Q",(function(){return d})),n.d(t,"y",(function(){return p})),n.d(t,"X",(function(){return f})),n.d(t,"x",(function(){return h})),n.d(t,"W",(function(){return y})),n.d(t,"n",(function(){return v})),n.d(t,"M",(function(){return m})),n.d(t,"t",(function(){return _})),n.d(t,"S",(function(){return g})),n.d(t,"u",(function(){return b})),n.d(t,"T",(function(){return E})),n.d(t,"B",(function(){return T})),n.d(t,"ab",(function(){return O})),n.d(t,"q",(function(){return I})),n.d(t,"P",(function(){return S})),n.d(t,"d",(function(){return w})),n.d(t,"F",(function(){return P})),n.d(t,"s",(function(){return A})),n.d(t,"R",(function(){return D})),n.d(t,"z",(function(){return R})),n.d(t,"Y",(function(){return C})),n.d(t,"A",(function(){return k})),n.d(t,"Z",(function(){return L})),n.d(t,"h",(function(){return M})),n.d(t,"I",(function(){return N})),n.d(t,"v",(function(){return j})),n.d(t,"U",(function(){return x})),n.d(t,"m",(function(){return U})),n.d(t,"L",(function(){return B})),n.d(t,"l",(function(){return F})),n.d(t,"K",(function(){return V})),n.d(t,"e",(function(){return G})),n.d(t,"G",(function(){return W})),n.d(t,"w",(function(){return Y})),n.d(t,"V",(function(){return H})),n.d(t,"b",(function(){return z})),n.d(t,"D",(function(){return K})),n.d(t,"c",(function(){return q})),n.d(t,"E",(function(){return J})),n.d(t,"i",(function(){return Q})),n.d(t,"J",(function(){return X})),n.d(t,"a",(function(){return $})),n.d(t,"C",(function(){return Z})),n.d(t,"g",(function(){return ee})),n.d(t,"H",(function(){return te}));var r={PAUSE_REQUESTED:"PAUSE_REQUESTED",PLAY_REQUESTED:"PLAY_REQUESTED"},i={MUTE_REQUESTED:"MUTE_REQUESTED",UNMUTE_REQUESTED:"UNMUTE_REQUESTED"},a={CAPTIONS_ON_REQUESTED:"CAPTIONS_ON_REQUESTED",CAPTIONS_OFF_REQUESTED:"CAPTIONS_OFF_REQUESTED",CAPTIONS_RESET_REQUESTED:"CAPTIONS_RESET_REQUESTED"},o="REQUEST_PLAY",s=function(e){return{type:o,playerId:e}},c="REQUEST_PAUSE",u=function(e){return{type:c,playerId:e}},l="REQUEST_REPLAY",d=function(e){return{type:l,playerId:e}},p="VIDEO_PLAYED",f=function(e){return{type:p,playerId:e}},h="VIDEO_PAUSED",y=function(e){return{type:h,playerId:e}},v="REQUEST_MUTE",m=function(e){return{type:v,playerId:e}},_="REQUEST_UNMUTE",g=function(e){return{type:_,playerId:e}},b="REQUEST_VOLUME_CHANGE",E=function(e,t){return{type:b,volume:t,playerId:e}},T="VIDEO_VOLUME_CHANGED",O=function(e,t,n){return{type:T,isMuted:t,volume:n,playerId:e}},I="REQUEST_PLAYBACK_TIME_RANGE",S=function(e,t,n){return{type:I,startTimeS:t,endTimeS:n,playerId:e}},w="CANCEL_PLAYBACK_TIME_RANGE",P=function(e){return{type:w,playerId:e}},A="REQUEST_SCRUB_TO_FRACTION",D=function(e,t){return{type:A,fraction:t,playerId:e}},R="VIDEO_SEEKED",C=function(e){return{type:R,playerId:e}},k="VIDEO_SEEKING",L=function(e){return{type:k,playerId:e}},M="HIDE_CONTROLS",N=function(e){return{type:M,playerId:e}},j="SHOW_CONTROLS",x=function(e){return{type:j,playerId:e}},U="REQUEST_CAPTIONS_ON",B=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:U,isUserSet:t,playerId:e}},F="REQUEST_CAPTIONS_OFF",V=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:F,isUserSet:t,playerId:e}},G="CAPTIONS_TOGGLED",W=function(e,t){return{type:G,areCaptionsShown:t,playerId:e}},Y="UPDATE_VISIBILITY",H=function(e,t,n,r){return{type:Y,playerId:e,percentVisible:t,percentOfViewportOccupied:n,sizesInfo:r}},z="CALL_TO_ACTION_CLICKED",K=function(e){return{type:z,playerId:e}},q="CALL_TO_ACTION_IMPRESSION",J=function(e){return{type:q,playerId:e}},Q="LIVE_CLICKTHROUGH_CLICKED",X=function(e){return{type:Q,playerId:e}},$="AUTOPLAY_DISABLED",Z=function(e){return{type:$,playerId:e}},ee="DATA_USAGE_COLLECTED",te=function(e,t){return{type:ee,playerId:e,bytes:t}}},741:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));n(50),n(52),n(34),n(20),n(40),n(51),n(33),n(30),n(61),n(31),n(23);var r=n(2),i=n.n(r),a=n(41),o=n.n(a),s=n(5),c=n.n(s),u=n(3),l=n.n(u),d=n(7),p=n.n(d),f=n(17),h=n.n(f),y=n(21),v=n.n(y),m=n(11),_=n.n(m),g=n(1),b=n.n(g),E=n(0),T=n(746),O=(n(100),n(37)),I=n.n(O),S=n(544);function w(e){var t=P(e);return function(e){var n=P(e);return Object(S.a)(t,n)||(t=n),t}}function P(e){if(!e||"object"!==I()(e))return e;var t=JSON.parse(JSON.stringify(e));return delete t.dataUsageBytes,t.tracks=t.tracks.map((function(e){return"number"==typeof e.currentTimeMs&&delete e.currentTimeMs,e})),t}var A=n(848),D=n(73),R=n.n(D),C=n(4),k=n(815);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_()(e);if(t){var i=_()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}function j(e){var t=e.periodic,n=e.children,r=t?x.PeriodicContext.Consumer:x.Context.Consumer;return E.createElement(r,null,(function(e){var t=e.aspectRatio,r=e.guestsState,i=e.playerApi,a=e.playerState,o=e.containerRef;return i&&o&&a?n({aspectRatio:t,guestsState:r,playerApi:i,playerState:a,containerRef:o}):null}))}var x=function(e){h()(n,e);var t=N(n);function n(){var e;c()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),b()(p()(e),"_cache",{stablePlayerState:w(null)}),b()(p()(e),"state",{hasError:null,guestsState:null,playerApi:null,playerState:null,stablePlayerState:null}),b()(p()(e),"_renderCustomOverlay",(function(){var t=e.props.children,n=e.state,r=n.guestsState,i=n.playerApi,a=n.stablePlayerState;return i&&t?"function"==typeof t?t({guestsState:r,playerApi:i,playerState:a,containerRef:e._containerRef}):t:null})),b()(p()(e),"_handleReload",(function(){return e.setState((function(){return{hasError:null}}))})),b()(p()(e),"_handlePlayerApi",(function(t){return function(n){var r=e.props.playerId;e.setState({playerApi:n}),e.props.onApiReady&&e.props.onApiReady(n),r&&t&&(e._unregister=t(r,n)),e._unsubscribe=n.subscribe((function(t,n){var r=e._cache.stablePlayerState(t);e.setState({stablePlayerState:r,playerState:t,guestsState:n}),e.props.onStateUpdate&&e.props.onStateUpdate(t,n)}))}})),e}return l()(n,[{key:"componentWillUnmount",value:function(){this._unregister&&this._unregister(),this._unsubscribe&&this._unsubscribe()}},{key:"componentDidUpdate",value:function(){if(!this._containerRef){var e=R.a.findDOMNode(this);e&&e instanceof HTMLElement&&(this._containerRef=e)}}},{key:"componentDidCatch",value:function(e,t){var n={error:e,info:t};console.error(n),this.setState((function(){return{hasError:n}}))}},{key:"render",value:function(){var e=this,t=this.state,r=t.guestsState,a=t.playerApi,s=t.playerState,c=t.stablePlayerState,u=this.props,l=u.aspectRatio,d=(u.children,u.objectFitVideo),p=(u.onApiReady,u.onStateUpdate,u.playerId,u.basePlayerClass),f=u.size,h=o()(u,["aspectRatio","children","objectFitVideo","onApiReady","onStateUpdate","playerId","basePlayerClass","size"]),y={aspectRatio:this.props.aspectRatio,guestsState:r,playerApi:a,playerState:s,containerRef:this._containerRef},v=M(M({},y),{},{playerState:c});return E.createElement(T.a,{ratio:l,style:[U.root,U[f]]},this.state.hasError?E.createElement(A.a,{onReloadPress:this._handleReload}):E.createElement(n.Context.Provider,{value:v},E.createElement(n.PeriodicContext.Provider,{value:y},E.createElement(k.a.RegistrationContext.Consumer,null,(function(t){var n=t.registerPlayer;return E.createElement(p,i()({},h,{customOverlay:e._renderCustomOverlay(),displayOptions:{objectFitVideo:d},setPlayerApi:e._handlePlayerApi(n)}))})))))}}]),n}(E.Component);b()(x,"Consumer",j),b()(x,"defaultProps",{aspectRatio:C.a.theme.aspectRatios.landscape,size:"fill"}),b()(x,"Context",E.createContext({aspectRatio:C.a.theme.aspectRatios.landscape,guestsState:null,playerApi:null,playerState:null,containerRef:null})),b()(x,"PeriodicContext",E.createContext({aspectRatio:C.a.theme.aspectRatios.landscape,guestsState:null,playerApi:null,playerState:null,containerRef:null}));var U=C.a.create({root:{position:"relative"},fill:{width:"100%",height:"100%"},small:{width:480,height:270},medium:{width:640,height:360},large:{width:800,height:450}});t.b=x},743:function(e,t,n){"use strict";t.a={BROADCAST_REQUEST_ERROR:"BROADCAST_REQUEST_ERROR",BROADCAST_ENDED_NO_REPLAY:"BROADCAST_ENDED_NO_REPLAY",BROADCAST_NOT_FOUND:"BROADCAST_NOT_FOUND",CONFIG_USER_DATA_NETWORK_ERROR:"CONFIG_USER_DATA_NETWORK_ERROR",CONFIG_NETWORK_ERROR:"CONFIG_NETWORK_ERROR",DMCA_TAKEDOWN_ERROR:"DMCA_TAKEDOWN_ERROR",EUROPEAN_COPYRIGHT_VIOLATION:"EUROPEAN_COPYRIGHT_VIOLATION",LIVE_PARSE_ERROR:"LIVE_PARSE_ERROR",LIVE_STREAM_ACQUISITION_MISSING_CONTENT_ID:"LIVE_STREAM_ACQUISITION_MISSING_CONTENT_ID",LIVE_STREAM_ACQUISITION_NETWORK_ERROR:"LIVE_STREAM_ACQUISITION_NETWORK_ERROR",LIVE_VIDEO_GEOBLOCK_ERROR:"LIVE_VIDEO_GEOBLOCK_ERROR",LIVE_VIDEO_COPYRIGHT_VIOLATION_ERROR:"LIVE_VIDEO_COPYRIGHT_VIOLATION_ERROR",LIVE_VIDEO_GEOLOCATION_PROMPT:"LIVE_VIDEO_GEOLOCATION_PROMPT",LIVE_VIDEO_NO_COOKIES_ERROR:"LIVE_VIDEO_NO_COOKIES_ERROR",MEDIA_NOT_SUPPORTED:"MEDIA_NOT_SUPPORTED",MEDIA_SRC_INVALID_ERROR:"MEDIA_SRC_INVALID_ERROR",MEDIA_ABORTED:"MEDIA_ABORTED",MEDIA_NETWORK_ERROR:"MEDIA_NETWORK_ERROR",MEDIA_DECODE_ERROR:"MEDIA_DECODE_ERROR",MEDIA_GEOBLOCK_ERROR:"MEDIA_GEOBLOCK_ERROR",MEDIA_TEARDOWN_ERROR:"MEDIA_TEARDOWN_ERROR",MEDIA_UNKNOWN_CODE_ERROR:"MEDIA_UNKNOWN_CODE_ERROR",ORIGINAL_CONTEXT_DELETED:"ORIGINAL_CONTEXT_DELETED",UNSUPPORTED_TYPE:"UNSUPPORTED_TYPE",VMAP_NETWORK_ERROR:"VMAP_NETWORK_ERROR",VMAP_PARSE_ERROR:"VMAP_PARSE_ERROR"}},745:function(e,t,n){"use strict";n.d(t,"c",(function(){return W})),n.d(t,"e",(function(){return H})),n.d(t,"a",(function(){return K})),n.d(t,"f",(function(){return q})),n.d(t,"b",(function(){return J})),n.d(t,"i",(function(){return X})),n.d(t,"g",(function(){return $})),n.d(t,"j",(function(){return Z})),n.d(t,"d",(function(){return ee}));n(50),n(52),n(34),n(376),n(20),n(40),n(51),n(33),n(23);var r=n(41),i=n.n(r),a=n(64),o=n.n(a),s=n(1),c=n.n(s),u=n(753),l=n(853),d=n(766),p=(n(87),n(30),n(378),n(5)),f=n.n(p),h=n(3),y=n.n(h),v=n(779),m=n(764),_=n(743),g=(n(113),n(24),n(58)),b=n.n(g);var E=/^[0-9]{1,6}(\.[0-9]+)?$/,T=/^([0-9]{0,3}[hH])?([0-9]{0,2}[mM])?([0-9]{0,6}[sS])?$/,O=n(817),I=(n(115),n(31),n(55),n(763));function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P={features:{fatalErrorRetryMax:3},translations:{}},A=function(){function e(t,n){f()(this,e),this.httpClient=t,this.logger=n}return y()(e,[{key:"load",value:function(e,t){var n=this;if(!this.httpClient)return Promise.reject(_.a.MEDIA_TEARDOWN_ERROR);var r=e.videoConfig,a=i()(e,["videoConfig"]);return(r&&(r.vmapUrl||e.videoConfig.variants&&e.videoConfig.variants.length>0)?this.loadStaticConfigState(r,e.source):this.loadDynamicConfigState(e.source,r,t)).then((function(e){return n.convertConfigStateToPlayerState(e,a,t)}))}},{key:"loadStaticConfigState",value:function(e,t){var n=this,r=function(){try{return JSON.parse(window.sessionStorage.getItem("TwitterVideoPlayerUserConfig"))}catch(e){}}(),i={eventId:e.eventId,posterImage:e.poster,track:{contentId:e.contentId,contentType:e.contentType,cta:e.cta,durationMs:e.durationMs,expandedUrl:e.expandedUrl,mediaAvailability:e.mediaAvailability,publisherId:e.publisherId,shouldLoop:e.loop,variants:e.variants,viewCount:e.viewCount,vmapUrl:e.vmapUrl}};if(!e.shouldLoadTranslations||!this._shouldLoadStaticConfig(t))return Promise.resolve(w(w({},P),i));var a=this.httpClient.dispatch({method:"GET",path:"/1.1/videos/static/config.json",host:"https://api.twitter.com"}).then((function(e){if(200!==e.status)throw new Error("".concat(_.a.CONFIG_USER_DATA_NETWORK_ERROR,":").concat(e.status));var t=JSON.parse(e.body);return function(e){try{window.sessionStorage.setItem("TwitterVideoPlayerUserConfig",JSON.stringify(e))}catch(e){}}(t),t}),(function(){throw new Error(_.a.CONFIG_USER_DATA_NETWORK_ERROR)})).catch((function(e){return n.logger.log("ConfigurationLoader","failed to load static configuration: ".concat(e)),w({},P)}));return(r?Promise.resolve(r):a).then((function(e){var t=e.features,n=e.translations;return w(w({},i),{},{features:t,translations:n})}))}},{key:"loadDynamicConfigState",value:function(e,t,n){if(e.type===I.a.BROADCAST&&t&&!t.shouldLoadTranslations)return Promise.resolve(w({},P));try{return this.httpClient.dispatch({method:"GET",path:this.getApiEndpointForPlayerSource(e),host:"https://api.twitter.com",params:{bitrate_cap:n.bitrateCap}}).then((function(e){if(200!==e.status)throw new Error("".concat(_.a.CONFIG_NETWORK_ERROR,":").concat(e.status));var n=JSON.parse(e.body);return t&&t.poster&&(n.posterImage=t.poster),n}),(function(){throw new Error(_.a.CONFIG_NETWORK_ERROR)}))}catch(e){return Promise.reject(e)}}},{key:"convertConfigStateToPlayerState",value:function(e,t,n){var r,a,o=e.track,s=e.translations,c=i()(e,["track","translations"]),u=n.reloadTimecode,l=function(e){if(E.test(e))return+e;var t=T.exec(e);if(t&&t[0]){var n=b()(t,4),r=n[1],i=n[2],a=n[3],o=0;return r&&(o+=3600*+r.slice(0,-1)),i&&(o+=60*+i.slice(0,-1)),a&&(o+=+a.slice(0,-1)),o}}(n.requestedTimecode),d=l>0||0===l?l:-1;!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e}(s),o&&(a=o.mediaAvailability,n.maxLoopCount&&(o.maxLoopCount=n.maxLoopCount,o.loopCounter=0),o.variants&&o.variants.length>0?r=o.variants:o.playbackUrl&&o.playbackType&&(r=[{src:o.playbackUrl,type:o.playbackType}])),Object(O.a)()&&(r=Object(m.a)(r));var p,f=Object(v.a)(a);if(f)switch(f){case _.a.ORIGINAL_CONTEXT_DELETED:case _.a.DMCA_TAKEDOWN_ERROR:throw new Error(f);case _.a.EUROPEAN_COPYRIGHT_VIOLATION:throw(p=new Error(f)).copyrightHolder=a.unavailability_info.copyright_violation.copyright_holder_name,p}return w(w(w({},t),c),{},{tracks:[w(w({},o),{},{id:0,displayType:"content",requestedTimecode:d,reloadTimecode:u,rotation:0,variants:r,currentVariantIndex:0})],currentTrackId:0,source:w(w({},t.source),{},{trackId:0}),mediaAvailability:a})}},{key:"getApiEndpointForPlayerSource",value:function(e){switch(e.type){case I.a.TWEET:var t=e.index>0?"/".concat(e.index):"";return"".concat("/1.1/videos/","tweet/config/").concat(e.id).concat(t,".json");case I.a.BROADCAST:return"".concat("/1.1/videos/","broadcast/config/").concat(e.id,".json");case I.a.DM:return"".concat("/1.1/videos/","dm/config/").concat(e.id,".json");default:throw new Error("".concat(_.a.UNSUPPORTED_TYPE,":").concat(e.type))}}},{key:"_shouldLoadStaticConfig",value:function(e){return e.type!==I.a.STATIC_BROADCAST}}]),e}(),D=n(765);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k="error",L="playback",M=function(){function e(t,n,r,i,a){f()(this,e),this.dispatch=t,this.httpClient=n,this.twitterAuthedHttpClient=r,this.playerId=i,this.showGeolocationPrompt=a}return y()(e,[{key:"load",value:function(e){if(!this.httpClient||!this.twitterAuthedHttpClient)return Promise.reject(_.a.MEDIA_TEARDOWN_ERROR);var t=e.tracks[0];return"live"!==t.contentType&&"broadcast"!==t.contentType?Promise.resolve(e):t.contentId?this.getUserPermission(t).then(this.getUserGeolocation.bind(this)).then(this.parseGeolocationData.bind(this)).then(this.acquireLiveStream.bind(this,e)).then(this.parseStreamAcquisitionResponse.bind(this)).then(this.setCookies.bind(this)).then(this.checkCookies.bind(this)).catch(this.handleRejectedPromises.bind(this)).then((function(n){var r=n.isLiveTimecode,i=n.playbackUrl,a=n.lifecycleToken,o=n.chatToken,s=n.broadcastShareUrl,c=n.restrictions;if(void 0!==c){if(void 0!==c.find((function(e){return"geoblocked"===e.restriction})))throw new Error(_.a.LIVE_VIDEO_GEOBLOCK_ERROR);var u=c.find((function(e){return"copyright-violation"===e.restriction}));if(void 0!==u){var l,d=u.copyright_violation_type;l=void 0!==d&&"TYPE_1"===d?_.a.EUROPEAN_COPYRIGHT_VIOLATION:_.a.LIVE_VIDEO_COPYRIGHT_VIOLATION_ERROR;var p=new Error(l);throw p.copyrightHolder=u.copyright_violation_copyright_holder_name,p}}return C(C({},e),{},{tracks:[C(C({},t),{},{isLive:"live"===t.contentType||t.isLive,isLiveTimecode:r,variants:[{src:i,type:"application/x-mpegURL"}],lifecycleToken:a,chatToken:o,broadcastShareUrl:s})]})})):Promise.reject(Error(_.a.LIVE_STREAM_ACQUISITION_MISSING_CONTENT_ID))}},{key:"getUserPermission",value:function(e){return e.isEventGeoblocked?this.showGeolocationPrompt?Promise.resolve({shouldGetGeolocation:!0}):"permissions"in navigator?navigator.permissions.query({name:"geolocation"}).then((function(e){var t="granted"===e.state;return Promise.resolve({shouldGetGeolocation:t})})):Promise.resolve({shouldGetGeolocation:!1}):Promise.resolve({shouldGetGeolocation:!1})}},{key:"getUserGeolocation",value:function(e){return e.shouldGetGeolocation&&"geolocation"in navigator?(this.dispatch(Object(u.g)(this.playerId)),new Promise((function(e){navigator.geolocation.getCurrentPosition((function(t){return e(t)}),(function(){return e()}))}))):Promise.resolve()}},{key:"parseGeolocationData",value:function(e){return Promise.resolve({latitude:e&&e.coords.latitude,longitude:e&&e.coords.longitude})}},{key:"acquireLiveStream",value:function(e,t){var n=this,r=this.getLiveStreamAcquisitionDetails(e,t),i=r.params,a=r.path,o=r.isLiveTimecode;return this.twitterAuthedHttpClient.dispatch({host:"https://api.twitter.com",method:"GET",params:i,path:a}).then((function(e){return e.status<200||e.status>=400?Promise.reject({type:k,reason:_.a.LIVE_STREAM_ACQUISITION_NETWORK_ERROR}):(n.dispatch(Object(u.f)(n.playerId)),Promise.resolve({body:e.body,isLiveTimecode:o}))}),(function(){return Promise.reject({type:k,reason:_.a.LIVE_STREAM_ACQUISITION_NETWORK_ERROR})}))}},{key:"getLiveStreamAcquisitionDetails",value:function(e,t){var n=t.latitude,r=t.longitude,i=e.client,a=e.source,o=a&&a.trackId||0,s=e.tracks[o],c={client:i,use_syndication_guest_id:"tfw"===i,lat:n,lng:r,cookie_set_host:new D.a(window.location.href).getHostname()},u=e.features&&e.features.isLiveTimecodeEnabled&&(s.requestedTimecode>0||0===s.requestedTimecode);return u&&(c.latest_replay_playlist=!0),{params:c,isLiveTimecode:u,path:"".concat("/1.1/live_video_stream/status/").concat(s.contentId)}}},{key:"parseStreamAcquisitionResponse",value:function(e){var t=JSON.parse(e.body);return t&&t.source&&t.source.noRedirectPlaybackUrl?Promise.resolve({cookieSetUrl:t.source.cookieSetUrl,isLiveTimecode:e.isLiveTimecode,playbackUrl:t.source.noRedirectPlaybackUrl,lifecycleToken:t.lifecycleToken,chatToken:t.chatToken,broadcastShareUrl:t.shareUrl,restrictions:t.restrictions}):Promise.reject({type:k,reason:_.a.LIVE_PARSE_ERROR})}},{key:"setCookies",value:function(e){var t=e.cookieSetUrl,n=i()(e,["cookieSetUrl"]);return t?this.httpClient.dispatch({method:"GET",path:t,host:"",withCredentials:!0}).then((function(){return Promise.resolve(e)}),(function(){return Promise.reject({type:L,payload:n})})):Promise.reject({type:L,payload:n})}},{key:"checkCookies",value:function(e){var t=new D.a(e.cookieSetUrl);return window.location.host===t.getHostname()?Promise.resolve(e):this.httpClient.dispatch({method:"GET",path:"https://t.lv.twimg.com/live_video_stream/cookie_check",host:"",withCredentials:!0}).then((function(t){return 400!==t.status?Promise.resolve(e):Promise.reject({type:k,reason:_.a.LIVE_VIDEO_NO_COOKIES_ERROR})}),(function(){return Promise.reject({type:k,reason:_.a.LIVE_VIDEO_NO_COOKIES_ERROR})}))}},{key:"handleRejectedPromises",value:function(e){if(e.type===L)return Promise.resolve(e.payload);var t=e.reason?new Error(e.reason):e;return Promise.reject(t)}}]),e}();n(839),n(386);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(){function e(t){f()(this,e),this.httpClient=t}return y()(e,[{key:"load",value:function(e){var t=this;if(!this.httpClient)return Promise.reject(_.a.MEDIA_TEARDOWN_ERROR);var n=e.tracks[0];return"vmap"!==n.contentType?Promise.resolve(e):this.httpClient.dispatch({method:"GET",path:n.vmapUrl,host:"",withCredentials:!1}).then((function(r){if(r.status<200||r.status>=400)throw new Error(_.a.VMAP_NETWORK_ERROR);var i=t.parseVmap(r.body);return j(j({},e),{},{tracks:[j(j({},n),i)]})}),(function(){throw new Error(_.a.VMAP_NETWORK_ERROR)}))}},{key:"parseVmap",value:function(e){var t=(new window.DOMParser).parseFromString(e,"application/xml").getElementsByTagNameNS("http://twitter.com/schema/videoVMapV2.xsd","content")[0];if(void 0===t)throw new Error(_.a.VMAP_PARSE_ERROR);var n=t.getElementsByTagName("MediaFile")[0];if(void 0===n)throw new Error(_.a.VMAP_PARSE_ERROR);var r=n.textContent.trim().replace(/^http:\/\/amp\.twimg\.com\//,"https://amp.twimg.com/"),i=n.getAttribute("type")||function(e){var t=new D.a(e).getPath();return".m3u8"===t.slice(t.lastIndexOf("."))?"application/x-mpegURL":"video/mp4"}(r);return{publisherId:t.getAttribute("ownerId"),contentId:t.getAttribute("contentId"),variants:[{src:r,type:i}],cta:this.getCta(t)}}},{key:"getCta",value:function(e){var t=e.getElementsByTagNameNS("http://twitter.com/schema/videoVMapV2.xsd","cta_open_url")[0],n=e.getElementsByTagNameNS("http://twitter.com/schema/videoVMapV2.xsd","cta_watch_now")[0];return void 0!==t?{type:"url",url:t.getAttribute("url")}:void 0!==n?{type:"watch",url:n.getAttribute("url")}:void 0}}]),e}(),U=function(e,t,n,r,i,a,o){return[new A(n,o),new d.b(n,a),new x(t),new M(e,t,n,r,i)]},B=function(e,t,n,r){var i=Promise.resolve({source:e,videoConfig:t});return n.reduce((function(e,t){return e.then((function(e){return t.load(e,r)}))}),i)},F=n(757);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W="CONFIGURE_PLAYER",Y=function(e,t,n,r,i,a,o,s,c){return{type:W,source:t,session:n,analytics:r,playerId:e,adProvider:i,videoConfig:a,promotedContext:o,initiallyMutedCaptions:s,intentToPlayTime:c}},H="RELOADING_PLAYER",z=function(e,t,n){return{type:H,playerId:e,source:t,session:n}},K="BROADCAST_UPDATED",q=function(e,t){return{type:K,updatedState:t,playerId:e}},J="CONFIGURATION_LOADED",Q=function(e,t){return{type:J,playerState:t,playerId:e}},X=function(e,t){return{type:"FEATURES_LOADED",features:t,playerId:e}},$=function(e,t,n,r,i,a,o,s){var c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},l=arguments.length>9?arguments[9]:void 0;return function(p){return p(Y(e,t,r,i,a,n,c.promotedContext,c.initiallyMutedCaptions,c.intentToPlayTime)),B(t,n,U(p,Object(F.c)(e),Object(F.e)(e),e,c.showGeolocationPrompt,c.includeBroadcastEventAssociation,l),c).then((function(t){if(p(Q(e,t)),o(),Object(d.c)(t)){var n=t.source.id,r=new d.a(p,Object(F.e)(e),e,n,c.includeBroadcastEventAssociation);return r.queueUpdate(t.isLive).catch((function(t){p(Object(u.d)(e,t))})),r}})).catch((function(t){p(Object(u.d)(e,t)),s()}))}},Z=function(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0;return function(c){return c(z(e,t,r)),B(t,n,U(c,Object(F.c)(e),Object(F.e)(e),e,o.showGeolocationPrompt,o.includeBroadcastEventAssociation,s),o).then((function(t){c(Q(e,t)),i()})).catch((function(t){c(Object(u.d)(e,t)),a()}))}},ee=(t.h=function(e,t){switch(t.type){case W:case H:return G(G(G({},e),t.promotedContext),{},{source:t.source,session:t.session,playerId:t.playerId,configuration:{loading:!0}});case J:var n=e.currentTrackId?e.currentTrackId:t.playerState.currentTrackId,r=[].concat(o()(t.playerState.tracks||[]),o()(e.tracks||[]));return t.playerState.features.isDebuggingEnabled&&(l.a.debuggingEnabled=!0),G(G(G({},e),t.playerState),{},{currentTrackId:n,features:G(G({},e.features),t.playerState.features),tracks:r,configuration:{loading:!1}});case"FEATURES_LOADED":return G(G({},e),{},{features:G(G({},e.features),t.features)});case K:var a=t.updatedState,s=a.cta,c=a.isLive,u=a.viewerCount,d=a.viewCount,p=i()(a,["cta","isLive","viewerCount","viewCount"]),f=function(e){var t=e.tracks;return{sourceTrack:t.find((function(t){return t.id===e.source.trackId})),otherTracks:t.filter((function(t){return t.id!==e.source.trackId}))}}(e),h=f.sourceTrack,y=f.otherTracks;return h&&(0===h.requestedTimecode||h.requestedTimecode>0)&&delete p.posterImage,G(G(G({},e),p),{},{tracks:[].concat(o()(y),[G(G({},h),{},{cta:s,isLive:c,viewerCount:u,viewCount:d})])});default:return e}},{configuration:{loading:!1,error:void 0},tracks:[]})},747:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a}));var r={EVENT:"event",VISIT:"url",WATCH:"watch",IMAGE:"image",WATCH_NOW:"watch_now",SHOP:"shop"},i=3,a=["cover","contain"]},749:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"a",(function(){return h}));n(50),n(34),n(376),n(20),n(40),n(51),n(33),n(23);var r=n(1),i=n.n(r),a=n(745),o=n(758),s=n(740);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l="PLAY_PREVIEW",d=function(e){return{type:l,playerId:e}},p="PAUSE_PREVIEW",f=function(e){return{type:p,playerId:e}};t.d=function(e,t){switch(t.type){case a.c:return u(u({},e),{},{initiallyMutedCaptions:t.initiallyMutedCaptions});case l:return e.isPlaying?e:u(u({},e),{},{isPreview:!0,controls:u(u({},e.controls),{},{muteState:s.j.MUTE_REQUESTED})});case p:return u(u({},e),{},{isPreview:!0,controls:u(u({},e.controls),{},{muteState:s.j.MUTE_REQUESTED})});case s.p:case s.r:case s.t:case s.u:case s.s:case o.b:if(!e.isPreview)return e;var n=e.tracks.find((function(t){return t.id===e.currentTrackId}));if(!n)return e;var r="gif"===n.contentType?void 0:s.j.UNMUTE_REQUESTED;return u(u({},e),{},{isPreview:!1,controls:u(u({},e.controls),{},{muteState:r})});default:return e}};var h={isPreview:!1}},752:function(e,t,n){"use strict";n.d(t,"e",(function(){return p})),n.d(t,"q",(function(){return f})),n.d(t,"f",(function(){return h})),n.d(t,"r",(function(){return y})),n.d(t,"c",(function(){return v})),n.d(t,"n",(function(){return m})),n.d(t,"d",(function(){return _})),n.d(t,"o",(function(){return g})),n.d(t,"p",(function(){return b})),n.d(t,"b",(function(){return E})),n.d(t,"k",(function(){return T})),n.d(t,"l",(function(){return S})),n.d(t,"m",(function(){return w})),n.d(t,"i",(function(){return P})),n.d(t,"h",(function(){return A})),n.d(t,"g",(function(){return D})),n.d(t,"a",(function(){return M}));n(50),n(52),n(34),n(376),n(20),n(113),n(178),n(40),n(51),n(33),n(23);var r=n(64),i=n.n(r),a=n(1537),o=n.n(a),s=n(1),c=n.n(s),u=n(740);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p="TICK",f=function(e,t,n,r,i,a){return{type:p,currentTimeMs:t,absoluteTimeMs:n,durationMs:r,playerId:e,hasCaptions:i,currentVariantIndex:a}},h="TRACK_FINISHED",y=function(e){return{type:h,playerId:e}},v="NEXT_TRACK",m=function(e){return{type:v,playerId:e}},_="PLAYER_READY",g=function(e){return{type:_,playerId:e}},b=function(e,t){return{type:"ROTATION_UPDATED",playerId:e,rotation:t}},E="HLSJS_READY",T=function(e){return{type:E,playerId:e}},O=new Date("Jan 01 1900 GMT").getTime(),I=new Date("Jan 01 1970 GMT").getTime()-O,S=function(e,t){return{type:"ID3_METADATA",playerId:e,metadata:t}},w=function(e,t){return{type:"ID3_TAG_DATA",playerId:e,id3Json:t,currentNtpTime:(Date.now()+I)/1e3}},P=function(e){return{type:"BUFFER_START",playerId:e}},A=function(e){return{type:"BUFFER_END",playerId:e}},D=function(e,t){return{type:"BITRATE_SWITCHED",playerId:e,bitrate:t}},R=function(e){var t=e.tracks;return{currentTrack:t.find((function(t){return t.id===e.currentTrackId})),otherTracks:t.filter((function(t){return t.id!==e.currentTrackId}))}},C=function(e,t){var n=R(e),r=n.currentTrack,i=n.otherTracks;return i.splice(e.currentTrackId,0,t(r)),d(d({},e),{},{tracks:i})},k=function(e,t){return C(e,(function(e){return d(d({},e),t)}))};t.j=function(e,t){switch(t.type){case p:return k(e,{durationMs:t.durationMs,currentTimeMs:t.currentTimeMs,absoluteTimeMs:t.absoluteTimeMs,hasCaptions:t.hasCaptions,currentVariantIndex:t.currentVariantIndex});case u.y:return d(d({},C(e,(function(e){return d(d({},e),{},{playbackCompleted:!1})}))),{},{tracksFinished:!1});case _:return k(e,{playerReady:!0});case"ROTATION_UPDATED":return k(e,{rotation:t.rotation});case"ID3_METADATA":var n=t.metadata,r=e;return n&&(r=k(r,{metadata:n})),r;case"ID3_TAG_DATA":var i=t.id3Json,a=t.currentNtpTime,o=i.ntp,s=e;if(o)s=k(s,{liveLatencyMs:1e3*(a-o)});return s;case"BITRATE_SWITCHED":return k(e,{currentBitrate:t.bitrate});case"BUFFER_START":return k(e,{isBuffering:!0});case"BUFFER_END":return k(e,{isBuffering:!1});case v:return L(e,!0);case h:var c=C(e,(function(e){return d(d({},e),{},{playbackCompleted:!0})}));return L(c);default:return e}};var L=function(e,t){var n=R(e).currentTrack,r=!1!==n.shouldAutoAdvance||t;if(e.nextTrackIds.length>0&&r){var a=o()(e.nextTrackIds),s=a[0],c=a.slice(1),l=e.tracks,p=l.find((function(e){return e.id===s})),f=l.filter((function(e){return e.id!==s}));return d(d({},e),{},{currentTrackId:s,nextTrackIds:c,controls:d(d({},e.controls),{},{playState:u.k.PLAY_REQUESTED,captionsState:e.areCaptionsShown?u.f.CAPTIONS_ON_REQUESTED:u.f.CAPTIONS_OFF_REQUESTED}),intentToPlayTime:void 0,tracks:[].concat(i()(f),[d(d({},p),{},{playerReady:!1})])})}return d(d({},e),{},{intentToPlayTime:void 0,isPlaying:!!n.shouldLoop,tracksFinished:!n.shouldLoop&&0===e.nextTrackIds.length})},M={nextTrackIds:[]}},753:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return y})),n.d(t,"b",(function(){return g}));n(50),n(34),n(20),n(40),n(51),n(33),n(379),n(23);var r=n(1),i=n.n(r),a=n(779),o=n(743),s=n(745);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l="PLAYBACK_ERROR",d=function(e,t){return{type:l,playerId:e,thrownError:t,isFatal:!0}},p="CONFIGURATION_LOAD_ERROR",f=function(e,t){return{type:p,playerId:e,thrownError:t,isFatal:!0}},h=function(e){return{type:"ERROR_RESOLVED",playerId:e}},y=function(e){return{type:"GEOLOCATION_PROMPT",playerId:e}},v=function(e){switch(e.message){case o.a.BROADCAST_ENDED_NO_REPLAY:case o.a.BROADCAST_NOT_FOUND:case o.a.DMCA_TAKEDOWN_ERROR:case o.a.EUROPEAN_COPYRIGHT_VIOLATION:case o.a.ORIGINAL_CONTEXT_DELETED:case o.a.LIVE_VIDEO_GEOBLOCK_ERROR:case o.a.LIVE_VIDEO_COPYRIGHT_VIOLATION_ERROR:case o.a.LIVE_VIDEO_GEOLOCATION_PROMPT:case o.a.MEDIA_GEOBLOCK_ERROR:case o.a.MEDIA_NOT_SUPPORTED:return!1;default:return!0}},m=function(e){if(!v(e))return!1;switch(e.message){case o.a.LIVE_VIDEO_NO_COOKIES_ERROR:return!1;default:return!0}},_=function(e,t){var n=t.errorInfo.count+1,r=v(e),i=m(e)&&n<=t.errorInfo.retryMax;return{backoffMs:i?1e3*t.errorInfo.count:g.backoffMs,count:n,canRetry:r,autoRetry:i}};t.e=function(e,t){switch(t.type){case s.b:var n=parseInt(e.features.fatalErrorRetryMax,10),r=isNaN(n)?g.errorInfo.retryMax:n;return u(u({},e),{},{errorInfo:u(u({},e.errorInfo),{},{retryMax:r})});case s.e:return u(u({},e),{},{error:void 0,errorInfo:u(u({},e.errorInfo),{},{autoRetry:!1,canRetry:!1})});case p:var i,c=t.thrownError,d=_(c,e);return c.message!==o.a.LIVE_VIDEO_COPYRIGHT_VIOLATION_ERROR&&c.message!==o.a.EUROPEAN_COPYRIGHT_VIOLATION||(i={copyrightHolder:c.copyrightHolder}),u(u({},e),{},{error:c.message,errorData:i,errorInfo:u(u({},e.errorInfo),d)});case l:var f=t.thrownError,h=Object(a.a)(e.mediaAvailability),y=h?new Error(h):f,b=_(y,e);return u(u({},e),{},{error:y.message,errorInfo:u(u({},e.errorInfo),b)});case"ERROR_RESOLVED":return u(u({},e),{},{error:void 0,errorInfo:u(u({},e.errorInfo),{},{autoRetry:!1,canRetry:!1})});case"GEOLOCATION_PROMPT":var E=new Error(o.a.LIVE_VIDEO_GEOLOCATION_PROMPT);return u(u({},e),{},{error:E.message,errorInfo:u(u({},e.errorInfo),{},{autoRetry:m(E),canRetry:v(E)})});default:return e}};var g={error:void 0,errorInfo:{autoRetry:!1,backoffMs:void 0,canRetry:!1,count:0,retryMax:0},errorData:void 0}},756:function(e,t,n){"use strict";n(68),n(559),n(228);var r=n(0),i=n(27),a=n(4),o=n(35),s=Object.freeze({live:{backgroundColor:"red500",bold:!0,color:"whiteOnColor"}}),c=function(e){switch(e){case"red500":return l.bgRed;case"primary":return l.bgPrimary;case"gray600":return l.bgDeepGray;case"maskColor":return l.bgMaskColor;case"translucentBlack":default:return l.bgTranslucentBlack}},u=function(e){switch(e){case"translucentBlack":case"maskColor":return"white";default:return"whiteOnColor"}},l=a.a.create((function(e){return{badge:{alignSelf:"flex-start",alignItems:"center",height:e.spaces.medium,justifyContent:"center",paddingHorizontal:e.spaces.xxSmall,borderRadius:e.borderRadii.small},badgeSquare:{width:e.spaces.medium,paddingHorizontal:0,overflow:"hidden"},bgPrimary:{backgroundColor:e.colors.primary},bgRed:{backgroundColor:e.colors.red500},bgMaskColor:{backgroundColor:e.colors.maskColor},bgTranslucentBlack:{backgroundColor:e.colors.translucentBlack77},bgDeepGray:{backgroundColor:e.colors.gray600}}}));t.a=function(e){var t=e.bold,n=e.children,a=e.background,d=void 0===a?"translucentBlack":a,p=e.square,f=e.style,h=e.type,y=h?s[h]:{},v=c(y.backgroundColor||d),m=y.color||u(d),_=y.bold||t;return r.createElement(o.default,{pointerEvents:"none",style:[l.badge,p?l.badgeSquare:null,v,f]},r.createElement(i.c,{align:"center",color:m,size:"small",weight:_?"bold":void 0},n))}},757:function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"h",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"g",(function(){return p}));n(34),n(376),n(113);var r={},i=function(e,t,n,i,a,o){r[e]={httpClient:t,twitterAuthedHttpClient:n,errorLogger:i,hlsJsDataUsageTracker:a,featureProvider:o}},a=function(e){delete r[e]},o=function(e){return r[e]&&r[e].httpClient},s=function(e){return r[e]&&r[e].twitterAuthedHttpClient},c=function(e,t){r[e]&&t(r[e].errorLogger)},u=function(e){return function(e){return r[e]||{}}(e).featureProvider},l=function(e,t){r[e]&&t(r[e].hlsJsDataUsageTracker)},d=[],p=function(e){if(!e)throw new SyntaxError("Missing parameter: playbackSessionId");var t=d.find((function(t){return t.playbackSessionId===e}));return d=d.filter((function(t){return t.playbackSessionId!==e})),t}},758:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"a",(function(){return f}));n(50),n(34),n(20),n(40),n(51),n(33),n(23);var r=n(1),i=n.n(r);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s="REQUEST_FULLSCREEN",c=function(e,t,n){return{type:s,playerId:e,containerEl:t,videoEl:n}},u="REQUEST_SHRINK",l=function(e,t){return{playerId:e,type:u,element:t}},d="SET_FULLSCREEN_STATE",p=function(e,t){return{type:d,playerId:e,isFullscreen:t}};t.e=function(e,t){switch(t.type){case d:return o(o({},e),{},{fullscreen:o(o({},e.fullscreen),{},{isFullscreen:t.isFullscreen})});default:return e}};var f={fullscreen:{isFullscreen:!1}}},761:function(e,t,n){"use strict";var r=n(2),i=n.n(r),a=n(41),o=n.n(a),s=n(0),c=n(756),u=n(4).a.create((function(e){return{root:{position:"absolute",bottom:e.spaces.xSmall},alignRight:{right:e.spaces.xSmall},alignLeft:{left:e.spaces.xSmall}}}));t.a=function(e){var t=e.align,n=e.style,r=o()(e,["align","style"]);return s.createElement(c.a,i()({style:[n,u.root,"right"===t?u.alignRight:u.alignLeft]},r))}},762:function(e,t,n){"use strict";n(382);var r=n(13),i={},a=["touchend","touchmove","touchstart"];t.a={isTouchSupported:function(){return r.canUseDOM&&a.some((function(e){return!!function(e,t){if(void 0!==i[e])return i[e];var n=document.createElement(t||"div"),r="on".concat(e),a=r in n;return a||(n.setAttribute(r,"return;"),a="function"==typeof n[r]),i[e]=a,a}(e)}))}}},763:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(68);var r=Object.freeze({BROADCAST:"broadcast",DM:"dm",TWEET:"tweet",STATIC_BROADCAST:"static_broadcast"})},764:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return p}));n(50),n(34),n(376),n(20),n(100),n(40),n(51),n(33),n(30),n(115),n(24),n(31),n(23);var r=n(1),i=n.n(r),a=n(765);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e,t){if(e.tracks)return e.tracks.find((function(e){return e.id===t}))},u=function(e){return c(e,e.currentTrackId)},l=function(e){return e.tracks?e.tracks.filter((function(t){return t.id!==e.currentTrackId})):[]},d=new RegExp(/^https:\/\/[\w-]+.twimg.com\/.+\.m3u8/),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(f)},f=function(e){var t=e.src;if(d.test(t)){var n=new a.a(t);n.addSearchParam("descending",!0),t=n.toString()}return s(s({},e),{},{src:t})}},765:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));n(52),n(103),n(126),n(100),n(33),n(30),n(24),n(102),n(88),n(229),n(128),n(388);var r=n(5),i=n.n(r),a=n(3),o=n.n(a);function s(e){return Object.keys(e).map((function(t){var n=void 0===e[t]?"":encodeURIComponent(e[t]);return"".concat(encodeURIComponent(t),"=").concat(n)})).join("&")}var c=function(){function e(t){i()(this,e);try{this.parser=new URL(t)}catch(e){this.parser=document.createElement("a"),this.parser.href=t}}return o()(e,[{key:"getHostname",value:function(){return this.parser.hostname}},{key:"getPath",value:function(){return this.parser.pathname}},{key:"isSafe",value:function(){return!!this.parser.protocol.match(/^https?:$/)}},{key:"addSearchParam",value:function(e,t){this.parser.search?this.parser.search="".concat(this.parser.search,"&").concat(e,"=").concat(t):this.parser.search="?".concat(e,"=").concat(t)}},{key:"toString",value:function(){return this.parser.href}}]),e}();t.a=c},766:function(e,t,n){"use strict";n.d(t,"c",(function(){return E})),n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return O}));n(50),n(227),n(52),n(34),n(20),n(126),n(40),n(51),n(33),n(30),n(379),n(378),n(23);var r=n(5),i=n.n(r),a=n(3),o=n.n(a),s=n(1),c=n.n(s),u=n(41),l=n.n(u),d=n(745),p=n(747),f=n(743),h=n(764),y=n(763);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{ids:e.join(","),include_events:t}},g=function(e,t,n){try{return e.dispatch({method:"GET",host:"https://api.twitter.com",path:"/1.1/broadcasts/show.json",params:_([t],n),withCredentials:!0}).then((function(e){if(200!==e.status)return Promise.reject("".concat(f.a.BROADCAST_REQUEST_ERROR,":").concat(e.status));var n=JSON.parse(e.body),r=n.broadcasts,i=n.events;if(!r||!r[t]||!r[t].broadcast_id)return Promise.reject(f.a.BROADCAST_NOT_FOUND);if("RUNNING"!==r[t].state&&!r[t].available_for_replay)return Promise.reject(f.a.BROADCAST_ENDED_NO_REPLAY);var a={broadcast:r[t]};return i&&i[t]&&i[t].length&&(a.associatedEvent=i[t][0]),a}),(function(e){return console.log(e),Promise.reject(f.a.BROADCAST_REQUEST_ERROR)}))}catch(e){return Promise.reject(e)}},b=function(e){var t=e.broadcast,n=e.associatedEvent,r=void 0===n?{}:n,i=t.state,a=t.total_watched,o=t.total_watching,s=t.image_url,c=t.start_ms,u=t.ping_ms,l=t.timedout_ms,d=t.end_ms,f=r.description,h=r.title,y=r.url,v=r.id,m="RUNNING"===i,_=s,g=parseInt(o,10)||0,b=parseInt(a,10)||0,E={isLive:m,viewerCount:m?g:b,posterImage:_,eventDescription:f,eventTitle:h,eventUrl:y,eventId:v};if(h&&y&&(E.cta={label:h,type:p.a.EVENT,url:y}),!m){var T=(d||l||u||c)-c;E.durationMs=T}return E},E=function(e){return e.source&&e.source.type===y.a.BROADCAST},T=function(){function e(t,n,r,a,o){i()(this,e),this.dispatch=t,this.httpClient=n,this.playerId=r,this.broadcastId=a,this.includeBroadcastEventAssociation=o,this.updaterTimeout=null}return o()(e,[{key:"queueUpdate",value:function(e){var t,n,r=this,i=e?15:30,a=new Promise((function(e,r){t=e,n=r}));return this.updaterTimeout=setTimeout((function(){var e,i,a;(e=r.httpClient,i=r.broadcastId,a=r.includeBroadcastEventAssociation,g(e,i,a).then((function(e){return b(e)}),(function(e){throw new Error(e)}))).then((function(e){null!=r.updaterTimeout&&(r.queueUpdate(e.isLive),r.dispatch(Object(d.f)(r.playerId,e))),t()}),(function(e){console.log(e),n(e)}))}),1e3*i),a}},{key:"cancelUpdate",value:function(){clearTimeout(this.updaterTimeout),this.updaterTimeout=null}}]),e}(),O=function(){function e(t,n){i()(this,e),this.httpClient=t,this.includeBroadcastEventAssociation=n}return o()(e,[{key:"load",value:function(e){return this.httpClient?function(e,t,n){if(!E(t))return Promise.resolve(t);var r=t.source.id;return g(e,r,n).then((function(e){var n,r,i,a,o,s,c,u,d,p,f=Object(h.d)(t,0),y=(n=e.broadcast,r=n.broadcast_id,i=n.media_key,a=n.profile_image_url,o=n.replay_edited_start_time,s=n.requires_fine_grain_geoblocking,c=n.twitter_user_id,u=n.user_id,d=n.unavailable_in_periscope,p=n.user_display_name,{broadcastId:r,contentId:i,contentType:"broadcast",displayType:"content",expandedUrl:"https://www.pscp.tv/w/".concat(r),isEventGeoblocked:s,playbackType:"application/x-mpegURL",publisherDisplayName:p,publisherId:c,periscopePublisherId:u,publisherProfileImageUrl:a,replayEditedStartTime:o,shouldLoop:!1,unavailableInPeriscope:d}),v=b(e),_=v.cta,g=v.durationMs,E=v.isLive,T=v.viewerCount,O=v.viewCount,I=l()(v,["cta","durationMs","isLive","viewerCount","viewCount"]);return t.posterImage&&delete I.posterImage,m(m(m({},t),I),{},{client:"web",tracks:[m(m(m({},f),y),{},{cta:_,durationMs:g,id:0,isLive:E,viewerCount:T,viewCount:O})],currentTrackId:0,source:m(m({},t.source),{},{trackId:0})})}),(function(e){throw new Error(e)}))}(this.httpClient,e,this.includeBroadcastEventAssociation):Promise.reject(f.a.MEDIA_TEARDOWN_ERROR)}}]),e}()},770:function(e,t,n){"use strict";var r=n(2),i=n.n(r),a=n(41),o=n.n(a),s=n(0),c=n(4),u=n(176),l=n(377),d=s.createContext(!1);t.a=function(e){var t=e.withOutsetFocusRing,n=e.withDarkerInteractiveBackground,r=void 0!==n&&n,a=e.withInteractiveStyling,p=void 0===a||a,f=e.withFocusWithinFocusRing,h=void 0!==f&&f,y=o()(e,["withOutsetFocusRing","withDarkerInteractiveBackground","withInteractiveStyling","withFocusWithinFocusRing"]),v=s.useContext(d),m=p?function(e){var t=e.isInAParentListItem,n=e.withDarkerInteractiveBackground,r=e.withOutsetFocusRing,i=e.withFocusWithinFocusRing;return u.a.generate({backgroundColor:c.a.theme.colors.transparent,color:c.a.theme.colors.primary,customFocusBackgroundColor:n?c.a.theme.colors.hoverBlack:c.a.theme.colors.gray0,customHoverBackgroundColor:t||n?c.a.theme.colors.hoverBlack:c.a.theme.colors.gray0,customPressedBackgroundColor:t?c.a.theme.colors.activeBlack:c.a.theme.colors.activeFaintGray,insetFocusRing:!r,withFocusWithinFocusRing:i})}({isInAParentListItem:v,withDarkerInteractiveBackground:r,withOutsetFocusRing:t,withFocusWithinFocusRing:h}):null;return s.createElement(d.Provider,{value:!0},s.createElement(l.a,i()({},y,{interactiveStyles:m})))}},772:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));n(52),n(30),n(61),n(31);var r=n(2),i=n.n(r),a=n(41),o=n.n(a),s=n(5),c=n.n(s),u=n(3),l=n.n(u),d=n(7),p=n.n(d),f=n(17),h=n.n(f),y=n(21),v=n.n(y),m=n(11),_=n.n(m),g=n(1),b=n.n(g),E=n(0),T=n(143),O=n.n(T),I=n(737),S=n(176),w=n(377),P=n(4),A=n(35);n(101);function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_()(e);if(t){var i=_()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var R=function(e){return E.createElement("circle",i()({cx:"50%",cy:"50%",fill:"none",strokeWidth:2},e))},C=function(e){h()(n,e);var t=D(n);function n(){return c()(this,n),t.apply(this,arguments)}return l()(n,[{key:"_getProgressStyles",value:function(e,t){var n=2*Math.PI*t;return{strokeDashoffset:(1-e)*n,strokeDasharray:n}}},{key:"render",value:function(){var e=this.props,t=e.accessibilityLabel,n=e.color,r=e.progress,i=e.size,a=e.style,o=e.type,s=P.a.theme.colors,c=s[n],u="onMedia"===o?s.white:s.borderColor,l=Math.min(r,1),d=function(e){return"number"==typeof e?e:"large"===e?36:20}(i),p=d/2-1,f=this._getProgressStyles(l,p);return E.createElement(A.default,{accessibilityLabel:t,accessibilityRole:"progressbar",accessibilityValue:{max:100,min:0,now:Math.floor(100*l)},style:[k.root,a]},E.createElement(A.default,{style:[k.inner,{height:d,width:d}]},E.createElement("svg",{height:"100%",style:{overflow:"visible"},viewBox:"0 0 ".concat(d," ").concat(d),width:"100%"},R({r:p,stroke:u}),R({r:p,stroke:c,strokeLinecap:"round",style:f}))))}}]),n}(E.Component);b()(C,"defaultProps",{color:"primary",progress:0,size:"small",type:"normal"}),C.propTypes={};var k=P.a.create({root:{alignItems:"center",justifyContent:"center"},inner:{transform:[{rotate:"-90deg"}],transitionProperty:"height, width",transitionDuration:"0.15s"}}),L=C,M=n(25);function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_()(e);if(t){var i=_()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var j=O.a.f17dfdb5,x=function(e){h()(n,e);var t=N(n);function n(){var e;c()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),b()(p()(e),"state",{progress:0}),b()(p()(e),"_getInteractiveStyle",(function(){return"upNext"===e.props.type?S.a.generate({backgroundColor:P.a.theme.colors.transparent,color:P.a.theme.colors.white}):S.a.generate({backgroundColor:P.a.theme.colors.primary,color:P.a.theme.colors.white,customFocusRingColor:"rgba(255,255,255,0.5)"})})),b()(p()(e),"_animateProgress",(function(){var t=e.props,n=t.duration,r=t.onComplete;if(n&&r&&e._startTime){var i=Math.min(1,(Date.now()-e._startTime)/n);e.setState({progress:i}),1===i?r():e._frame=window.requestAnimationFrame(e._animateProgress)}})),e}return l()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.type,n=e.duration,r=e.onComplete;"upNext"===t&&n&&r&&(this._startTime=Date.now(),this._frame=window.requestAnimationFrame(this._animateProgress))}},{key:"componentWillUnmount",value:function(){window.cancelAnimationFrame(this._frame)}},{key:"render",value:function(){var e=this.props,t=e.accessibilityLabel,n=e.duration,r=e.onComplete,a=e.onPress,s=e.size,c=e.type,u=o()(e,["accessibilityLabel","duration","onComplete","onPress","size","type"]);if(!("upNext"!==c||n&&r))return null;var l=this._getInteractiveStyle();return E.createElement(w.a,i()({},u,{accessibilityLabel:t,interactiveStyles:l,onPress:a,style:[this._getViewSizeStyles(s),"upNext"!==c&&U.videoButtonColor,"upNext"!==this.props.type&&U.border]}),"upNext"===c&&E.createElement(L,{color:"blue500",progress:this.state.progress,size:this._getProgressCircleSize(s),type:"onMedia"}),E.createElement(A.default,{style:U.iconWrapper},E.createElement(I.IconPlay,{style:[U.playIcon,M.default.isRTL?U.rightAlignIcon:U.leftAlignIcon,"upNext"===c&&U.upNextIconSize]})))}},{key:"_getViewSizeStyles",value:function(e){return"small"===e?U.smallViewSize:U.root}},{key:"_getProgressCircleSize",value:function(e){return"small"===e?35:67}}]),n}(E.Component);b()(x,"defaultProps",{accessibilityLabel:j,size:"normal",type:"video"});var U=P.a.create((function(e){return{root:{borderRadius:e.borderRadii.infinite,height:67,width:67},smallViewSize:{borderRadius:e.borderRadii.infinite,height:35,width:35},videoButtonColor:{backgroundColor:e.colors.primary},iconWrapper:{justifyContent:"center",alignItems:"center",position:"absolute",height:"100%",width:"100%"},border:{borderColor:e.colors.white,borderWidth:e.borderWidths.large,borderStyle:"solid"},playIcon:{height:"calc(50% + ".concat(e.borderWidths.large,")"),width:"calc(50% + ".concat(e.borderWidths.large,")"),color:e.colors.white},leftAlignIcon:{paddingLeft:3},rightAlignIcon:{paddingRight:3},upNextIconSize:{height:"50%",width:"50%"}}}))},774:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(68),n(0);var r=Object.freeze({AUTO_SWIPE:"auto_swipe",USER_SWIPE:"user_swipe",CLICK:"click",OPEN_LINK:"open_link",CLICK_ID_EMBED:"click_id_embed",UC_APP_STORE_OPEN_LINK:"unified_card_app_store_open_link",SHOW:"show",OPEN_WEB_VIEW_CARD:"open_web_view_card",MESSAGE_ME_SHOW:"message_me_show",MESSAGE_ME_CLICK:"message_me_click",VOTE:"vote",REMINDER:"reminder"})},776:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]="number"==typeof e[n]?e[n]:e[n].val);return t},e.exports=t.default},777:function(e,t,n){"use strict";n(50),n(34),n(20),n(40),n(51),n(33),n(23);var r=n(1),i=n.n(r),a=n(1528);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={showControls:!0,promotedContext:{}};t.a={createPlayer:function(e){var t=e.domElement,n=e.source,r=e.videoConfig,i=e.httpClient,o=e.twitterAuthedHttpClient,u=e.options,l=void 0===u?{}:u;return new a.a({videoConfig:r,source:n,domElement:t,httpClient:i,twitterAuthedHttpClient:o,options:s(s({},c),l)})}}},778:function(e,t,n){"use strict";t.a={BROADCAST_EVENT_ASSOCIATION_UPDATED:"broadcastEventAssociationUpdated",FULLSCREEN_ENTERED:"fullscreenEntered",FULLSCREEN_EXITED:"fullscreenExited",HLSJS_INSTANTIATED:"hlsJsInstantiated",GEOBLOCK_ERROR:"geoblockError",LIVE_ENDED:"liveEnded",LIVE_STARTED:"liveStarted",LIVE_CLICKTHROUGH:"liveClickthrough",MUTE:"mute",NO_COOKIES_ERROR:"noCookiesError",PAUSE:"pause",PLAY:"play",PLAYBACK_COMPLETE:"playbackComplete",READY:"ready",UNMUTE:"unmute"}},779:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));n(376),n(33);var r=n(743);function i(e,t){var n=e.getState();if(n&&n.players&&n.players[t])return n.players[t]}var a=function(e){if(e&&"unavailable"===e.status)switch(e.reason){case"geoblocked":return r.a.MEDIA_GEOBLOCK_ERROR;case"deleted":return r.a.ORIGINAL_CONTEXT_DELETED;case"dmcaed":return r.a.DMCA_TAKEDOWN_ERROR;case"copyright_violation":return r.a.EUROPEAN_COPYRIGHT_VIOLATION}return null},o=function(e,t){var n=Object.keys(e).find((function(n){return t(e[n])}));return void 0!==n?e[n]:void 0}},780:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s}));var r="web_video_bitrate_persistence_enabled",i="web_video_hlsjs_version",a="web_video_hlsjs_worker_enabled",o="web_video_smart_buffering_enabled",s="web_video_smart_buffering_preroll_prebuffering_enabled"},785:function(e,t,n){"use strict";n.d(t,"a",(function(){return R})),n.d(t,"c",(function(){return C}));n(50),n(34),n(20),n(87),n(40),n(51),n(33),n(23);var r=n(1),i=n.n(r),a=n(854),o=n(749),s=(n(227),n(551),n(52),n(100),n(552),n(174),n(30),n(37)),c=n.n(s),u=n(64),l=n.n(u),d=n(41),p=n.n(d),f=n(745),h=n(752),y=n(740),v=n(764);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e){var t=function(e,t){if("object"!==c()(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c()(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c()(t)?t:String(t)}var b=function(e,t){e[t];return p()(e,[t].map(g))},E=function(e){var t=e.intentToPlayTime;return void 0===t?new Date:t},T={volume:1,areCaptionsShown:!1,hasCaptions:!1,hasPlaybackStarted:!1,intentToPlayTime:void 0,isMuted:!1,isPlaying:!1,isScrubbing:!1,controls:{isHidden:!0,isPosterShown:!0}},O=n(753),I=n(758),S=n(818);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=P(P(P(P(P(P(P(P(P({},a.a),o.a),T),f.d),O.b),I.a),S.b),h.a),{},{percentVisible:1,percentOfViewportOccupied:1,sizesInfo:{}}),D=[a.c,f.h,function(e,t){var n;switch(t.type){case f.c:return _(_({},e),{},{intentToPlayTime:t.intentToPlayTime});case y.p:case o.c:return e.isPlaying&&e.controls.playState!==y.k.PAUSE_REQUESTED?e:_(_({},e),{},{intentToPlayTime:E(e),controls:_(_({},e.controls),{},{playState:y.k.PLAY_REQUESTED})});case o.b:case y.o:case y.b:return e.isPlaying||e.controls.playState===y.k.PLAY_REQUESTED?_(_({},e),{},{controls:_(_({},e.controls),{},{playState:y.k.PAUSE_REQUESTED})}):e;case y.r:var r=Object(v.b)(e),i=Object(v.c)(e);return r&&"maxLoopCount"in r&&(r.loopCounter=0,r.shouldLoop=!0),_(_({},e),{},{intentToPlayTime:E(e),tracks:r?[].concat(l()(i),[_({},r)]):e.tracks,controls:_(_({},e.controls),{},{isReplayButtonShown:!1,playState:y.k.PLAY_REQUESTED})});case y.y:return n=b(e.controls,"playState"),e.controls.playState!==y.k.PLAY_REQUESTED&&(n.playState=e.controls.playState),n.isPosterShown=!1,_(_({},e),{},{controls:n,hasPlaybackStarted:!0,isPlaying:!0});case y.x:return n=b(e.controls,"playState"),e.controls.playState!==y.k.PAUSE_REQUESTED&&(n.playState=e.controls.playState),_(_({},e),{},{controls:n,isPlaying:!1});case y.n:return _(_({},e),{},{controls:_(_({},e.controls),{},{muteState:y.j.MUTE_REQUESTED})});case y.t:return n=_(_({},e.controls),{},{muteState:y.j.UNMUTE_REQUESTED}),0!==e.volume||e.controls.volume>0||(n.volume=1),_(_({},e),{},{controls:n});case y.u:return n=_(_({},e.controls),{},{volume:t.volume}),0!==t.volume||e.isMuted?t.volume>0&&e.isMuted&&(n.muteState=y.j.UNMUTE_REQUESTED):n.muteState=y.j.MUTE_REQUESTED,_(_({},e),{},{controls:n});case y.B:return n=b(b(e.controls,"muteState"),"volume"),e.controls.muteState!==y.j.MUTE_REQUESTED||t.isMuted?e.controls.muteState===y.j.UNMUTE_REQUESTED&&t.isMuted&&(n.muteState=y.j.UNMUTE_REQUESTED):n.muteState=y.j.MUTE_REQUESTED,t.volume!==e.controls.volume&&(n.volume=e.controls.volume),_(_({},e),{},{controls:n,volume:t.volume,isMuted:t.isMuted});case y.s:return _(_({},e),{},{isScrubbing:!0,controls:_(_({},e.controls),{},{scrubToFraction:t.fraction})});case y.q:var a=t.startTimeS,s=t.endTimeS;return _(_({},e),{},{controls:_(_({},e.controls),{},{playbackTimeRange:{startTimeS:a,endTimeS:s}})});case y.z:return n=b(e.controls,"scrubToFraction"),_(_({},e),{},{isScrubbing:!1,controls:n});case y.d:return n=b(e.controls,"playbackTimeRange"),_(_({},e),{},{controls:n});case y.A:return _(_({},e),{},{isScrubbing:!0});case y.h:return _(_({},e),{},{controls:_(_({},e.controls),{},{isHidden:!0})});case y.v:return _(_({},e),{},{controls:_(_({},e.controls),{},{isHidden:!1})});case y.m:return _(_({},e),{},{userSpecifiedCaptions:t.isUserSet,controls:_(_({},e.controls),{},{captionsState:y.f.CAPTIONS_ON_REQUESTED})});case y.l:return _(_({},e),{},{userSpecifiedCaptions:t.isUserSet,controls:_(_({},e.controls),{},{captionsState:y.f.CAPTIONS_OFF_REQUESTED})});case y.e:return n=b(e.controls,"captionsState"),_(_({},e),{},{areCaptionsShown:t.areCaptionsShown,controls:n});case h.f:var c=_({},e),u=Object(v.b)(e),d=Object(v.c)(e);u&&"maxLoopCount"in u&&(u.loopCounter>=u.maxLoopCount-1?u.shouldLoop=!1:u.loopCounter+=1,c.tracks=[].concat(l()(d),[_({},u)]));var p=(u||{}).shouldLoop;return 0===e.nextTrackIds.length&&(e.isPreview?c.controls=_(_({},e.controls),{},{isPosterShown:!p}):c.controls=_(_({},e.controls),{},{isHidden:p,isReplayButtonShown:!p,playState:p?void 0:y.k.PAUSE_REQUESTED})),c;case y.w:return _(_({},e),{},{percentVisible:t.percentVisible,percentOfViewportOccupied:t.percentOfViewportOccupied,sizesInfo:t.sizesInfo||{}});case y.a:n=b(e.controls,"playState"),e.controls.playState!==y.k.PLAY_REQUESTED&&(n.playState=e.controls.playState);var m=Object(v.b)(e),g=Object(v.c)(e);return _(_({},e),{},{controls:_(_({},n),{},{isPosterShown:!0}),tracks:[].concat(l()(g),[_(_({},m),{},{isBuffering:!1})])});case y.g:var T=void 0===e.dataUsageBytes?t.bytes:e.dataUsageBytes+t.bytes;return _(_({},e),{},{dataUsageBytes:T});case y.i:var O=e.liveClickthroughClicked||0;return _(_({},e),{},{liveClickthroughClicked:1+O});default:return e}},h.j,o.d,O.e,I.e,S.e],R="TEARDOWN_PLAYER",C=function(e){return{type:R,playerId:e}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return n.reduce((function(e,n){return n(e,t)}),e)};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D;if(void 0!==t.playerId){if(t.type===R){var r=P({},e);return delete r[t.playerId],r}var a=e[t.playerId];if(t.type===f.e){if(!a)return e;a=P(P({},A),{},{errorInfo:a.errorInfo,features:a.features})}var o=k(a,t,n);if(void 0!==o)return P(P({},e),{},i()({},t.playerId,o))}return e}},790:function(e,t,n){n(233)("iterator")},791:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(53);function i(e){return"string"==typeof e?e:r.a.createPath(r.a.createLocation({pathname:e.pathname,hash:e.hash,query:e.query},e.state))}},804:function(e,t,n){"use strict";n(50),n(34),n(376),n(20),n(100),n(40),n(51),n(33),n(23);var r=n(1),i=n.n(r),a=n(97),o=n(372);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={red:255,green:255,blue:255},l=function(e){if(!e||0===e.length)return null;var t=e.map((function(e){return c(c({},e),{},{hsv:a.d(e.rgb)})}));return t.find((function(e){return d(e.hsv)}))||t[0]},d=function(e){return e.saturation>.15&&e.value>.1},p=function(e){if(!e)return null;var t=e.hsv;return function(e){return e.hue>=11/360&&e.hue<.125}(t)&&(t.hue=5/360),t.saturation=Math.min(Math.max(t.saturation,0),.85),t.value=Math.min(Math.max(t.value,.15),.25),{hsv:t,rgb:a.c(t)}},f=function(e){if(!e)return null;var t=u,n=e.hsv,r=n.hue,i=n.saturation,o=n.value;if(h(t,e.rgb))return e.hsv.value=Math.max(o-.1,0),e;for(var s=0,c=o;c-s>.01;){var l=(s+c)/2,d={hue:r,saturation:i,value:l};h(t,a.c(d))?s=l:c=l}var p=i+(o-s),f={hue:r,saturation:Math.min(p,1),value:s};return{hsv:f,rgb:a.c(f)}},h=function(e,t){return(o.b(e)+.05)/(o.b(t)+.05)>=4.5};t.a={get:function(e){return f(l(e))},getForGallery:function(e){return p(l(e))}}},805:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));n(34),n(20),n(30),n(61),n(31),n(23);var r=n(5),i=n.n(r),a=n(3),o=n.n(a),s=n(17),c=n.n(s),u=n(21),l=n.n(u),d=n(11),p=n.n(d),f=n(1),h=n.n(f),y=n(0),v=n(755),m=n(4),_=n(35);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var b=function(e){c()(n,e);var t=g(n);function n(){return i()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.color,r=e.size,i=e.style;if(void 0===t)return null;if(1===y.Children.count(t))return t;var a=y.Children.toArray(t).filter(Boolean),o=[];return a.forEach((function(e,t){t===a.length-1?o.push(e):o.push(e,y.createElement(v.a,{color:n,key:"middot-".concat(t),size:r}))})),y.createElement(_.default,{style:[E.middotGroup,i]},o)}}]),n}(y.Component);h()(b,"defaultProps",{color:"gray600"});var E=m.a.create((function(e){return{middotGroup:{alignItems:"baseline",flexDirection:"row",flexShrink:1}}}))},806:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));n(50),n(34),n(20),n(100),n(1508),n(40),n(51),n(33),n(30),n(61),n(31),n(23);var r=n(5),i=n.n(r),a=n(3),o=n.n(a),s=n(7),c=n.n(s),u=n(17),l=n.n(u),d=n(21),p=n.n(d),f=n(11),h=n.n(f),y=n(1),v=n.n(y),m=n(0),_=n(812),g=n(400),b=n(74),E=n.n(b),T=n(4),O=n(762),I=n(25),S=n(35),w=n(99),P=n(731),A=n(1510);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var C={stiffness:267,damping:20},k=function(e){l()(n,e);var t=R(n);function n(e,r){var a;i()(this,n),a=t.call(this,e,r),v()(c()(a),"_handleResize",(function(){window.requestAnimationFrame((function(){return window.requestAnimationFrame((function(){return a._setDimensions(!0)}))}))})),v()(c()(a),"_handleLayout",(function(){a._setDimensions(!0)})),v()(c()(a),"_shouldRenderItem",(function(e){var t=a.props.shouldRenderAll,n=a.state,r=n.currentItem,i=n.itemsToShow,o=r+2*Math.ceil(i);return e<=r||e<o||!!t})),v()(c()(a),"_handleKeyPress",(function(e){a.props.locked||(39===e.keyCode?a._handleKeyRight(e):37===e.keyCode&&a._handleKeyLeft(e))})),v()(c()(a),"_handleKeyRight",(function(e){e&&e.stopPropagation(),a._goToItem(a.state.currentItem+(I.default.isRTL?-1:1))})),v()(c()(a),"_handleKeyLeft",(function(e){e&&e.stopPropagation(),a._goToItem(a.state.currentItem-(I.default.isRTL?-1:1))})),v()(c()(a),"_handleTouchStart",(function(e){if(!(e.touches&&e.touches.length>1)){var t=e.changedTouches[0].clientX;a._handleSwipeStart(e,t)}})),v()(c()(a),"_handleTouchMove",(function(e){if(!(e.touches&&e.touches.length>1)){var t=e.changedTouches[0].clientX;a._handleSwipeMove(e,t)}})),v()(c()(a),"_handleTouchEnd",(function(e){var t=e.changedTouches[0].clientX;a._handleSwipeEnd(e,t)})),v()(c()(a),"_handleSwipeStart",(function(e,t){a.props.locked||(e.preventDefault(),a._xPos=t,a._swipeStart=Date.now(),a._isSwiping=!1)})),v()(c()(a),"_handleSwipeMove",(function(e,t){if(!a.props.locked&&null!=a._xPos){var n=a._xPos-t;Math.abs(n)<10||(e.preventDefault(),a.setState((function(e){if("number"==typeof e.itemWidth)return{disableAnimation:!1,transformLeft:(I.default.isRTL?1:-1)*e.itemWidth*e.currentItem-n}})),a._isSwiping=!0)}})),v()(c()(a),"_handleSwipeEnd",(function(e,t){var n=a.state,r=n.currentItem,i=n.itemWidth;if(!a._isSwiping||"number"!=typeof a._xPos||"number"!=typeof i||"number"!=typeof a._swipeStart)return a._isSwiping=!1,void(a._xPos=null);e.preventDefault();var o=(a._xPos||0)-t,s=Math.abs(o),c=s/(Date.now()-(a._swipeStart||0));s>i/3||c>.6?a._goToItem(r+(I.default.isRTL?-1:1)*Math.sign(o)):a._goToItem(r),a._isSwiping=!1,a._xPos=null})),v()(c()(a),"_handleOnRest",(function(){var e=a.props.onRest,t=a.state.currentItem;e&&e(t)})),v()(c()(a),"_transitionComplete",(function(){var e=a.props.onChange,t=a.state;e(t.currentItem,t.direction),a._animationDisabled()&&a._handleOnRest()})),v()(c()(a),"_setDimensions",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=a.props,n=t.itemWidth,r=t.itemsToShow,i=!n&&r?a._getFrameOffsetWidth()/r:n,o=n?a._getFrameOffsetWidth()/n:r||1;"number"==typeof i&&a.setState({itemWidth:i,itemsToShow:o},(function(){a.setState((function(t){return{areDimensionsSet:!0,disableAnimation:e,transformLeft:a._getLeftForItem(t.currentItem,i)}}))}))})),v()(c()(a),"_setSwipeableNode",(function(e){a._swipeableNode=e})),v()(c()(a),"_animationDisabled",(function(){return _.a.reducedMotionEnabled&&!a._isSwiping||a.state.disableAnimation}));var o=a.props,s=o.itemsToShow,u=o.itemWidth;return a._checkComponentPropsUsageCorrectness(s,u),a.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({disableAnimation:!1,areDimensionsSet:!1,currentItem:e.currentItem,transformLeft:0},u?{itemsToShow:0,itemWidth:u}:{itemWidth:0,itemsToShow:s||1}),a._springOptions=O.a.isTouchSupported()?C:A.presets.noWobble,a._isSwiping=!1,a._xPos=null,a}return o()(n,[{key:"componentDidMount",value:function(){this._setDimensions(),window.addEventListener("resize",this._handleResize),this.props.disabledKeyboardNavigation||window.document.addEventListener("keydown",this._handleKeyPress),this._swipeableNode&&(this._removeTouchListener=Object(g.a)(this._swipeableNode,this._handleTouchMove,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._handleResize),this._removeTouchListener&&this._removeTouchListener(),window.document.removeEventListener("keydown",this._handleKeyPress)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.currentItem!==this.props.currentItem&&e.currentItem!==this.state.currentItem&&this._goToItem(e.currentItem,!0)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.disabledKeyboardNavigation,r=t.itemsToShow,i=t.itemWidth;this._checkComponentPropsUsageCorrectness(r,i),e.disabledKeyboardNavigation!==n&&(n?window.document.removeEventListener("keydown",this._handleKeyPress):window.document.addEventListener("keydown",this._handleKeyPress))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.cellSpacing,r=e.style,i=m.Children.count(t),a=n*i,o=this.state,s=o.transformLeft,c=o.itemWidth,u={transformLeft:this._animationDisabled()?s:Object(A.spring)(s,this._springOptions)},l=this._renderItems(t);return m.createElement(S.default,{onLayout:this._handleLayout,onTouchEnd:this._handleTouchEnd,onTouchStart:this._handleTouchStart,ref:this._setSwipeableNode,style:[L.root,r]},this.state.areDimensionsSet?m.createElement(A.Motion,{onRest:this._handleOnRest,style:u},(function(e){var t=e.transformLeft;return m.createElement(S.default,{accessibilityRole:"list",style:[L.list,{marginLeft:-.5*n,marginRight:-.5*n,transform:[{translate3d:"".concat(t,"px, 0, 0")}],width:c&&i?"".concat(c*i+a,"px"):"100%"}]},l)})):null)}},{key:"_renderItems",value:function(e){var t=this,n=this.props.cellSpacing,r=this.state.itemWidth;return m.Children.toArray(m.Children.map(e,(function(e,i){return m.createElement(S.default,{accessibilityRole:"listitem",style:[L.item,{width:r?"".concat(r,"px"):"100%",marginLeft:"".concat(n/2,"px"),marginRight:"".concat(n/2,"px")}]},t._shouldRenderItem(i)?e:null)})))}},{key:"_goToItem",value:function(e,t){var n=this.state,r=n.currentItem,i=n.itemWidth,a=this.props.children,o=e,s=o>r?"next":"prev";(e<0||e>=m.Children.count(a))&&(o=r),"number"==typeof i&&this.setState({disableAnimation:!1,currentItem:o,transformLeft:this._getLeftForItem(o,i),direction:s},r===o||t?w.a:this._transitionComplete)}},{key:"_getLeftForItem",value:function(e,t){return(t*e+this.props.cellSpacing*e)*(I.default.isRTL?1:-1)}},{key:"_getFrameOffsetWidth",value:function(){var e=this._swipeableNode;return e&&e instanceof window.HTMLElement?e.offsetWidth:0}},{key:"_checkComponentPropsUsageCorrectness",value:function(e,t){var n=!e&&Object(P.a)(t),r=!t&&Object(P.a)(e),i=!t&&!e;E()(n||r||i,"Requires itemsToShow OR itemWidth, both cannot be set")}},{key:"getItemsToShow",value:function(){return this.state.itemsToShow}},{key:"getItemWidth",value:function(){return this.state.itemWidth}},{key:"goToNextItem",value:function(){this._goToItem(this.state.currentItem+Math.max(Math.floor(this.state.itemsToShow),1))}},{key:"goToPreviousItem",value:function(){var e=this.state.currentItem-Math.max(Math.floor(this.state.itemsToShow),1);this._goToItem(e>=0?e:0)}}]),n}(m.PureComponent);v()(k,"defaultProps",{cellSpacing:0,currentItem:0,disabledKeyboardNavigation:!1,locked:!1,onChange:w.a,shouldRenderAll:!1});var L=T.a.create((function(e){return{root:{flexGrow:1,transform:[{translate3d:"0,0,0"}]},list:{height:"100%",padding:"0",position:"absolute",transform:[{translate3d:"0,0,0"}],display:"flex",flexDirection:"row"},item:{boxSizing:"border-box",display:"inline-flex",flexDirection:"column",height:"100%",marginVertical:"auto"}}}))},807:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=0);return t},e.exports=t.default},808:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,i,a,o,s){var c=n+(-a*(t-i)+-o*n)*e,u=t+c*e;if(Math.abs(c)<s&&Math.abs(u-i)<s)return r[0]=i,r[1]=0,r;return r[0]=u,r[1]=c,r};var r=[0,0];e.exports=t.default},809:function(e,t,n){(function(t){(function(){var n,r,i;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(n()-i)/1e6},r=t.hrtime,i=(n=function(){var e;return 1e9*(e=r())[0]+e[1]})()):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,n(38))},810:function(e,t,n){(function(t){for(var r=n(1512),i="undefined"==typeof window?t:window,a=["moz","webkit"],o="AnimationFrame",s=i["request"+o],c=i["cancel"+o]||i["cancelRequest"+o],u=0;!s&&u<a.length;u++)s=i[a[u]+"Request"+o],c=i[a[u]+"Cancel"+o]||i[a[u]+"CancelRequest"+o];if(!s||!c){var l=0,d=0,p=[];s=function(e){if(0===p.length){var t=r(),n=Math.max(0,1e3/60-(t-l));l=n+t,setTimeout((function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(l)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(n))}return p.push({handle:++d,callback:e,cancelled:!1}),d},c=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}e.exports=function(e){return s.call(i,e)},e.exports.cancel=function(){c.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=s,e.cancelAnimationFrame=c}}).call(this,n(46))},811:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(0!==n[r])return!1;var i="number"==typeof t[r]?t[r]:t[r].val;if(e[r]!==i)return!1}return!0},e.exports=t.default},812:function(e,t,n){"use strict";var r=n(5),i=n.n(r),a=n(3),o=n.n(a),s=n(1),c=n.n(s),u=n(13),l=function(){function e(){i()(this,e),c()(this,"_reducedMotionEnabled",!1)}return o()(e,[{key:"setReducedMotion",value:function(e){this._reducedMotionEnabled=e}},{key:"reducedMotionEnabled",get:function(){return u.canUseDOM&&void 0===this._reducedMotionEnabled&&(this._reducedMotionEnabled=window.matchMedia&&window.matchMedia("(prefers-reduced-motion)").matches),this._reducedMotionEnabled}}]),e}();t.a=new l},813:function(e,t,n){"use strict";n(50),n(52),n(34),n(20),n(69),n(40),n(51),n(33),n(30),n(61),n(31),n(23);var r=n(2),i=n.n(r),a=n(5),o=n.n(a),s=n(3),c=n.n(s),u=n(7),l=n.n(u),d=n(17),p=n.n(d),f=n(21),h=n.n(f),y=n(11),v=n.n(y),m=n(1),_=n.n(m),g=n(0),b=n(13),E=n(4),T=(n(101),n(86)),O=n(35);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var w=function(e){p()(n,e);var t=S(n);function n(){var e;o()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),_()(l()(e),"_ref",g.createRef()),_()(l()(e),"_handleRef",(function(t){e._ref.current=t,e.props.forwardedRef&&("function"==typeof e.props.forwardedRef?e.props.forwardedRef(t):e.props.forwardedRef.current=t)})),_()(l()(e),"_handleMessage",(function(t){var n,r,i=e.props,a=i.onMessage,o=i.reportError;if(a&&("string"!=typeof t.data||0!==t.data.indexOf("setImmediate$"))){if(t.origin!=="".concat(window.location.protocol,"//").concat(window.location.host))return o?o("Invalid cross-origin postMessage from ".concat(t.origin)):null;var s;if((null===(n=e._ref)||void 0===n||null===(r=n.current)||void 0===r?void 0:r.contentWindow)===t.source)if(t.stopImmediatePropagation(),"string"==typeof t.data&&"undefined"!==t.data){try{s=JSON.parse(t.data)}catch(e){return void(o&&o("Invalid postMessage data from ".concat(t.origin,": ").concat(t.data)))}a(s)}}})),e}return c()(n,[{key:"componentDidMount",value:function(){var e;this.props.onMessage&&(e=this._handleMessage,b.canUseDOM&&window.addEventListener("message",e,!1))}},{key:"componentWillUnmount",value:function(){var e;this.props.onMessage&&(e=this._handleMessage,b.canUseDOM&&window.removeEventListener("message",e,!1))}},{key:"render",value:function(){var e=this.props,t=e.allowForms,n=e.dangerouslyDisableSandbox,r=e.src,i=e.style,a=e.title,o=Object(T.default)("iframe",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({allow:"autoplay; fullscreen",allowFullScreen:!0,ref:this._handleRef,src:r,style:P.iframe,title:a},n?null:{sandbox:"allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts".concat(t?" allow-forms":"")}));return g.createElement(O.default,{style:[P.root,i]},o)}}]),n}(g.Component);w.propTypes={};var P=E.a.create((function(e){return{root:{overflow:"auto",WebkitOverflowScrolling:"touch"},iframe:{borderWidth:0,flexGrow:1}}}));t.a=g.forwardRef((function(e,t){return g.createElement(w,i()({forwardedRef:t},e))}))},815:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));n(50),n(227),n(551),n(52),n(100),n(552),n(174),n(30),n(378),n(61),n(31);var r=n(37),i=n.n(r),a=n(41),o=n.n(a),s=n(5),c=n.n(s),u=n(3),l=n.n(u),d=n(7),p=n.n(d),f=n(17),h=n.n(f),y=n(21),v=n.n(y),m=n(11),_=n.n(m),g=n(1),b=n.n(g),E=n(0);function T(e){var t=function(e,t){if("object"!==i()(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i()(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i()(t)?t:String(t)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_()(e);if(t){var i=_()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var w=function(e){h()(n,e);var t=S(n);function n(){var e;c()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),b()(p()(e),"state",{playerApi:void 0,playerState:void 0,guestsState:void 0}),b()(p()(e),"_initializeState",(function(t){t&&(e._unsubscribe&&e._unsubscribe(),e.setState({playerApi:t}),e._unsubscribe=t.subscribe((function(t,n){return e.setState({playerState:t,guestsState:n})})))})),e}return l()(n,[{key:"componentDidMount",value:function(){this._initializeState(this.props.playerApi)}},{key:"componentDidUpdate",value:function(e){var t=this.props.playerApi;t!==e.playerApi&&this._initializeState(t)}},{key:"render",value:function(){return this.props.children(this.state)}}]),n}(E.Component),P=function(e){h()(n,e);var t=S(n);function n(){var e;c()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),b()(p()(e),"state",{players:{}}),b()(p()(e),"_mounted",!1),b()(p()(e),"_registerPlayer",(function(t,n){var r=new Promise((function(r){setTimeout((function(){e._mounted?e.setState((function(e){return{players:I(I({},e.players),{},b()({},t,n))}}),r):r()}))}));return function(){r.then((function(){return e._unregisterPlayer(t)}))}})),b()(p()(e),"_unregisterPlayer",(function(t){e._mounted&&e.setState((function(n){var r=e.state.players;r[t];return{players:o()(r,[t].map(T))}}))})),b()(p()(e),"_registrationContext",{registerPlayer:e._registerPlayer}),e}return l()(n,[{key:"componentDidMount",value:function(){this._mounted=!0}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){return E.createElement(n.RegistrationContext.Provider,{value:this._registrationContext},E.createElement(n.ProviderContext.Provider,{value:this.state},this.props.children))}}]),n}(E.Component);b()(P,"MetadataSubscriber",(function(e){var t=e.playerId,n=e.children;return E.createElement(P.ProviderContext.Consumer,null,(function(e){var r=e.players;return E.createElement(w,{playerApi:r&&r[t]},n)}))})),b()(P,"RegistrationContext",E.createContext({registerPlayer:void 0})),b()(P,"ProviderContext",E.createContext({players:{}}))},816:function(e,t,n){"use strict";var r=n(733);t.__esModule=!0,t.default=void 0;var i=n(849);t.updateAudioLevels=i.updateAudioLevels;var a=n(850);t.updateGuestInfo=a.updateGuestInfo;var o=r(n(1532));t.hydraMiddleware=o.default,t.registerExperience=o.registerExperience;var s=r(n(851));t.resetGuestState=s.resetGuestState,t.teardownExperience=s.teardownExperience;var c=s.default;t.default=c},817:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));n(69);var r=function(){var e=window.navigator;return 0===e.vendor.indexOf("Apple")&&/\sSafari\//.test(e.userAgent)},i=function(){var e=window.navigator;return r()&&/iPad|iPhone/.test(e.userAgent)},a=function(){return r()&&!i()}},818:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return h})),n.d(t,"b",(function(){return y}));n(50),n(34),n(20),n(40),n(51),n(33),n(23);var r=n(1),i=n.n(r),a=n(752),o=n(780);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={IDLE:"IDLE",BUFFERING_REQUESTED:"BUFFERING_REQUESTED",PREBUFFERING_COMPLETED:"PREBUFFERING_COMPLETED",BUFFERING_COMPLETED:"BUFFERING_COMPLETED"},l="SET_BUFFERING_STATUS",d=function(e,t,n){return{type:l,playerId:e,bufferingStatus:t,maximumBufferLength:n}},p="SET_TARGET_DURATION",f=function(e,t){return{type:p,targetDuration:t,playerId:e}},h=function(e,t){return{type:"UPDATE_BUFFER_LENGTH",maximumBufferLength:t,playerId:e}};t.e=function(e,t){switch(t.type){case a.b:var n,r,i=null==e||null===(n=e.features)||void 0===n?void 0:n[o.d],s=null==e||null===(r=e.features)||void 0===r?void 0:r[o.e];if(!i&&!s)return e;if(!i&&s)return c(c({},e),{},{maximumBufferLength:void 0,targetDuration:void 0});var d=void 0===e.bufferingStatus?u.IDLE:e.bufferingStatus;return c(c({},e),{},{bufferingStatus:d,maximumBufferLength:void 0,targetDuration:void 0});case l:return c(c({},e),{},{bufferingStatus:t.bufferingStatus,maximumBufferLength:void 0!==t.maximumBufferLength?t.maximumBufferLength:e.maximumBufferLength});case"UPDATE_BUFFER_LENGTH":var f;return t.maximumBufferLength===e.maximumBufferLength?e:c(c({},e),{},{bufferingStatus:(null==e||null===(f=e.features)||void 0===f?void 0:f[o.d])?u.BUFFERING_REQUESTED:void 0,maximumBufferLength:t.maximumBufferLength});case p:return c(c({},e),{},{targetDuration:t.targetDuration});default:return e}};var y={bufferingStatus:void 0,maximumBufferLength:void 0,targetDuration:void 0}},819:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var r=n(1),i=n.n(r),a=n(745),o=n(757),s=function(e,t){return{feature:t,playerId:e,type:"GET_FEATURE_VALUE"}};t.a=function(e){return function(t){return function(n){if("GET_FEATURE_VALUE"===n.type){var r,s=n.feature,c=n.playerId,u=Object(o.a)(c);return u&&u.getValue&&(r=u.getValue(s),e.dispatch(Object(a.i)(c,i()({},s,r)))),r}return t(n)}}}},820:function(e,t,n){"use strict";n(30),n(378);var r=n(0),i=n(180),a=Object(i.a)({loader:function(){return n.e(49).then(n.bind(null,1553))},renderPlaceholder:function(){return r.createElement("div",null)}});t.a=a},821:function(e,t){function n(e,t,n){var r,i,a,o,s;function c(){var u=Date.now()-o;u<t&&u>=0?r=setTimeout(c,t-u):(r=null,n||(s=e.apply(a,i),a=i=null))}null==t&&(t=100);var u=function(){a=this,i=arguments,o=Date.now();var u=n&&!r;return r||(r=setTimeout(c,t)),u&&(s=e.apply(a,i),a=i=null),s};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(s=e.apply(a,i),a=i=null,clearTimeout(r),r=null)},u}n.debounce=n,e.exports=n},833:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));n(52),n(30),n(61),n(31);var r=n(5),i=n.n(r),a=n(3),o=n.n(a),s=n(7),c=n.n(s),u=n(17),l=n.n(u),d=n(21),p=n.n(d),f=n(11),h=n.n(f),y=n(1),v=n.n(y),m=n(0),_=n(27),g=n(380),b=n(387),E=n(143),T=n.n(E),O=n(377),I=n(99),S=n(4),w=n(806),P=n(762),A=n(35),D=(n(101),n(737));function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var C=T.a.d70740d9,k=T.a.c4d53ba2,L=T.a.h6405c17,M={viewType:"previous"},N={viewType:"next"},j=function(e){l()(n,e);var t=R(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),v()(c()(e),"_nextButtonRef",m.createRef()),v()(c()(e),"_prevButtonRef",m.createRef()),v()(c()(e),"_swipeableRef",m.createRef()),v()(c()(e),"_enableAccessibilityAlert",!1),v()(c()(e),"_handleChange",(function(t,n){(0,e.props.onChange)(t),e._handleFocus(t,n),e._enableAccessibilityAlert=!0})),v()(c()(e),"_handleNextSlide",(function(t){t.stopPropagation(),e._swipeableRef.current&&e._swipeableRef.current.goToNextItem()})),v()(c()(e),"_handlePreviousSlide",(function(t){t.stopPropagation(),e._swipeableRef.current&&e._swipeableRef.current.goToPreviousItem()})),e}return o()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.childContainerStyle,i=t.cellSpacing,a=t.currentSlide,o=t.shouldRenderAll,s=t.transitionAccessibilityLabel,c=t.locked,u=t.childWidth,l=t.shouldAlwaysEnableKeyboardNavigation,d=t.slidesToShow,p=t.onRest,f=m.Children.count(n),h=L({currentSlide:a+1,itemCount:f}),y=s||h;return m.createElement(m.Fragment,null,m.createElement(_.c,{style:S.a.visuallyHidden},h),m.createElement(O.a,{accessibilityRole:"group","aria-roledescription":"carousel",interactiveStyles:null,style:x.root},(function(t){var s=t.isHovered,f=t.isFocusedWithin,h=t.isFocused;return m.createElement(m.Fragment,null,m.createElement(w.a,{cellSpacing:i,children:n,currentItem:a,disabledKeyboardNavigation:!(l||s||h||f),itemWidth:d?void 0:u,itemsToShow:u?void 0:d||1,locked:c,onChange:e._handleChange,onRest:p,ref:e._swipeableRef,shouldRenderAll:o,style:r}),!P.a.isTouchSupported()||b.a.isEnabled?e._renderNavButtons(s||f):null)})),m.createElement(_.c,{accessibilityLabel:this._enableAccessibilityAlert?y:"",accessibilityLiveRegion:"polite",style:S.a.visuallyHidden}))}},{key:"_handleFocus",value:function(e,t){var n=0===e,r=e===m.Children.count(this.props.children)-1;"next"===t&&!r&&this._nextButtonRef&&this._nextButtonRef.current&&this._nextButtonRef.current.focus(),"prev"===t&&!n&&this._prevButtonRef&&this._prevButtonRef.current&&this._prevButtonRef.current.focus(),n&&this._prevButtonRef&&this._prevButtonRef.current&&this._prevButtonRef.current.blur(),r&&this._nextButtonRef&&this._nextButtonRef.current&&this._nextButtonRef.current.blur()}},{key:"_renderNavButtons",value:function(e){var t,n=this,r=this.props,i=r.currentSlide,a=r.dominantColor,o=r.showNavButtonsOnHover,s=r.withOffscreenNavOverlay,c=r.withReducedNavButtonClickArea,u=m.Children.count(this.props.children),l=u<=this._getSlidesToShow()&&0===i,d=0===i,p=i+this._getSlidesToShow()>=u,f=(null===(t=this._swipeableRef.current)||void 0===t?void 0:t.getItemWidth())||0;return l?null:m.createElement(A.default,{pointerEvents:"box-none",style:[x.navButtons,d&&x.navButtonsRight,p&&x.navButtonsLeft,o&&!e&&x.navButtonsHidden]},d?null:m.createElement(O.a,{accessible:!1,interactiveStyles:null,onClick:this._handlePreviousSlide,style:[x.navButtonContainer,c&&x.navButtonContainerTight,x.navButtonContainerLeft]},(function(e){return m.createElement(m.Fragment,null,m.createElement(g.a,{accessibilityLabel:k,clientEventContext:M,dominantColor:a,icon:m.createElement(D.IconArrowLeft,null),interactivityState:e,onClick:n._handlePreviousSlide,ref:n._prevButtonRef,style:x.navButton,type:"onMedia"}),s&&m.createElement(A.default,{style:[x.offscreenNavOverlay,x.prevOffscreenNavOverlay,{marginRight:n.props.cellSpacing,width:f}],testID:"Carousel-offscreenNavLeft"}))})),p?null:m.createElement(O.a,{accessible:!1,interactiveStyles:null,onClick:this._handleNextSlide,style:[x.navButtonContainer,c&&x.navButtonContainerTight,x.navButtonContainerRight]},(function(e){return m.createElement(m.Fragment,null,m.createElement(g.a,{accessibilityLabel:C,clientEventContext:N,dominantColor:a,icon:m.createElement(D.IconArrowRight,null),interactivityState:e,onClick:n._handleNextSlide,ref:n._nextButtonRef,style:x.navButton,type:"onMedia"}),s&&m.createElement(A.default,{style:[x.offscreenNavOverlay,x.nextOffscreenNavOverlay,{marginLeft:n.props.cellSpacing,width:f}],testID:"Carousel-offscreenNavRight"}))})))}},{key:"_getSlidesToShow",value:function(){return this.props.slidesToShow||this._swipeableRef.current&&this._swipeableRef.current.getItemsToShow()||1}}]),n}(m.Component);v()(j,"defaultProps",{cellSpacing:0,currentSlide:0,locked:!1,onChange:I.a,shouldAlwaysEnableKeyboardNavigation:!1,withReducedNavButtonClickArea:!1}),j.propTypes={};var x=S.a.create((function(e){return{root:{flex:1},navButtons:{height:"100%",position:"absolute",transitionProperty:"opacity",transitionDuration:"0.2s",width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},navButtonContainer:{height:"100%",justifyContent:"center",pointer:"cursor",position:"static"},navButtonContainerTight:{height:"auto",paddingVertical:50},navButtonContainerLeft:{paddingRight:10},navButtonContainerRight:{paddingLeft:10},navButtonsRight:{justifyContent:"flex-end"},navButtonsLeft:{justifyContent:"flex-start"},navButton:{margin:e.spaces.xSmall},navButtonsHidden:{opacity:0},offscreenNavOverlay:{bottom:0,cursor:"pointer",position:"absolute",top:0},nextOffscreenNavOverlay:{left:"100%"},prevOffscreenNavOverlay:{right:"100%"}}}))},834:function(e,t,n){"use strict";n(69),n(548);var r="STRING",i="BOOLEAN",a="IMAGE",o="IMAGE_COLOR",s="USER",c=n(736),u=r,l=a,d=o,p=i,f=s,h=function(e,t){var n=e&&e[t];if(!n)return null;switch(n.type){case u:return n.string_value;case l:return n.image_value;case d:return n.image_color_value;case p:return n.boolean_value;case f:return n.user_value;default:return null}};t.a={CardNames:c.a,getBindingValue:h,isPollCard:function(e){return e&&0===e.indexOf("poll")},isVineCard:function(e){var t,n,r,i=(e||{}).binding_values;return e.name===c.a.PLAYER&&("vine.co"===(null===(t=h(i,"domain"))||void 0===t?void 0:t.toLowerCase())||"586671909"===(null===(n=h(i,"site"))||void 0===n?void 0:n.id_str)||"vine"===(null===(r=h(i,"app_name"))||void 0===r?void 0:r.toLowerCase()))}}},838:function(e,t,n){"use strict";n(50),n(34),n(20),n(40),n(51),n(33),n(23);var r=n(1),i=n.n(r),a=n(58),o=n.n(a),s=n(0),c=n(4);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){var t=e.children,n=s.useState({scale:c.a.theme.scale,nextScale:c.a.theme.scale,themeKey:c.a.theme.key,nextTheme:c.a.theme.key}),r=o()(n,2),i=r[0],a=r[1];return s.useEffect((function(){return c.a.onThemeChange((function(e){a(l(l({},i),{},{themeKey:e.key,scale:e.scale}))}))}),[i]),s.createElement(s.Fragment,{key:i.themeKey},t)}},840:function(e,t,n){n(9)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},842:function(e,t,n){"use strict";t.__esModule=!0,t.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},e.exports=t.default},843:function(e,t,n){"use strict";var r=n(9),i=n(105).every,a=n(116),o=n(76),s=a("every"),c=o("every");r({target:"Array",proto:!0,forced:!s||!c},{every:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},844:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));n(798),n(100),n(30),n(61),n(31);var r=n(5),i=n.n(r),a=n(3),o=n.n(a),s=n(17),c=n.n(s),u=n(21),l=n.n(u),d=n(11),p=n.n(d),f=n(1),h=n.n(f),y=n(0),v=n(759),m=n(751),_=n(746),g=n(175),b=n(377),E=n(761),T=n(4),O=n(35);n(101);function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var S={},w=function(e){c()(n,e);var t=I(n);function n(e){var r;if(i()(this,n),r=t.call(this,e),e.cacheLocationKey){var a=e.cacheLocationKey;r._cacheGroup=S[a],r._cacheGroup||(r._cacheGroup=n.generateCacheGroup(6),S[a]=r._cacheGroup)}return r}return o()(n,[{key:"render",value:function(){switch(this._getGroupSize()){case 0:return null;case 1:return this._renderGroupOf1();case 2:return this._renderGroupOf2();case 3:return this._renderGroupOf3();case 4:return this._renderGroupOf4();case 5:return this._renderGroupOf5();default:return this._renderGroupOf6()}}},{key:"_renderGroupOf1",value:function(){var e=this.props,t=e.singleImageMaxAspectRatio,n=e.singleImageMinAspectRatio,r=this._cacheGroup?this._cacheGroup[0]:void 0;return this._renderImageAtIndex(0,m.a.withinRange(n,t),null,r)}},{key:"_renderGroupOf2",value:function(){return y.createElement(P,{containerAspectRatio:this.props.containerAspectRatio},this._groupImage(0,2,R.gutterRight),this._groupImage(1,2))}},{key:"_renderGroupOf3",value:function(){return y.createElement(P,{containerAspectRatio:this.props.containerAspectRatio},this._groupImage(0,3,R.gutterRight),y.createElement(A,null,this._groupImage(1,3,R.gutterBottom),this._groupImage(2,3)))}},{key:"_renderGroupOf4",value:function(){return y.createElement(P,{containerAspectRatio:this.props.containerAspectRatio},y.createElement(A,{style:R.gutterRight},this._groupImage(0,4,R.gutterBottom),this._groupImage(2,4)),y.createElement(A,null,this._groupImage(1,4,R.gutterBottom),this._groupImage(3,4)))}},{key:"_renderGroupOf5",value:function(){return y.createElement(P,{column:!0,containerAspectRatio:this.props.containerAspectRatio},y.createElement(D,{style:R.gutterBottom},this._groupImage(0,5,R.gutterRight),this._groupImage(1,5)),y.createElement(D,null,this._groupImage(2,5,R.gutterRight),this._groupImage(3,5,R.gutterRight),this._groupImage(4,5)))}},{key:"_renderGroupOf6",value:function(){return y.createElement(P,{column:!0,containerAspectRatio:this.props.containerAspectRatio},y.createElement(D,{style:R.gutterBottom},this._groupImage(0,6,R.gutterRight),this._groupImage(1,6,R.gutterRight),this._groupImage(2,6)),y.createElement(D,null,this._groupImage(3,6,R.gutterRight),this._groupImage(4,6,R.gutterRight),this._groupImage(5,6)))}},{key:"_groupImage",value:function(e,t,n){var r=this._cacheGroup?this._cacheGroup[t-1]:void 0;return this._renderImageAtIndex(e,m.a.COVER,[R.item,R.relativePositioning,n],r)}},{key:"_renderImageAtIndex",value:function(e,t,n,r){var i=this.props,a=i.images,o=i.previewMode,s=i.onClick,c=i.onVariantSelection,u=i.testID,l=i.withLink,d=a[e],p="string"==typeof d.expandedUrl?{pathname:d.expandedUrl}:d.expandedUrl;return y.createElement(b.a,{interactiveStyles:null,link:l?p:void 0,onClick:s,style:n},y.createElement(v.a,{accessibilityLabel:d.accessibilityLabel,aspectMode:t,backgroundColor:d.backgroundColor,cropCandidates:d.cropCandidates,image:d,layoutCache:r?r[e]:void 0,onVariantSelection:c,previewMode:o,testID:u,withLoadingIndicator:!0}),d.shouldShowAltLabel?y.createElement(E.a,{align:"left",bold:!0},"ALT"):null)}},{key:"_getGroupSize",value:function(){var e=this.props.images.length;return 0===e&&g.a.report(new Error("TweetPhotos: empty array of images received")),Math.min(e,6)}}]),n}(y.Component);h()(w,"defaultProps",{withLink:!0}),h()(w,"generateCacheGroup",(function(e){return new Array(e).fill(null).map((function(e,t){return new Array(t+1).fill(null).map((function(e){return v.a.createLayoutCache()}))}))})),w.propTypes={};var P=function(e){var t=e.children,n=e.containerAspectRatio,r=void 0===n?T.a.theme.aspectRatios.landscape:n,i=e.column,a=void 0!==i&&i;return y.createElement(_.a,{ratio:r},y.createElement(O.default,{style:[R.wideContainer,a?R.column:R.row]},t))},A=function(e){var t=e.style,n=e.children;return y.createElement(O.default,{style:[t,R.item,R.column]},n)},D=function(e){var t=e.style,n=e.children;return y.createElement(O.default,{style:[t,R.item,R.row]},n)},R=T.a.create((function(e){return{wideContainer:{width:"100%",height:"100%"},row:{flexDirection:"row"},column:{flexDirection:"column"},gutterRight:{marginRight:"2px"},gutterBottom:{marginBottom:"2px"},item:{flexGrow:1,flexBasis:0},relativePositioning:{position:"relative"}}}))},845:function(e,t,n){"use strict";n(50),n(52),n(34),n(20),n(100),n(382),n(40),n(51),n(33),n(30),n(61),n(24),n(31),n(55),n(386),n(23);var r=n(2),i=n.n(r),a=n(41),o=n.n(a),s=n(64),c=n.n(s),u=n(5),l=n.n(u),d=n(3),p=n.n(d),f=n(7),h=n.n(f),y=n(17),v=n.n(y),m=n(21),_=n.n(m),g=n(11),b=n.n(g),E=n(1),T=n.n(E),O=n(0),I=n(27),S=n(8),w=n(4),P=n(319),A=(n(101),n(384));function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){T()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var i=b()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _()(this,n)}}var k=function(e){v()(n,e);var t=C(n);function n(){var e;l()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),T()(h()(e),"_getTextParts",(function(){var t=e.props,n=t.displayTextRange,r=t.entities,i=t.entityBaseUrl,a=t.linkify,o=t.hitHighlights,s=t.quotedTweetPermalink,u=t.text,l=t.withQuoteLinks,d=u,p=r,f=r&&r.urls&&r.urls.length;if(s&&!f&&l&&(d="".concat(u," ").concat(a?s.url:s.display),a)){var h=c()(u).length+1;p=R(R({media:[]},r),{},{urls:[{display_url:s.display,expanded_url:s.expanded,url:s.url,indices:[h,h+s.url.length]}]})}var y=[0,d.length],v=[(n||y)[0],d.length],m=o||[];return P.a.tweetTextParts(d,v,p,{useHashtagUrl:!0,hitHighlights:m,baseUrl:i})})),e}return p()(n,[{key:"render",value:function(){var e=this.props,t=e.displayTextRange,n=(e.entities,e.entityBaseUrl,e.excludeCardUrl),r=(e.hitHighlights,e.lang),a=e.linkColor,s=e.linkify,c=e.nativeID,u=e.numberOfLines,l=e.onEntityClick,d=e.quotedTweetId,p=(e.quotedTweetPermalink,e.style),f=(e.text,e.transformUrl),h=e.underlineLinks,y=e.withCardLinks,v=e.withMediaLinks,m=e.withQuoteLinks,_=o()(e,["displayTextRange","entities","entityBaseUrl","excludeCardUrl","hitHighlights","lang","linkColor","linkify","nativeID","numberOfLines","onEntityClick","quotedTweetId","quotedTweetPermalink","style","text","transformUrl","underlineLinks","withCardLinks","withMediaLinks","withQuoteLinks"]),g=this._getTextParts(),b=g.some((function(e){return e.entityType===S.a.MEDIA})),E=b&&!v,T=d&&!m,w=g.map((function(e,r){var i=r===g.length-1,a=!!e.tweetId&&e.tweetId===d;if(!v&&e.entityType===S.a.MEDIA)return null;if(a&&b&&e.indices&&t[1]===e.indices[1])return null;if(i){if(a&&T&&!E)return null;if(!E&&!T&&!y&&n&&(n===e.url||n===e.expandedUrl))return null}return e})).filter(Boolean),P=w.map((function(e,t){var n=t===w.length-1;if(e.entityType===S.a.TEXT){var r=e,i="".concat(e.prefix).concat(e.text).trim();return!n&&0!==t||i?(n&&(r=R(R({},e),{},{text:e.text.replace(/(\s+$)/g,"")})),O.createElement(A.b,{key:t,linkColor:a,linkify:s,onClick:l,part:r,transformUrl:f,underlineLinks:h})):null}return O.createElement(A.b,{key:t,linkColor:a,linkify:s,onClick:l,part:e,transformUrl:f,underlineLinks:h})})).filter(Boolean);return P.length?O.createElement(I.c,i()({},_,{children:P,lang:r,nativeID:c,numberOfLines:u,style:[L.root,p]})):null}}]),n}(O.Component);T()(k,"defaultProps",{linkColor:"link",linkify:A.a.linkify,underlineLinks:!1,withCardLinks:!1,withMediaLinks:!1,withQuoteLinks:!1}),k.propTypes={};var L=w.a.create((function(e){return{root:{position:"relative"}}}));t.a=k},846:function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},847:function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},848:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));n(50),n(34),n(20),n(40),n(51),n(33),n(23);var r=n(1),i=n.n(r),a=n(0),o=n(27),s=n(380),c=n(143),u=n.n(c),l=n(737),d=n(4),p=n(381),f=n(35);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=u.a.a9edea48;function m(e){var t=e.displayBackgroundImage,n=void 0!==t&&t,r=e.errorMessage,i=e.iconPlayError,c=e.imageSrc,u=e.onReloadPress;return a.createElement(f.default,{style:[d.a.absoluteFill,n?null:_.blankOverlay]},n?a.createElement(a.Fragment,null,a.createElement(f.default,{style:_.backgroundImage},c&&a.createElement(p.a,{resizeMode:"cover",source:c,style:d.a.absoluteFill})),a.createElement(f.default,{style:_.overlay})):null,a.createElement(f.default,{style:_.errorContainer},a.createElement(f.default,null,i?a.createElement(l.IconPlayError,{style:_.playErrorIcon}):null),a.createElement(f.default,{accessible:!0},a.createElement(o.c,{style:n?_.errorMsgTextWhite:_.errorMsgTextGray},r)),u?a.createElement(s.a,{onPress:u,style:_.buttonContainer,type:"primary"},v):null))}var _=d.a.create((function(e){return{backgroundImage:y(y({},d.a.absoluteFillObject),{},{filter:"blur(5px)"}),overlay:y(y({},d.a.absoluteFillObject),{},{backgroundColor:e.colors.translucentBlack77}),blankOverlay:{backgroundColor:e.colors.gray0},buttonContainer:{justifyContent:"center",alignSelf:"center"},errorContainer:{justifyContent:"center",height:"100%",marginHorizontal:e.spaces.large},errorMsgTextWhite:{color:e.colors.white,textAlign:"center",marginBottom:e.spaces.medium},errorMsgTextGray:{color:e.colors.gray600,textAlign:"center",marginBottom:e.spaces.medium},playErrorIcon:{fill:e.colors.gray600,height:e.spaces.xxLarge,width:e.spaces.xxLarge,marginHorizontal:"auto",paddingBottom:e.spaces.medium,textAlignVertical:"middle"}}}))},849:function(e,t,n){"use strict";n(113),n(549),t.__esModule=!0,t.default=t.InitialState=t.updateAudioLevels=t.UPDATE_AUDIO_LEVELS=void 0;t.UPDATE_AUDIO_LEVELS="UPDATE_AUDIO_LEVELS";t.updateAudioLevels=function(e,t){return{type:"UPDATE_AUDIO_LEVELS",audioLevels:t,experienceId:e}};var r={guests:{},host:0};t.InitialState=r;t.default=function(e,t){switch(void 0===e&&(e=r),t.type){case"UPDATE_AUDIO_LEVELS":for(var n=t.audioLevels,i=n[0],a=n.slice(1),o={},s=0;s<a.length;s++)o[s]=a[s];return Object.assign({},e,{guests:o,host:i});default:return e}}},850:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.updateGuestInfo=t.UPDATE_GUEST_INFO=void 0;t.UPDATE_GUEST_INFO="UPDATE_GUEST_INFO";t.updateGuestInfo=function(e,t){return{type:"UPDATE_GUEST_INFO",guestInfo:t,experienceId:e}};t.default=function(e,t){switch(void 0===e&&(e={}),t.type){case"UPDATE_GUEST_INFO":for(var n=t.guestInfo,r={},i=0;i<n.length;i++){var a=n[i],o=a.ParticipantIndex,s=a.ProfileUrl,c=a.SessionId,u=a.StreamName,l=a.UserId,d=a.UserName;r[i]={ParticipantIndex:o,ProfileUrl:s,SessionId:c,StreamName:u,UserId:l,UserName:d}}return r;default:return e}}},851:function(e,t,n){"use strict";var r=n(733),i=n(14);n(549),t.__esModule=!0,t.default=t.resetGuestState=t.RESET_GUEST_STATE=t.teardownExperience=t.TEARDOWN_EXPERIENCE=t.initializeExperience=t.INITIALIZE_EXPERIENCE=void 0;var a=n(1536),o=i(n(850)),s=r(n(849));t.INITIALIZE_EXPERIENCE="INITIALIZE_EXPERIENCE";t.initializeExperience=function(e){return{type:"INITIALIZE_EXPERIENCE",experienceId:e}};t.TEARDOWN_EXPERIENCE="TEARDOWN_EXPERIENCE";t.teardownExperience=function(e){return{type:"TEARDOWN_EXPERIENCE",experienceId:e}};t.RESET_GUEST_STATE="RESET_GUEST_STATE";t.resetGuestState=function(e){return{type:"RESET_GUEST_STATE",experienceId:e}};var c={audioLevels:s.InitialState,guests:{}},u=(0,a.combineReducers)({audioLevels:s.default,guests:o.default});t.default=function(e,t,n){var r;if(void 0===e&&(e={}),void 0===n&&(n=u),void 0!==t.experienceId)switch(t.type){case"INITIALIZE_EXPERIENCE":case"RESET_GUEST_STATE":return Object.assign({},e,((r={})[t.experienceId]=c,r));case"TEARDOWN_EXPERIENCE":var i=Object.assign({},e);return delete i[t.experienceId],i;default:var a,o=n(e[t.experienceId],t);return Object.assign({},e,((a={})[t.experienceId]=o,a))}return e}},852:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return _}));n(376),n(20),n(23);var r,i=n(37),a=n.n(i),o=n(1),s=n.n(o),c=n(745),u=n(743),l=n(778),d=n(753),p=n(758),f=n(752),h=n(740),y=(r={},s()(r,f.b,l.a.HLSJS_INSTANTIATED),s()(r,f.d,l.a.READY),s()(r,f.f,l.a.PLAYBACK_COMPLETE),s()(r,h.x,l.a.PAUSE),s()(r,h.y,l.a.PLAY),r),v={},m=function(e,t,n){void 0===v[e]&&(v[e]={}),void 0===v[e][t]&&(v[e][t]=[]),v[e][t].push(n)},_=function(e){delete v[e]};t.b=function(e){return function(t){return function(n){var r,i,o=n.playerId,s=n.type,f=e.getState().players[o],m=t(n),_=e.getState().players[o];if(o in v){var g=f.tracks.find((function(e){return"content"===e.displayType})),b=_.tracks.find((function(e){return"content"===e.displayType}));switch(s){case d.c:n.thrownError.message===u.a.LIVE_VIDEO_GEOBLOCK_ERROR?r=l.a.GEOBLOCK_ERROR:n.thrownError.message===u.a.LIVE_VIDEO_NO_COOKIES_ERROR&&(r=l.a.NO_COOKIES_ERROR);break;case h.B:!f.isMuted&&_.isMuted?r=l.a.MUTE:f.isMuted&&!_.isMuted&&(r=l.a.UNMUTE);break;case c.a:if(void 0!==g&&void 0!==b&&(g.isLive&&!b.isLive?r=l.a.LIVE_ENDED:!g.isLive&&b.isLive&&(r=l.a.LIVE_STARTED)),!r&&(f.eventTitle!==_.eventTitle||f.eventDescription!==_.eventDescription||f.eventUrl!==_.eventUrl)){var E=_.eventTitle,T=_.eventDescription,O=_.eventUrl;r=l.a.BROADCAST_EVENT_ASSOCIATION_UPDATED,i={eventTitle:E,eventDescription:T,eventUrl:O}}break;case h.i:f.liveClickthroughClicked!==_.liveClickthroughClicked&&(r=l.a.LIVE_CLICKTHROUGH);break;case p.d:var I=f.fullscreen.isFullscreen,S=_.fullscreen.isFullscreen;!I&&S?r=l.a.FULLSCREEN_ENTERED:I&&!S&&(r=l.a.FULLSCREEN_EXITED);break;default:r=y[s]}!function(e,t,n){t in v[e]&&a()(v[e][t])&&v[e][t].forEach((function(e){"function"==typeof e&&e(n)}))}(o,r,i),r===l.a.READY&&function(e,t){t in v[e]&&delete v[e][t]}(o,r)}return m}}}},853:function(e,t,n){"use strict";n(52),n(103),n(126),n(30),n(102),n(128),n(388);var r=n(5),i=n.n(r),a=n(1),o=n.n(a),s=function e(t){var n=this;i()(this,e),o()(this,"clearLogs",(function(){try{window.sessionStorage.removeItem(n.storageKey)}catch(e){}})),o()(this,"log",(function(t,r){if(e.debuggingEnabled){var i="".concat(t,": ").concat(r);n.logItemInSessionStorage(i)}})),o()(this,"logItemInSessionStorage",(function(e){try{var t=window.sessionStorage.getItem(n.storageKey),r=t?JSON.parse(t):[];r.push(e),window.sessionStorage.setItem(n.storageKey,JSON.stringify(r))}catch(e){}})),this.storageKey=e.generateStorageKey(t),this.clearLogs()};o()(s,"debuggingEnabled",!1),o()(s,"generateStorageKey",(function(e){return"".concat("TwitterVideoPlayerDebugLog",":").concat(e)})),o()(s,"getDebugFileLink",(function(e){var t=window.sessionStorage.getItem(s.generateStorageKey(e)),n=new window.Blob([JSON.parse(t).join("\n")],{type:"application/octet-stream"});return window.URL.createObjectURL(n)})),t.a=s},854:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return f}));n(50),n(52),n(34),n(376),n(20),n(69),n(40),n(51),n(33),n(23);var r=n(64),i=n.n(r),a=n(1),o=n.n(a),s=n(749),c=n(740);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e,t,n){return function(r){var i=t();r(p(e,i)),r(n?Object(s.f)(e):Object(c.O)(e))}},p=function(e,t){return{type:"AD_LOADED",playerId:e,adResponse:t}};t.c=function(e,t){switch(t.type){case"AD_LOADED":var n=e.tracks,r=t.adResponse;if(void 0===r.mediaInfo)return l(l({},e),{},{adLoaded:!0});var a=r.mediaInfo.variants.find((function(e){return 0===e.content_type.indexOf("application/x-mpegURL")}));if(void 0===a)return l(l({},e),{},{adLoaded:!0});var o,s=r.promotedContent||{};return r.mediaInfo.call_to_action&&(o={type:r.mediaInfo.call_to_action.type,url:r.mediaInfo.call_to_action.url}),l(l({},e),{},{currentTrackId:1,nextTrackIds:[0],tracks:[].concat(i()(n),[{id:1,displayType:"ad",cta:o,contentId:r.adId,contentType:"media_entity",publisherId:r.mediaInfo.publisher_id_str,durationMs:r.mediaInfo.duration_millis,shouldLoop:!1,shouldAutoAdvance:r.shouldAutoAdvance,impressionId:s.impressionId,disclosureType:s.disclosureType,dynamicPrerollType:r.dynamicPrerollType,rotation:0,variants:[{src:a.url,type:a.content_type}],currentVariantIndex:0,advertiserName:r.advertiserName,advertiserProfileImageUrl:r.advertiserProfileImageUrl,useRedesignedPrerollUx:r.useRedesignedPrerollUx}]),videoAnalyticsScribePassthrough:r.videoAnalyticsScribePassthrough,adLoaded:!0});default:return e}};var f={adLoaded:!1}},855:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var r=function(e,t){try{window.localStorage.setItem(e,t)}catch(e){}},i=function(e,t){try{return window.localStorage.getItem(e)}catch(e){return t}}},856:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(50),n(34),n(20),n(40),n(51),n(33),n(23);var r=n(1),i=n.n(r);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=function(e){return{type:"BANDWIDTH_ESTIMATE",bandwidthEstimate:e}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BANDWIDTH_ESTIMATE":return o(o({},e),{},{mostRecentBandwidthEst:t.bandwidthEstimate});default:return e}}},857:function(e,t,n){"use strict";var r=n(397),i=n(557);e.exports=r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},858:function(e,t,n){"use strict";n(52),n(30),n(61),n(31),n(127);var r=n(5),i=n.n(r),a=n(3),o=n.n(a),s=n(17),c=n.n(s),u=n(21),l=n.n(u),d=n(11),p=n.n(d),f=n(1),h=n.n(f),y=n(0),v=n(755),m=n(4),_=n(27),g=n(143),b=n.n(g);function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var T=b.a.jade381b,O=b.a.d725a288,I=function(e){c()(n,e);var t=E(n);function n(){return i()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this.props.style;return y.createElement(_.c,{color:_.a.gray600,style:e},this._renderTimestampAndMaybePlace(),this._maybeRenderSource())}},{key:"_renderTimestampAndMaybePlace",value:function(){var e=this.props,t=e.linkColor,n=e.onPlaceClick,r=e.onTimestampClick,i=e.place,a=e.placeLink,o=e.timestamp,s=e.timestampLink,c=function(e){var t=new Date(e),n=T(t),r=O(t);return"".concat(r,"  ").concat(n)}(o);return i?y.createElement(b.a.I18NFormatMessage,{$i18n:"ba64a3b2"},y.createElement(_.c,{color:s?t:void 0,link:s,onClick:r},b.a.e9c24489({date:c})),y.createElement(_.c,{color:a?t:void 0,link:a,onClick:n},b.a.a16de8a4({place:i}))):y.createElement(_.c,{color:s?t:void 0,link:s,onClick:r},c)}},{key:"_maybeRenderSource",value:function(){var e=this.props,t=e.linkColor,n=e.onSourceClick,r=e.source,i=e.sourceLink;return r?y.createElement(y.Fragment,null,y.createElement(v.a,null),y.createElement(_.c,{color:i?t:void 0,link:i,onClick:n,style:S.source},r)):null}}]),n}(y.Component);h()(I,"defaultProps",{linkColor:_.a.link});var S=m.a.create((function(e){return{source:{whiteSpace:"normal"}}}));t.a=I},860:function(e,t,n){"use strict";n(50),n(227),n(790),n(34),n(20),n(383),n(103),n(550),n(113),n(548),n(68),n(40),n(51),n(33),n(30),n(61),n(31),n(102),n(23),n(128);var r=n(2),i=n.n(r),a=n(5),o=n.n(a),s=n(7),c=n.n(s),u=n(3),l=n.n(u),d=n(17),p=n.n(d),f=n(21),h=n.n(f),y=n(11),v=n.n(y),m=n(1),_=n.n(m),g=n(106),b=n(0),E=n(738);function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var O=function(e){p()(n,e);var t=T(n);function n(){return o()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){return null}},{key:"componentDidMount",value:function(){this._startTimer()}},{key:"componentWillUnmount",value:function(){this._stopTimer()}},{key:"_startTimer",value:function(){var e=this.props.requestCardUpdate,t=E.a.getFetchIntervalSeconds();this._timer=setInterval(e,1e3*t)}},{key:"_stopTimer",value:function(){clearInterval(this._timer)}}]),n}(b.Component),I=(n(126),n(228),n(52),n(100),n(127),n(380)),S=n(58),w=n.n(S),P=n(791),A=n(713),D=n(774),R=n(736);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var M=function(e){p()(n,e);var t=L(n);function n(){var e;o()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),_()(c()(e),"_extractCardActionParams",(function(e,t){return[t&&void 0!==t.index?t.index:void 0,e.type===R.f.ACTION&&e.data.auth_required]})),_()(c()(e),"_scribeAndLogAction",(function(t,n,r,i){var a=e.props.scribeCardAction,o=e._extractCardActionParams(t,r),s=w()(o,2),c=s[0],u=s[1];a&&a({action:t.data.scribe,componentType:n,ctaIndex:c,isAuthRequired:u}),e._logPromotedCardAction({action:t.data.promoted_log,componentType:n,ctaIndex:c,isAuthRequired:u,mediaIndex:i})})),_()(c()(e),"_scribeClickIdEmbed",(function(t,n,r,i){var a=e.props.scribeCardAction,o=e._extractCardActionParams(t,r),s=w()(o,2),c=s[0],u=s[1];a&&a({action:D.a.CLICK_ID_EMBED,componentType:n,ctaIndex:c,isAuthRequired:u,clickContext:i})})),_()(c()(e),"_scribeUnifiedCardClick",(function(t,n,r){var i=e.props.scribeCardAction,a=e._extractCardActionParams(t,r),o=w()(a,2),s=o[0],c=o[1];i&&i({action:D.a.CLICK,element:t.data.scribe_element||void 0,componentType:n,ctaIndex:s,isAuthRequired:c})})),_()(c()(e),"_voteForChoice",(function(t){var n=e.props,r=n.card,i=n.onPollVote;i&&r&&i({cardId:r.id,choice:t})})),_()(c()(e),"_toggleEventReminder",(function(t){var n=e.props,r=n.card,i=n.onEventReminderClick;if(t.eventId&&t.notificationId){var a=t.eventId,o=t.isSelected,s=void 0!==o&&o,c=t.notificationId;i&&r&&i({cardId:r.id,eventId:a,notificationId:c,remindMe:!s})}})),_()(c()(e),"_updateCardStateAndPersistIfNeeded",(function(t,n,r){var i=e.props.updateCardState;r&&(i&&i(r),n&&E.a.storeCardState(t,r))})),_()(c()(e),"_logPromotedCardAction",(function(t){var n=t.action,r=t.componentType,i=t.ctaIndex,a=t.isAuthRequired,o=t.mediaIndex,s=e.props,c=s.card,u=s.onPromotedLogEvent;if(c&&u){var l={action:n,componentType:r,isAuthRequired:a};"number"==typeof i&&(l.buttonIndex=i),"number"==typeof o&&(l.ucPromotedMetadata={media_index:o}),u(l)}})),e}return l()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.buttonData,r=t.card,i=t.children,a=t.componentType,o=t.destinationKey,s=t.isInteractive,c=t.media,u=t.mediaIndex,l=t.onCardLinkClick,d=t.promotedContent,p=t.transformUrl;if(!r||!o||!s)return i({});var f=r.destinations[o],h=null!=p?p:A.a;if(!f)return i({});switch(f.type){case R.f.BROWSER:case R.f.BROWSER_WITH_DOCKED_MEDIA:case R.f.BROWSER_WITH_MEDIA:var y=r.card_name===R.a.UNIFIED_CARD;return i({link:y&&p?p(f.data.url_data.url,k(k({},f.data.scribe_element?{element:f.data.scribe_element}:null),{},{action:"click"})):h(f.data.url_data.url),onClick:function(){var t={originalUrl:Object(P.a)(f.data.url_data.url),embeddedUrl:Object(P.a)(h(f.data.url_data.url))};e._scribeAndLogAction(f,a,n,u),l&&l(),t&&e._scribeClickIdEmbed(f,a,n,t),y&&e._scribeUnifiedCardClick(f,a,n)}});case R.f.MOMENT:return i({link:E.a.getMomentLink(f.data.moment_data.moment),onClick:function(){return e._scribeAndLogAction(f,a,n,u)}});case R.f.EVENT:return i({link:{pathname:E.a.getEventLink(f.data.event_data.id),state:{promotedCardState:{media:c,promotedContent:d}}},onClick:function(){return e._scribeAndLogAction(f,a,n,u)}});case R.f.BROADCAST:return i({link:{pathname:E.a.getBroadcastLink(f.data.broadcast_data.id),state:{promotedContent:d}},onClick:function(){return e._scribeAndLogAction(f,a,n,u)}});case R.f.ACTION:var v=f.data.action_data,m=v.next_state,_=v.persist;return i({onClick:function(t){switch(e._scribeAndLogAction(f,a,n,u),v.type){case"compose":n&&E.a.composeTweet(r.id,n.tweet||void 0,m);break;case"dm":v.recipient&&E.a.composeDirectMessage({recipient:v.recipient,welcomeMessageId:n&&n.wm_id||void 0,messageText:n&&n.composer_text||void 0});break;case"vote":n&&e._voteForChoice(n.index);break;case"reminder":n&&e._toggleEventReminder(n);break;default:e._updateCardStateAndPersistIfNeeded(r.id,_,m),t.stopPropagation()}}});default:return i({})}}}]),n}(b.Component);_()(M,"defaultProps",{isInteractive:!0});var N,j=(N=M,function(e){return b.createElement(Cr.Context.Consumer,null,(function(t){return b.createElement(N,i()({},e,t))}))}),x=n(4),U=n(35),B=n(737);function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var V=function(e){p()(n,e);var t=F(n);function n(){var e;o()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),_()(c()(e),"_renderButton",(function(t,n){var r=e.props,i=r.buttonSize,a=r.disabled,o=r.useBlueButtonForAppDetails,s=e._getButtonIcon(t.icon)||void 0,c=n>0,u=o&&t.isAppDetails||t.isSelected?"primary":"secondary";return b.createElement(j,{buttonData:t,componentType:"button_group",destinationKey:t.destination,key:t.cta},(function(e){var n=e.link,r=e.onClick;return b.createElement(I.a,{disabled:a,icon:s,key:t.cta,link:n,onClick:r,size:i,style:[G.button,c&&G.buttonTopMargin],type:u},t.cta)}))})),e}return l()(n,[{key:"render",value:function(){var e=this.props,t=e.chromeless,n=e.buttons;return b.createElement(U.default,{style:!t&&G.wrapperPadding},n.map(this._renderButton))}},{key:"_getButtonIcon",value:function(e){switch(e){case"dm":return b.createElement(B.IconMessagesStroke,null);case"link":return b.createElement(B.IconLink,null);default:return null}}}]),n}(b.Component),G=x.a.create((function(e){return{wrapperPadding:{padding:e.spaces.xSmall},button:{flexGrow:1},buttonTopMargin:{marginTop:e.spaces.xxSmall}}})),W=V,Y=(n(382),n(746)),H=n(804),z=function(e){var t=e.ext_media_color&&e.ext_media_color.palette,n=t&&H.a.get(t);return n?"rgb(".concat(n.rgb.red,", ").concat(n.rgb.green,", ").concat(n.rgb.blue,")"):void 0},K=n(377),q=n(761),J=n(772);n(101);function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var X=function(e){p()(n,e);var t=Q(n);function n(){return o()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){var e=this.props,t=e.componentType,n=e.destination,r=e.importantForAccessibility,i=e.locationKey,a=e.mediaEntity,o=e.mediaIndex,s=e.ratio,c=e.renderPlaceholder,u=e.style,l=a||{},d=l.media_url_https,p=l.original_info,f=(p=void 0===p?{}:p).width,h=p.height,y=l.cropCandidates,v=l.altText,m=void 0===v?"":v,_=a&&z(a),g=b.createElement(b.Fragment,null,b.createElement(Cr.Context.Consumer,null,(function(e){var t=e.isDataSaverEnabled,n=e.isPromoted,r=t?n?"suboptimal":"preview":void 0;return E.a.renderImage({uri:d,width:f,height:h},s,r,i,y,m)})),this._renderOverlay()),T=b.createElement(Y.a,{ratio:s||1},b.createElement(U.default,{style:[$.image,$.mediaMissingIconContainer]},b.createElement(B.IconNewsStroke,{style:$.newsIcon}))),O=d&&!c,I=[u,$.root,{backgroundColor:_}],S=[$.root,$.mediaMissing],w=O?I:S,P=O?g:T;return b.createElement(j,{componentType:t,destinationKey:n,mediaIndex:o},(function(e){var t=e.link,n=e.onClick;return b.createElement(K.a,{importantForAccessibility:r,interactive:!1,link:t,onClick:n,style:w},P)}))}},{key:"_renderOverlay",value:function(){var e=this.props,t=e.overlay,n=e.playOverlaySize;if(!t)return null;switch(t.type){case R.g.MOMENTS:return b.createElement(q.a,{align:"left",square:!0},b.createElement(B.IconLightning,null));case R.g.PLAY:return b.createElement(U.default,{style:$.playOverlay},b.createElement(J.a,{size:n}));case R.g.LABEL:return b.createElement(q.a,{align:"left"},t.text);default:return null}}}]),n}(b.Component);_()(X,"defaultProps",{playOverlaySize:"small",componentType:"image"}),X.propTypes={};var $=x.a.create((function(e){return{root:{width:"100%",height:"100%",overflow:"hidden"},image:{width:"100%",height:"100%"},playOverlay:{position:"absolute",width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},momentsIcon:{height:e.spaces.small,color:e.colors.white},mediaMissing:{backgroundColor:e.colors.gray0},mediaMissingIconContainer:{display:"flex",alignItems:"center",justifyContent:"center"},newsIcon:{color:e.colors.gray600,height:"2em"}}})),Z=X,ee=n(833),te=n(143),ne=n.n(te);function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var oe=ne.a.b74bf8b7,se=ne.a.a7cd5cf4,ce=ne.a.df8cd2af,ue=function(e){p()(n,e);var t=ae(n);function n(e){var r;return o()(this,n),r=t.call(this,e),_()(c()(r),"_videoPlayers",[]),_()(c()(r),"_muteStateChangeInProgress",!1),_()(c()(r),"_renderPhotoType",(function(e,t,n,i){if("photo"!==t.type)return null;var a=t.original_info,o=a.width,s=a.height;return b.createElement(Z,{componentType:"swipeable_media",destination:i,importantForAccessibility:r.state.currentSlide!==e?"no-hide-descendants":void 0,key:e,mediaEntity:t,mediaIndex:e+1,overlay:n,playOverlaySize:r.props.playOverlaySize,ratio:t?Math.max(o/s,1):void 0,style:[le.image,0===e&&le.firstImage,e===r.props.swipeableMedia.length-1&&le.lastImage]})})),_()(c()(r),"_renderVideoType",(function(e,t,n){var i=e.media_entity;if("uc_video"!==i.type)return null;var a=r.props,o=a.isViewportConstrained,s=a.renderVideoPlayer,c=a.swipeableMedia,u=a.isDataSaverEnabled,l=a.isPromoted,d=a.persistCarouselMuteState,p=r.state.shouldAutoplayWithoutMuting,f=r.state.loadedSlide===t||o,h=ie({onPlaybackComplete:r._handlePlaybackComplete,onFullscreenChange:r._handleFullscreenChange,onSetPlayerApi:r._handleSetPlayerApi},d?{onMuteChange:r._handleMuteChange}:null);if(f&&s){var y=u?l?"suboptimal":"preview":void 0;return b.createElement(U.default,{importantForAccessibility:r.state.currentSlide!==t?"no-hide-descendants":void 0,key:t,style:[le.video,0===t&&le.firstImage,t===c.length-1&&le.lastImage]},s(i,y,n,d&&p,h))}var v={media_url_https:i.media_url_https,type:"photo",original_info:i.original_info};return r._renderPhotoType(t,v,{type:R.g.PLAY})})),_()(c()(r),"_handleMuteChange",(function(e){var t=e.isPlayerMuted,n=r.state.shouldAutoplayWithoutMuting,i=!t;r._muteStateChangeInProgress||n===i||(r._muteStateChangeInProgress=!0,r.setState({shouldAutoplayWithoutMuting:i}),r._videoPlayers.forEach((function(e){t?e.mute():e.unmute()})),r._muteStateChangeInProgress=!1)})),_()(c()(r),"_handleSetPlayerApi",(function(e){r._videoPlayers.push(e)})),_()(c()(r),"_handleFullscreenChange",(function(e){var t=e.isPlayerFullscreen;return r.setState({isFullscreen:t})})),_()(c()(r),"_handlePlaybackComplete",(function(){var e=r.state,t=e.currentSlide,n=e.loadedSlide,i=e.isFullscreen,a=t===r.props.swipeableMedia.length-1;if(!i&&n===t&&!a){var o=r.props,s=o.card,c=o.scribeCardAction,u=t+1;r.setState({currentSlide:u}),s&&E.a.storeCarouselIndex(s.id,u),r._setTransitionAccessibilityLabel(u),r._updateUCMetadata(u);var l={currentMediaIndex:u+1,previousMediaIndex:t+1};c&&c({action:D.a.AUTO_SWIPE,componentType:"swipeable_media",swipeEventDetails:l})}})),_()(c()(r),"_handleChange",(function(e){var t=r.props,n=t.card,i=t.ucPromotedMetadata,a=t.onPromotedLogEvent,o=t.scribeCardAction,s=r.state.currentSlide;r._updateUCMetadata(e),a&&a({action:e>s?"unified_card_carousel_swipe_next":"unified_card_carousel_swipe_previous",componentType:"swipeable_media",ucPromotedMetadata:ie(ie({},i),{},{media_index:s+1})});var c={currentMediaIndex:e+1,previousMediaIndex:s+1};o&&o({action:D.a.USER_SWIPE,componentType:"swipeable_media",swipeEventDetails:c}),r._setTransitionAccessibilityLabel(e),r.setState({currentSlide:e}),n&&E.a.storeCarouselIndex(n.id,e)})),_()(c()(r),"_handleOnRest",(function(e){r.setState({loadedSlide:e})})),_()(c()(r),"_updateUCMetadata",(function(e){var t=r.props,n=t.ucPromotedMetadata,i=t.updateUCPromotedMetadata,a=ie(ie({},n),{},{media_index:e+1});i&&i(a)})),_()(c()(r),"_setTransitionAccessibilityLabel",(function(e){var t,n=r.props.swipeableMedia,i=null===(t=n[e])||void 0===t?void 0:t.media_entity;return i&&"photo"===i.type?r.setState({transitionAccessibilityLabel:ce({currentSlide:e+1,itemCount:n.length,type:oe,altText:i.altText||""})}):"uc_video"===(null==i?void 0:i.type)?r.setState({transitionAccessibilityLabel:ce({currentSlide:e+1,itemCount:n.length,type:se,altText:""})}):void 0})),r.state={currentSlide:e.carouselIndex,loadedSlide:e.carouselIndex,transitionAccessibilityLabel:void 0,isFullscreen:!1,shouldAutoplayWithoutMuting:!1},r}return l()(n,[{key:"componentDidMount",value:function(){this._updateUCMetadata(this.state.currentSlide)}},{key:"render",value:function(){var e=this,t=this.props,n=t.swipeableMedia,r=t.isViewportConstrained,i=n[0].media_entity;if("photo"!==i.type&&"uc_video"!==i.type)return null;var a=i.original_info,o=a.width/a.height,s=this.props.swipeableMedia.some((function(e){return"uc_video"===e.media_entity.type}));return b.createElement(Y.a,{ratio:o,style:le.aspectRatio},b.createElement(U.default,{style:[le.root]},b.createElement(ee.a,{cellSpacing:5,currentSlide:this.state.currentSlide,locked:this.state.isFullscreen,onChange:this._handleChange,onRest:this._handleOnRest,shouldRenderAll:s&&r,showNavButtonsOnHover:!0,transitionAccessibilityLabel:this.state.transitionAccessibilityLabel,withOffscreenNavOverlay:!0,withReducedNavButtonClickArea:s},n.map((function(t,n){var r=t.media_entity,i=t.destination;return"photo"===r.type?e._renderPhotoType(n,r,t.overlay,i):"uc_video"===r.type?e._renderVideoType(t,n,o):void 0})))))}}]),n}(b.Component);_()(ue,"defaultProps",{carouselIndex:0});var le=x.a.create((function(e){return{root:{height:"100%"},aspectRatio:{overflow:"visible"},image:{borderColor:e.colors.nestedBorderColor,borderStyle:"solid",borderWidth:e.borderWidths.small},video:{overflow:"hidden",maxHeight:"100%"},firstImage:{borderTopLeftRadius:e.borderRadii.xLarge},lastImage:{borderTopRightRadius:e.borderRadii.xLarge}}})),de=function(e){return function(t){return b.createElement(Cr.Context.Consumer,null,(function(n){return b.createElement(e,i()({},t,n))}))}}(ue),pe=n(27),fe=x.a.create((function(e){return{icon:{marginRight:e.spaces.micro}}})),he=function(e){var t=e.weight,n=e.children,r=e.dir,i=void 0===r?"auto":r,a=e.numberOfLines,o=e.type;return b.createElement(pe.c,{color:"vanity"===o||"description"===o?"gray600":"normal",dir:i,numberOfLines:a,weight:t},"vanity"===o?b.createElement(pe.c,{size:"small",style:fe.icon},b.createElement(B.IconLink,null)):null,E.a.renderTwemojiText(n))},ye=n(771);function ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var me=function(e){p()(n,e);var t=ve(n);function n(){var e;o()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),_()(c()(e),"_hasText",(function(){var t=e.props,n=t.attribution,r=t.category,i=t.title,a=t.description,o=t.vanity;return!!(n||i||a||o||r)})),e}return l()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.destination,r=t.accessibilityLabel;return b.createElement(j,{componentType:"details",destinationKey:n},(function(t){var n=t.link,i=t.onClick;return b.createElement(K.a,{accessibilityLabel:r,interactive:!1,link:n,onClick:i,style:ge.detailItemsWrapper},e._renderContent(),e._renderExtraContent())}))}},{key:"_renderExtraContent",value:function(){var e=this.props.extraContent;return e?b.createElement(U.default,{style:ge.extraContentWrapper},e):null}},{key:"_renderContent",value:function(){var e=this.props,t=e.attribution,n=e.category,r=e.chromeless,i=e.destination,a=e.footer,o=e.nativeID,s=e.testID,c=e.title,u=e.titleMaxLines,l=e.description,d=e.descriptionMaxLines,p=e.vanity,f=e.withBottomPadding,h=!i;return b.createElement(U.default,{nativeID:o,style:[ge.textContentWrapper,r?null:[ge.wrapperPadding,f&&ge.bottomPadding]],testID:s},t?b.createElement(ye.a,{isProtected:t.protected,isVerified:t.verified,name:t.name,profileImageUrl:t.profile_image_url_https,screenName:t.screen_name,style:[ge.attributionWrapper,this._hasText()&&ge.spaceBelow],withLink:h}):null,n?b.createElement(U.default,{style:[c||l||p||a?ge.spaceBelow:null]},b.createElement(he,{dir:_e(n.is_rtl),numberOfLines:1,type:"description"},n.content)):null,c?b.createElement(U.default,{style:[l||p||a?ge.spaceBelow:null]},b.createElement(he,{dir:_e(c.is_rtl),numberOfLines:E.a.shouldLimitTextToSingleLine()?1:u,type:"title"},c.content)):null,l?b.createElement(U.default,{style:[p||a?ge.spaceBelow:null]},b.createElement(he,{dir:_e(l.is_rtl),numberOfLines:E.a.shouldLimitTextToSingleLine()?1:d,type:"description"},l.content)):null,a?b.createElement(U.default,{style:[p?ge.spaceBelow:null]},b.createElement(he,{dir:"auto",numberOfLines:1,type:"description"},a)):null,p?b.createElement(U.default,null,b.createElement(he,{dir:"auto",numberOfLines:1,type:"vanity"},p)):null)}}]),n}(b.Component),_e=function(e){switch(e){case!0:return"rtl";case!1:return"ltr";default:return"auto"}},ge=x.a.create((function(e){return{attributionWrapper:{alignItems:"flex-start"},detailItemsWrapper:{flexDirection:"row",justifyContent:"space-between",flexGrow:1},extraContentWrapper:{flexShrink:0,padding:e.spaces.xSmall},textContentWrapper:{flexGrow:1,flexShrink:1,justifyContent:"center"},wrapperPadding:{paddingTop:e.spaces.xSmall,paddingHorizontal:e.spaces.xSmall},bottomPadding:{paddingBottom:e.spaces.xSmall},spaceBelow:{marginBottom:e.spaces.micro}}})),be=me,Ee=n(755),Te=ne.a.d58baa7e,Oe=ne.a.c5954d30,Ie=function(e){switch(e){case!0:return"rtl";case!1:return"ltr";default:return"auto"}},Se=x.a.create((function(e){return{contentWrapper:{flexGrow:1,flexShrink:1,justifyContent:"center"},attributionWrapper:{alignItems:"flex-start"},detailItemsWrapper:{flexDirection:"row",justifyContent:"space-between",flexGrow:1},wrapperPadding:{paddingTop:e.spaces.xxSmall,paddingHorizontal:e.spaces.xSmall},bottomPadding:{paddingBottom:e.spaces.xSmall},spaceBelow:{marginBottom:e.spaces.xxSmall},icon:{marginRight:e.spaces.micro},innerRow:{flexDirection:"row",flexShrink:1}}})),we=function(e){var t=e.attribution,n=e.destination,r=e.title,i=e.memberCount,a=e.titleMaxLines;return b.createElement(j,{componentType:"twitter_list_details",destinationKey:n},(function(e){var n=e.link,o=e.onClick;return b.createElement(K.a,{interactive:!1,link:n,onClick:o,style:[Se.contentWrapper,Se.wrapperPadding,Se.bottomPadding]},b.createElement(U.default,{style:[Se.innerRow,Se.spaceBelow]},b.createElement(pe.c,{color:"gray600",size:"small",weight:"bold"},b.createElement(B.IconLists,{style:Se.icon}),Oe),b.createElement(Ee.a,{color:"gray600"}),b.createElement(pe.c,{color:"gray600",size:"small"},b.createElement(ne.a.I18NFormatMessage,{$i18n:"d6b02328",formattedCount:Te(i),count:i}))),b.createElement(U.default,{style:Se.spaceBelow},b.createElement(he,{dir:Ie(r.is_rtl),numberOfLines:E.a.shouldLimitTextToSingleLine()?1:a,type:"title",weight:"bold"},r.content)),b.createElement(ye.a,{avatarSize:"small",isProtected:t.protected,isVerified:t.verified,name:t.name,nameSize:"small",profileImageUrl:t.profile_image_url_https,screenName:t.screen_name,screenNameSize:"small",style:[Se.attributionWrapper],withLink:!1}))}))},Pe=n(813);var Ae=function(e){var t=e.locationKey,n=e.media,r=e.renderVideoPlayer,i=e.playOverlaySize;if(!n||!n.mediaEntity)return null;var a=n.aspect_ratio,o=n.mediaEntity,s=n.destination,c=n.overlay;if("photo"===o.type){var u=o.original_info,l=u.width,d=u.height;return b.createElement(Z,{destination:s,locationKey:t&&"".concat(t,"-largeCard"),mediaEntity:o,overlay:c,playOverlaySize:i,ratio:a||(o?Math.max(l/d,1):void 0)})}return"iframe"===o.type?b.createElement(Y.a,{ratio:Math.max(o.aspect_ratio,1)},b.createElement(Pe.a,{src:o.url,style:De.iframe})):("video"===o.type||"uc_video"===o.type||"live_broadcast"===o.type||"vine"===o.type||"tweet_video"===o.type)&&r?b.createElement(Cr.Context.Consumer,null,(function(e){var t=e.isDataSaverEnabled,n=e.isPromoted;return r(o,t?n?"suboptimal":"preview":void 0)})):null},De=x.a.create((function(e){return{iframe:{height:"100%"}}})),Re=n(805),Ce=n(64),ke=n.n(Ce),Le=ne.a.e86732e3,Me=ne.a.f668e928,Ne=x.a.create((function(e){return{choice:{alignItems:"center",flexDirection:"row",height:e.spaces.large,justifyContent:"space-between"},choicePercentageBar:{backgroundColor:e.colors.gray200,borderTopLeftRadius:e.borderRadii.small,borderBottomLeftRadius:e.borderRadii.small,position:"absolute",top:0,left:0,bottom:0},choicePercentageBarRoundCorners:{borderRadius:e.borderRadii.small},choicePercentageBarWinner:{backgroundColor:e.colors.lightPrimary},choiceLabel:{paddingVertical:0,paddingHorizontal:e.spaces.xSmall},choicePercentage:{paddingStart:e.spaces.xSmall}}})),je=function(e){var t=e.noVotes,n=e.isFinal,r=e.isSelected,i=e.isWinner,a=e.label,o=e.percentageOfTotalVote,s=100===o,c=i?"bold":void 0,u=t?"7px":"".concat(o,"%"),l="light"===x.a.theme.paletteName&&x.a.theme.highContrastEnabled,d=o/100;return b.createElement(U.default,{style:Ne.choice},b.createElement(U.default,{style:[Ne.choicePercentageBar,l&&{backgroundColor:x.a.theme.colors.gray50},(n||s||t)&&Ne.choicePercentageBarRoundCorners,i&&Ne.choicePercentageBarWinner,{width:u}]}),b.createElement(U.default,{style:Ne.choiceLabel},b.createElement(pe.c,{weight:c},a,r?" ":null,r?b.createElement(B.IconCheckmarkCircle,{accessibilityLabel:Le}):null)),b.createElement(U.default,{style:Ne.choiceLabel&&Ne.choicePercentage},b.createElement(pe.c,{weight:c},Me(d))))};function xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var Ue=function(e){p()(n,e);var t=xe(n);function n(){return o()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.choices,r=t.totalVotes,i=Math.max.apply(Math,ke()(n.map((function(e){return e.count}))));return n.map((function(t,n){return b.createElement(U.default,{key:t.index,style:0!==n&&Be.topMargin},e._renderChoiceResult(t,r,i))}))}},{key:"_renderChoiceResult",value:function(e,t,n){var r=this.props,i=r.isFinal,a=r.selectedChoice,o=Math.round(e.count/t*1e3)/10||0;return b.createElement(je,{isFinal:i,isSelected:a===e.index,isWinner:i&&e.count===n,label:E.a.renderTwemojiText(e.cta,!0),noVotes:0===e.count,percentageOfTotalVote:o})}}]),n}(b.Component),Be=x.a.create((function(e){return{topMargin:{marginTop:e.spaces.xxSmall}}})),Fe=Ue,Ve=ne.a.a3edf99a,Ge=ne.a.c2b81e9c,We=ne.a.d925a4f8,Ye=ne.a.ib15cdda,He=ne.a.db9ed19f,ze=ne.a.ia24dc8c,Ke=x.a.create((function(e){return{pollStatus:{marginTop:e.spaces.xSmall}}})),qe=function(e){var t,n=e.choices,r=e.endDatetimeUtc,i=e.isAuthor,a=e.isFinal,o=e.totalVotes,s=e.resultTextSize,c=e.selectedChoice,u=e.votingDisabled;return b.createElement(U.default,null,c||a||i?b.createElement(Fe,{choices:n,isFinal:a,selectedChoice:c,totalVotes:o}):b.createElement(W,{buttonSize:"normalCompact",buttons:n.map((function(e){return{cta:e.cta,index:e.index,destination:e.destination}})),chromeless:!0,disabled:u}),b.createElement(pe.c,{color:"gray600",size:s,style:Ke.pollStatus},b.createElement(Re.a,null,b.createElement(pe.c,null,Ge({count:t=o,formattedCount:ze(t)})),b.createElement(pe.c,null,a?Ve:function(e){var t=new Date(e).getTime()-Date.now(),n=Math.floor(t/864e5),r=Math.floor(t/36e5),i=Math.floor(t/6e4);return r>=24?He({count:n,formattedCount:ne.a.ia24dc8c(n)}):i>=60?Ye({count:r,formattedCount:ne.a.ia24dc8c(r)}):We({count:i,formattedCount:ne.a.ia24dc8c(i)})}(r)))))},Je=n(770),Qe=(n(174),n(840),n(773)),Xe=Object.freeze({large:{title:1,description:2},medium:{title:2,description:1},small:{title:2,description:0}}),$e=Object.freeze({large:{title:1,description:2},medium:{title:2,description:1},small:{title:2,description:0}}),Ze=Object.freeze({large:5,medium:4,small:3}),et=Object.freeze({large:"normal",medium:"normalCompact",small:"normalCompact"}),tt=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i={large:$e,small:Xe}[e],a=r.alwaysShowDescription,o=void 0!==a&&a,s=r.capMaxTitleLines,c=void 0===s?Number.MAX_SAFE_INTEGER:s,u=t>=450?i.large:t>=400?i.medium:i.small,l=[n.category||null,n.attribution||null,n.footer||null,n.vanity||null],d=n.description,p=n.title,f=l.some(Boolean),h=Math.min(c,u.title+(d?0:u.description)+(f?0:1)),y=Math.max(o?1:0,"small"!==e||p||f?u.description:u.description+1);return"small"===e?{titleMaxLines:h,descriptionMaxLines:y}:{titleMaxLines:Math.min(2,h),descriptionMaxLines:y}},nt=function(e,t){var n=[t.category||null,t.attribution||null,t.footer||null,t.vanity||null,t.title,t.description].filter(Boolean).length,r=e>=450?Ze.large:e>=400?Ze.medium:Ze.small;return it(r,n)},rt=function(e){return e>=450?et.large:e>=400?et.medium:et.small},it=function(e,t){var n=x.a.theme,r=n.borderWidths,i=n.fontSizes,a=n.lineHeight,o=n.spaces,s="".concat(i.normal," * ").concat(a," * ").concat(e),c="".concat(o.xSmall," * 2"),u="".concat(r.small," * 2"),l="".concat(o.micro," * ").concat(t-1);return"calc(".concat(s," + ").concat(c," + ").concat(u," + ").concat(l,")")},at=function(e,t){var n=e?Math.abs(e-t):1/0,r=Qe.a.getScrollbarWidth();return void 0===e||n>r};function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var ut=function(e){p()(n,e);var t=ct(n);function n(e){var r;return o()(this,n),r=t.call(this,e),_()(c()(r),"_updateSizes",(function(e){if(at(r._previousWidth,e)){r._previousWidth=e;var t=r.props,n=t.details,i=t.buttons,a=r.state,o=a.titleMaxLines,s=a.descriptionMaxLines,c=a.buttonSize,u=function(e){var t=e.hasButtons,n=e.details,r=e.titleMaxLines,i=e.descriptionMaxLines,a=e.playOverlaySize,o=e.buttonSize,s=e.width,c=n?tt("large",s,n):{titleMaxLines:void 0,descriptionMaxLines:void 0},u=t?rt(s):void 0,l=s<175?"small":"normal",d=c.titleMaxLines,p=c.descriptionMaxLines;if(d!==r||p!==i||l!==a||u&&u!==o)return{buttonSize:u,descriptionMaxLines:p,playOverlaySize:l,titleMaxLines:d}}({hasButtons:!!i,details:n,titleMaxLines:o,descriptionMaxLines:s,playOverlaySize:a.playOverlaySize,buttonSize:c,width:e});u&&r.setState(u)}})),_()(c()(r),"_handleLayout",(function(e){var t=e.nativeEvent.layout.width;r._updateSizes(t)})),_()(c()(r),"_setRootNode",(function(e){e&&r._updateSizes(e.clientWidth)})),r.state=st(st({},e.details?tt("large",500,e.details):null),e.buttons?{buttonSize:rt(500)}:null),r}return l()(n,[{key:"render",value:function(){var e=this.props,t=e.a11yDomIds,n=e.buttons,r=e.chromeless,i=e.details,a=e.dmSentOrReceived,o=e.media,s=e.nativeID,c=e.onLikelyInteraction,u=e.poll,l=e.testIDs,d=e.withInteractiveStyling,p=e.withSquareBottomBorderRadius,f=this._renderSwipeableMedia(),h=o&&o.mediaEntity?this._renderMedia():f,y=!!u,v=!r&&!f,m=r&&!f,_=!!(u||n||i)&&!f;return b.createElement(Je.a,{"aria-labelledby":s&&t?[t.cardMediaDomId,t.cardDetailDomId].join(" "):void 0,nativeID:s,onHoverIn:c,onLayout:this._handleLayout,onPressIn:c,style:[a&&dt[a],v&&dt.border,p&&lt[p],f&&dt.rootWithCarousel],testID:null==l?void 0:l.wrapper,viewRef:this._setRootNode,withFocusWithinFocusRing:!0,withInteractiveStyling:d,withOutsetFocusRing:!0},h?b.createElement(U.default,{importantForAccessibility:"no-hide-descendants",nativeID:s&&t?t.cardMediaDomId:void 0,style:[dt.media,m&&dt.border,_&&dt.mediaBottomBorder,y&&dt.mediaBottomSpace,!!i&&lt.both],testID:null==l?void 0:l.layoutLarge.media},h):null,b.createElement(U.default,{nativeID:s&&t?t.cardDetailDomId:void 0,style:[f&&dt.carouselBottomContent]},this._renderDetail(),this._renderListDetail(),this._renderButtons(),this._renderPoll()))}},{key:"_renderDetail",value:function(){if(!this.props.details)return null;var e=this.state,t=e.titleMaxLines,n=e.descriptionMaxLines,r=this.props,i=r.buttons,a=r.chromeless,o=r.details,s=r.testIDs,c=o.attribution,u=o.category,l=o.description,d=o.destination,p=o.footer,f=o.title,h=o.vanity;return b.createElement(be,{attribution:c,category:u,chromeless:a,description:0!==n?l:void 0,descriptionMaxLines:n,destination:d,footer:p,testID:null==s?void 0:s.layoutLarge.detail,title:f,titleMaxLines:t,vanity:h,withBottomPadding:!i})}},{key:"_renderListDetail",value:function(){var e=this.props.listDetails,t=this.state.titleMaxLines;if(!e)return null;var n=e.attribution,r=e.destination,i=e.title,a=e.memberCount;return b.createElement(we,{attribution:n,destination:r,memberCount:a,title:i,titleMaxLines:t})}},{key:"_renderButtons",value:function(){var e=this.state.buttonSize,t=this.props,n=t.chromeless,r=t.buttons,i=t.useBlueButtonForAppDetails;return r?b.createElement(W,{buttonSize:e,buttons:r,chromeless:n,useBlueButtonForAppDetails:i}):null}},{key:"_renderPoll",value:function(){var e=this.props.poll;return e?b.createElement(qe,e):null}},{key:"_renderSwipeableMedia",value:function(){var e=this.props,t=e.renderVideoPlayer,n=e.swipeableMedia,r=e.isViewportConstrained,i=e.persistCarouselMuteState;return n?b.createElement(de,{isViewportConstrained:r,persistCarouselMuteState:i,playOverlaySize:this.state.playOverlaySize,renderVideoPlayer:t,swipeableMedia:n}):null}},{key:"_renderMedia",value:function(){var e=this.props,t=e.locationKey,n=e.media,r=e.renderVideoPlayer,i=this.state.playOverlaySize;return b.createElement(Ae,{locationKey:t,media:n,playOverlaySize:i,renderVideoPlayer:r})}}]),n}(b.Component);_()(ut,"defaultProps",{isPromoted:!1,isViewportConstrained:!1,withInteractiveStyling:!0}),ut.propTypes={};var lt=x.a.create((function(e){return{both:{borderBottomRightRadius:e.borderRadii.none,borderBottomLeftRadius:e.borderRadii.none},left:{borderBottomLeftRadius:e.borderRadii.none},right:{borderBottomRightRadius:e.borderRadii.none}}})),dt=x.a.create((function(e){return{media:{display:"block"},mediaBottomBorder:{borderBottomColor:e.colors.nestedBorderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small},mediaBottomSpace:{marginBottom:e.spaces.xSmall},border:{borderRadius:e.borderRadii.xLarge,borderColor:e.colors.nestedBorderColor,borderStyle:"solid",borderWidth:e.borderWidths.small,overflow:"hidden"},rootWithCarousel:{marginRight:e.spaces.large,borderRadius:e.borderRadii.xLarge},carouselBottomContent:{borderBottomLeftRadius:e.borderRadii.xLarge,borderBottomRightRadius:e.borderRadii.xLarge,borderColor:e.colors.nestedBorderColor,borderStyle:"solid",borderWidth:e.borderWidths.small,marginTop:-.5},sent:{borderColor:e.colors.primary},received:{borderColor:e.colors.gray200}}})),pt=ut;function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var yt=ne.a.hdf426f5,vt=ne.a.a3efd2c3,mt=ne.a.b91c8e53,_t=ne.a.b3826294,gt=function(e){p()(n,e);var t=ht(n);function n(e){var r;o()(this,n),r=t.call(this,e),_()(c()(r),"_composeTopicCardAccessibilityLabel",(function(e,t){return t&&t.content&&t.content.length>0?_t({title:e.content,description:t.content}):mt({title:e.content})})),_()(c()(r),"_updateSizes",(function(e){if(at(r._previousWidth,e)){r._previousWidth=e;var t=r.state,n=t.titleMaxLines,i=t.descriptionMaxLines,a=t.imageWidthStyle,o=r.props.details,s=tt("small",e,o,r._getLinesForWidthOptions()),c=nt(e,o),u=s.titleMaxLines,l=s.descriptionMaxLines;c===a&&u===n&&l===i||r.setState({titleMaxLines:u,descriptionMaxLines:l,imageWidthStyle:c})}})),_()(c()(r),"_handleLayout",(function(e){var t=e.nativeEvent.layout.width;r._updateSizes(t)})),_()(c()(r),"_setRootNode",(function(e){e&&r._updateSizes(e.clientWidth)})),_()(c()(r),"_getLinesForWidthOptions",(function(){var e=r.props.isTopicCard;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({alwaysShowDescription:e},e?{capMaxTitleLines:2}:null)}));var i=e.details,a=tt("small",500,i,r._getLinesForWidthOptions()),s=a.titleMaxLines,u=a.descriptionMaxLines;return r.state={descriptionMaxLines:u,titleMaxLines:s,imageWidthStyle:nt(500,i)},r}return l()(n,[{key:"render",value:function(){var e=this.props,t=e.a11yDomIds,n=e.dmSentOrReceived,r=e.nativeID,i=e.onLikelyInteraction,a=e.reverse,o=e.testIDs,s=e.withInteractiveStyling,c=e.withSquareBottomBorderRadius,u=e.isTopicCard,l=this.state.imageWidthStyle,d=b.createElement(U.default,{key:"details",style:Et.details},u?this._renderTopicDetail():this._renderDetail()),p=b.createElement(U.default,{importantForAccessibility:"no-hide-descendants",key:"media",nativeID:r&&t?t.cardMediaDomId:void 0,style:[Et.media,{width:l},c&&bt[c],a?Et.mediaLeftBorder:Et.mediaRightBorder],testID:null==o?void 0:o.layoutSmall.media},this._renderMedia());return b.createElement(Je.a,{"aria-labelledby":r&&t?[t.cardMediaDomId,t.cardDetailDomId].join(" "):void 0,nativeID:r,onHoverIn:i,onLayout:this._handleLayout,onPressIn:i,style:[Et.root,c&&bt[c],n&&Et[n]],testID:null==o?void 0:o.wrapper,viewRef:this._setRootNode,withFocusWithinFocusRing:!0,withInteractiveStyling:s,withOutsetFocusRing:!0},a?[d,p]:[p,d])}},{key:"_renderDetail",value:function(){var e=this.state,t=e.titleMaxLines,n=e.descriptionMaxLines,r=this.props,i=r.a11yDomIds,a=r.details,o=r.testIDs,s=r.nativeID;return b.createElement(be,{attribution:a.attribution,category:a.category,description:0!==n?a.description:void 0,descriptionMaxLines:n,destination:a.destination,footer:a.footer,nativeID:s&&i?i.cardDetailDomId:void 0,testID:null==o?void 0:o.layoutSmall.detail,title:a.title,titleMaxLines:t,vanity:a.vanity,withBottomPadding:!0})}},{key:"_renderTopicDetail",value:function(){if(!this.props.isTopicCard)return null;var e=this.state,t=e.titleMaxLines,n=e.descriptionMaxLines,r=this.props.details,i=r.description,a=r.title,o=r.destination,s={is_rtl:(null==i?void 0:i.is_rtl)||(null==a?void 0:a.is_rtl),content:i&&i.content?yt({description:i.content}):vt};return b.createElement(be,{accessibilityLabel:a?this._composeTopicCardAccessibilityLabel(a,i):void 0,description:s,descriptionMaxLines:n,destination:o,title:a,titleMaxLines:t,withBottomPadding:!0})}},{key:"_renderMedia",value:function(){var e=this.props,t=e.locationKey,n=e.media,r=n.mediaEntity,i=n.destination,a=n.overlay;return r&&"photo"!==r.type?null:b.createElement(Cr.Context.Consumer,null,(function(e){var n=e.isDataSaverEnabled,o=e.isPromoted,s=n&&!o;return b.createElement(Z,{destination:i,locationKey:t&&"".concat(t,"-smallCard"),mediaEntity:r,overlay:a,ratio:1,renderPlaceholder:s})}))}}]),n}(b.Component);_()(gt,"defaultProps",{withInteractiveStyling:!0}),gt.propTypes={};var bt=x.a.create((function(e){return{both:{borderBottomRightRadius:e.borderRadii.none,borderBottomLeftRadius:e.borderRadii.none},left:{borderBottomLeftRadius:e.borderRadii.none},right:{borderBottomRightRadius:e.borderRadii.none}}})),Et=x.a.create((function(e){return{root:{borderColor:e.colors.nestedBorderColor,borderStyle:"solid",borderWidth:e.borderWidths.small,borderRadius:e.borderRadii.xLarge,flexDirection:"row",overflow:"hidden"},media:{display:"block",borderColor:e.colors.nestedBorderColor,borderStyle:"solid",overflow:"hidden"},mediaLeftBorder:{borderLeftWidth:e.borderWidths.small,borderBottomLeftRadius:e.borderRadii.none,borderTopLeftRadius:e.borderRadii.none},mediaRightBorder:{borderRightWidth:e.borderWidths.small,borderBottomRightRadius:e.borderRadii.none,borderTopRightRadius:e.borderRadii.none},details:{flexGrow:1,flexShrink:1,justifyContent:"center"},sent:{borderColor:e.colors.primary},received:{borderColor:e.colors.gray200}}})),Tt=gt,Ot=n(727),It=(n(379),n(376),n(24),n(88),function(e,t,n){return("string"==typeof n?[n]:n).map((function(n){return e[n]&&e[n][t]})).find((function(e){return!!e}))}),St=It,wt=It,Pt=It,At=It,Dt=function(e,t){var n=function e(t){return{and:function(n){return e(t&&r(n))},or:function(n){return e(t||r(n))},result:function(){return t}}},r=function(t){return"string"==typeof t?!!e[t]:t(n(!0).and).result()};return r(t)},Rt=function(e,t){return{media_url_https:e.url,type:"photo",original_info:{width:e.width,height:e.height},ext_media_color:{palette:[]},cropCandidates:t,altText:e.alt||""}},Ct=function(e){var t=e.match(/\/([0-9]+)(\/|\.)/);return t?t[1]:""};function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ft={url:"https://pbs.twimg.com/lex/placeholder_live_nomargin.png",width:1920,height:1080},Vt="NOT_STARTED";function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qt=ne.a.db44ff5b,Jt=ne.a.c600045f;function Qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var en=n(834);function tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rn=function(e,t,n,r){var i,a={};return e&&(a[R.b.IMAGE_ENTITY]=Rt(e)),t&&n.tweetId&&(a[R.b.IFRAME_ENTITY]={type:"iframe",url:(i=n.tweetId,"https://cards-frame.twitter.com/i/cards/tfw/v1/uc/".concat(i)),aspect_ratio:r}),a},an=function(e){var t,n,r,i,a=e.cardId,o=e.cardType,s=e.data,c=e.cardContext,u=At(s,"image_value","player_image_original"),l=St(s,"string_value","description"),d=parseInt(St(s,"string_value","player_width"),10)/parseInt(St(s,"string_value","player_height"),10);return{state:R.c.DEFAULT,layout:(t={},_()(t,R.c.DEFAULT,{size:"large"}),_()(t,R.c.STATIC,{size:"small"}),t),card:{card_name:o,card_url:St(s,"string_value","card_url"),on_visibility:{scribe:"show"},id:a,destinations:_()({},R.b.DESTINATION,{type:R.f.BROWSER,data:{url_data:{url:St(s,"string_value","card_url"),vanity:St(s,"string_value",["vanity_url","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}}),components:(n={},_()(n,R.c.DEFAULT,[R.b.MEDIA,R.b.DETAILS]),_()(n,R.c.STATIC,[R.b.MEDIA_STATIC,R.b.DETAILS]),n),media_entities:(r={},_()(r,R.b.IMAGE_ENTITY,Rt(u)),_()(r,R.b.VIDEO_ENTITY,{type:"vine",aspect_ratio:d,content_id:Ct(u.url),poster_image:u,publisher_id:St(s,"string_value","site")||c.tweetUserId,variants:[{src:St(s,"string_value","player_stream_url"),type:St(s,"string_value","player_stream_content_type")}]}),r),components_data:(i={},_()(i,R.b.MEDIA,{type:R.d.MEDIA,data:{id:R.b.VIDEO_ENTITY}}),_()(i,R.b.MEDIA_STATIC,{type:R.d.MEDIA,data:{id:R.b.IMAGE_ENTITY,destination:R.b.DESTINATION,overlay:{type:R.g.PLAY}}}),_()(i,R.b.DETAILS,{type:R.d.DETAILS,data:nn(nn({destination:R.b.DESTINATION},l?{description:{content:l}}:null),{},{title:{content:St(s,"string_value","title")}})}),i)}}};n(87);function on(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?on(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):on(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hn(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vn(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(843);var _n=n(41),gn=n.n(_n),bn=Object.freeze({IMAGE_CAROUSEL_WEBSITE:"image_carousel_website",VIDEO_CAROUSEL_WEBSITE:"video_carousel_website",VIDEO_WEBSITE:"video_website",IMAGE_WEBSITE:"image_website",IMAGE_APP:"image_app",VIDEO_APP:"video_app",IMAGE_CAROUSEL_APP:"image_carousel_app",VIDEO_CAROUSEL_APP:"video_carousel_app",INVALID:"INVALID"}),En=n(104);function Tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tn(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var In=On({media:!0,details:!0,button_group:!0,app_store_details:!0,swipeable_media:!0,twitter_list_details:!0},{media_with_details_horizontal:!0}),Sn=function(e){var t=function(t){return t.map((function(t){return e.find((function(e){return e.type===t}))})).find(Boolean)},n="android"===E.a.getMobileOS()?t(["android_app","iphone_app","ipad_app"]):t(["iphone_app","ipad_app","android_app"]);if(n){n.category||(n.category={is_rtl:!1,content:"android_app"===n.type?"Play Store":"App Store"});var r,i="android_app"===n.type?(r=n.id,"http://play.google.com/store/apps/details?id=".concat(r)):function(e){return"https://itunes.apple.com/app/id".concat(e)}(n.id);return n.url=En.a.isMobileOS()?{pathname:i,external:!0,openInSameFrame:!0}:i,n}},wn=function(e,t){return e&&t[e].type===R.d.SWIPEABLE_MEDIA?{type:R.d.SWIPEABLE_MEDIA,data:{media_list:t[e].data.media_list}}:null},Pn=function(e,t,n){return e.find((function(e){return t[e]&&t[e].type===n}))},An=function(e){var t;if(!(null===(t=e.unified_card)||void 0===t?void 0:t.string_value)||"string"!=typeof e.unified_card.string_value)return{components:[],component_objects:{},destination_objects:{},media_entities:{},app_store_data:{},users:{},type:bn.INVALID};var n=JSON.parse(e.unified_card.string_value),r=n.media_entities?Object.keys(n.media_entities).reduce((function(e,t){var r,i,a,o=n.media_entities[t],s=o.ext,c=gn()(o,["ext"]);"photo"===c.type&&(c.altText=(null==s||null===(r=s.altText)||void 0===r||null===(i=r.r)||void 0===i||null===(a=i.ok)||void 0===a?void 0:a.text)||"");return e[t]=c,e}),{}):{};return On(On({},n),{},{media_entities:r})},Dn=function(e){return"".concat(e,"_static")};function Rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rn(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var kn,Ln=function(e){var t,n,r,i,a=e.cardId,o=e.cardType,s=e.data,c=e.cardContext,u=At(s,"image_value","player_image_original"),l=parseInt(St(s,"string_value","player_width"),10)/parseInt(St(s,"string_value","player_height"),10),d=St(s,"string_value","content_duration_seconds"),p=St(s,"string_value","title"),f=St(s,"string_value","description");return{state:R.c.DEFAULT,layout:(t={},_()(t,R.c.DEFAULT,{size:"large"}),_()(t,R.c.STATIC,{size:"large"}),t),card:{card_name:o,card_url:St(s,"string_value","card_url"),on_visibility:{scribe:"show"},id:a,components:(n={},_()(n,R.c.DEFAULT,p||f?[R.b.MEDIA,R.b.DETAILS]:[R.b.MEDIA]),_()(n,R.c.STATIC,p||f?[R.b.MEDIA_STATIC,R.b.DETAILS_STATIC]:[R.b.MEDIA_STATIC]),n),destinations:_()({},R.b.DESTINATION_STATIC,{type:R.f.BROWSER,data:{url_data:{url:c.tweetPermalink||R.e},scribe:"open_link",promoted_log:"card_url_click"}}),media_entities:(r={},_()(r,R.b.IMAGE_ENTITY,Rt(u||{})),_()(r,R.b.VIDEO_ENTITY,Lt(Lt({type:"video",aspect_ratio:l,content_id:St(s,"string_value","amplify_content_id")},d?{duration_ms:1e3*parseInt(d,10)}:null),{},{vmap_url:St(s,"string_value","amplify_url_vmap"),poster_image:u,publisher_id:St(s,"string_value","site")||c.tweetUserId,variants:[]})),r),components_data:(i={},_()(i,R.b.MEDIA,{type:R.d.MEDIA,data:{id:R.b.VIDEO_ENTITY}}),_()(i,R.b.MEDIA_STATIC,{type:R.d.MEDIA,data:{id:R.b.IMAGE_ENTITY,destination:R.b.DESTINATION_STATIC,overlay:{type:R.g.PLAY}}}),_()(i,R.b.DETAILS,{type:R.d.DETAILS,data:{description:f?{content:f}:void 0,title:p?{content:p}:void 0}}),_()(i,R.b.DETAILS_STATIC,{type:R.d.DETAILS,data:{description:f?{content:f}:void 0,destination:R.b.DESTINATION_STATIC,title:p?{content:p}:void 0}}),i)}}},Mn=function(e){var t,n=e.cardId,r=e.cardType,i=e.data,a=At(i,"image_value","thumbnail_original"),o=St(i,"string_value","description"),s=St(i,"string_value","app_star_rating"),c=St(i,"string_value","app_num_ratings"),u=s&&c?E.a.renderRatingsLabel({appStarRating:s,appNumRatings:c}):void 0,l=St(i,"string_value","card_url");return{state:R.c.DEFAULT,layout:_()({},R.c.DEFAULT,{size:"small"}),card:{card_name:r,card_url:St(i,"string_value","card_url"),on_visibility:{scribe:"show"},id:n,components:_()({},R.c.DEFAULT,[R.b.MEDIA,R.b.DETAILS]),destinations:_()({},R.b.DESTINATION,{type:R.f.BROWSER,data:{url_data:Nt({url:St(i,"string_value","card_url")},u?null:{vanity:l}),scribe:"open_link",promoted_log:"card_url_click"}}),media_entities:Nt({},a?_()({},R.b.IMAGE_ENTITY,Rt(a)):null),components_data:(t={},_()(t,R.b.MEDIA,{type:R.d.MEDIA,data:{id:a?R.b.IMAGE_ENTITY:null,aspect_ratio:1,destination:R.b.DESTINATION}}),_()(t,R.b.DETAILS,{type:R.d.DETAILS,data:{description:o?{content:o}:void 0,destination:R.b.DESTINATION,footer:u,title:{content:St(i,"string_value","title")}}}),t)}}},Nn=function(e){var t,n,r,i,a=e.cardId,o=e.cardType,s=e.data,c=e.cardContext,u=At(s,"image_value","player_image_original"),l=parseInt(St(s,"string_value","player_width"),10)/parseInt(St(s,"string_value","player_height"),10),d=St(s,"string_value","content_duration_seconds");return{state:R.c.DEFAULT,layout:(t={},_()(t,R.c.DEFAULT,{size:"large"}),_()(t,R.c.STATIC,{size:"large"}),t),card:{card_name:o,card_url:St(s,"string_value","card_url"),on_visibility:{scribe:"show"},id:a,components:(n={},_()(n,R.c.DEFAULT,[R.b.MEDIA,R.b.DETAILS]),_()(n,R.c.STATIC,[R.b.MEDIA_STATIC,R.b.DETAILS]),n),destinations:_()({},R.b.DESTINATION,{type:R.f.BROWSER,data:{url_data:{url:St(s,"string_value","card_url")},scribe:"open_link",promoted_log:"card_url_click"}}),media_entities:(r={},_()(r,R.b.IMAGE_ENTITY,Rt(u)),_()(r,R.b.VIDEO_ENTITY,xt(xt({type:"video",aspect_ratio:l,content_id:St(s,"string_value","player_content_id")||Ct(u.url)},d?{duration_ms:1e3*parseInt(d,10)}:null),{},{vmap_url:St(s,"string_value","player_stream_url"),poster_image:u,publisher_id:St(s,"string_value","player_owner_id")||c.tweetUserId,variants:[{src:St(s,"string_value","player_hls_url"),type:"application/x-mpegURL"}]})),r),components_data:(i={},_()(i,R.b.MEDIA,{type:R.d.MEDIA,data:{id:R.b.VIDEO_ENTITY,aspect_ratio:l}}),_()(i,R.b.MEDIA_STATIC,{type:R.d.MEDIA,data:{id:R.b.IMAGE_ENTITY,aspect_ratio:l,destination:R.b.DESTINATION}}),_()(i,R.b.DETAILS,{type:R.d.DETAILS,data:{destination:R.b.DESTINATION,title:{content:St(s,"string_value","title")},footer:St(s,"string_value","app_category")||"App Store"}}),i)}}},jn=function(e){var t,n,r,i=e.cardId,a=e.cardType,o=e.data,s=e.users,c=Pt(o,"user_value","site"),u=c&&s[c.id_str],l=St(o,"string_value","broadcaster_display_name"),d=St(o,"string_value","broadcast_state")===Vt,p=At(o,"image_value","broadcast_thumbnail_original"),f=At(o,"image_value","broadcast_pre_live_slate")||Ft,h=d?f:p,y=St(o,"string_value","broadcast_scheduled_start_time"),v=d&&y?E.a.renderStartingTimeLabel(y):void 0,m=x.a.theme.aspectRatios.landscape,g=Math.max(parseInt(St(o,"string_value","broadcast_width"),10)/parseInt(St(o,"string_value","broadcast_height"),10),1);return{state:R.c.DEFAULT,layout:(t={},_()(t,R.c.DEFAULT,{size:"large"}),_()(t,R.c.STATIC,{size:h?"large":"small"}),t),card:{card_name:a,card_url:St(o,"string_value","card_url"),fetch_updates:_()({},R.c.DEFAULT,!0),on_visibility:{scribe:"show"},id:i,components:(n={},_()(n,R.c.DEFAULT,[d?R.b.MEDIA_SECONDARY:R.b.MEDIA,R.b.DETAILS]),_()(n,R.c.STATIC,[R.b.MEDIA_SECONDARY,R.b.DETAILS]),n),destinations:_()({},R.b.DESTINATION,{type:R.f.BROADCAST,data:{broadcast_data:{id:St(o,"string_value","broadcast_id")},scribe:"open_link",promoted_log:"card_url_click"}}),media_entities:Bt(Bt({},h?_()({},R.b.IMAGE_ENTITY,Rt(h)):null),{},_()({},R.b.VIDEO_ENTITY,Bt(Bt({type:"live_broadcast",aspect_ratio:g,broadcast_id:St(o,"string_value","broadcast_id"),content_id:St(o,"string_value","broadcast_media_key"),destination:R.b.DESTINATION},h?{poster_image:h}:null),{},{timecode:St(o,"string_value","broadcast_timecode")||St(o,"string_value","broadcast_replay_edited_start_time")}))),components_data:(r={},_()(r,R.b.MEDIA,{type:R.d.MEDIA,data:{id:R.b.VIDEO_ENTITY,aspect_ratio:g}}),_()(r,R.b.MEDIA_SECONDARY,{type:R.d.MEDIA,data:{id:h?R.b.IMAGE_ENTITY:null,aspect_ratio:m,destination:R.b.DESTINATION,overlay:d?v?{type:R.g.LABEL,text:v}:void 0:{type:R.g.PLAY}}}),_()(r,R.b.DETAILS,{type:R.d.DETAILS,data:Bt(Bt({destination:R.b.DESTINATION},u?{attribution:u}:{category:{content:l}}),{},{title:{content:St(o,"string_value","broadcast_title")}})}),r)}}},xn=function(e){var t,n=e.cardId,r=e.cardType,i=e.data,a=At(i,"image_value","thumbnail_original"),o=St(i,"string_value","description"),s=St(i,"string_value","app_star_rating"),c=St(i,"string_value","app_num_ratings"),u=s&&c?E.a.renderRatingsLabel({appStarRating:s,appNumRatings:c}):void 0,l=St(i,"string_value","card_url");return{state:R.c.DEFAULT,layout:_()({},R.c.DEFAULT,{size:"small"}),card:{card_name:r,card_url:St(i,"string_value","card_url"),on_visibility:{scribe:"show"},id:n,components:_()({},R.c.DEFAULT,[R.b.MEDIA,R.b.DETAILS]),destinations:_()({},R.b.DESTINATION,{type:R.f.BROWSER,data:{url_data:Wt({url:St(i,"string_value","card_url")},u?null:{vanity:l}),scribe:"open_link",promoted_log:"card_url_click"}}),media_entities:Wt({},a?_()({},R.b.IMAGE_ENTITY,Rt(a)):null),components_data:(t={},_()(t,R.b.MEDIA,{type:R.d.MEDIA,data:{id:a?R.b.IMAGE_ENTITY:null,aspect_ratio:1,destination:R.b.DESTINATION}}),_()(t,R.b.DETAILS,{type:R.d.DETAILS,data:{description:o?{content:o}:void 0,destination:R.b.DESTINATION,footer:u,title:{content:St(i,"string_value","title")}}}),t)}}},Un=function(e){var t,n,r,i,a=e.cardId,o=e.cardType,s=e.data,c=e.cardContext,u=e.users,l=At(s,"image_value","image_original"),d=function(e){return[1,2,3,4].map((function(t){var n=St(s,"string_value","cta".concat(t)),r=St(s,"string_value","cta".concat(t,"_wm_id"));return n&&r?{cta:n,wm_id:r,destination:e,icon:"dm",index:t}:null})).filter(Boolean)},p=d(R.b.DESTINATION),f=d(R.b.DESTINATION_STATIC),h=Pt(s,"user_value","recipient"),y=h&&u[h.id_str],v=h.id_str!==c.tweetUserId&&y;return{state:R.c.DEFAULT,layout:_()({},R.c.DEFAULT,{size:"large"}),card:{card_name:o,card_url:St(s,"string_value","card_url"),on_visibility:{scribe:"show"},id:a,components:(t={},_()(t,R.c.DEFAULT,[R.b.MEDIA].concat(ke()(v?[R.b.DETAILS]:[]),[R.b.BUTTON_GROUP])),_()(t,R.c.STATIC,[R.b.MEDIA_STATIC].concat(ke()(v?[R.b.DETAILS]:[]),[R.b.BUTTON_GROUP_STATIC])),t),destinations:(n={},_()(n,R.b.DESTINATION,{type:R.f.ACTION,data:{action_data:{persist:!1,type:"dm",recipient:h.id_str},auth_required:!0,scribe:"click",promoted_log:"dm_button_click"}}),_()(n,R.b.DESTINATION_STATIC,{type:R.f.BROWSER,data:{url_data:{url:c.tweetPermalink||R.e},scribe:"open_link",promoted_log:"card_url_click"}}),n),media_entities:_()({},R.b.IMAGE_ENTITY,Rt(l)),components_data:Ht(Ht((r={},_()(r,R.b.MEDIA,{type:R.d.MEDIA,data:{id:R.b.IMAGE_ENTITY}}),_()(r,R.b.MEDIA_STATIC,{type:R.d.MEDIA,data:{id:R.b.IMAGE_ENTITY,destination:R.b.DESTINATION_STATIC}}),r),v?_()({},R.b.DETAILS,{type:R.d.DETAILS,data:{attribution:y}}):null),{},(i={},_()(i,R.b.BUTTON_GROUP,{type:R.d.BUTTON_GROUP,data:{buttons:p}}),_()(i,R.b.BUTTON_GROUP_STATIC,{type:R.d.BUTTON_GROUP,data:{buttons:f}}),i))}}},Bn=function(e){var t,n,r,i,a,o=e.cardContext,s=e.cardId,c=e.cardType,u=e.data,l=e.users,d=Pt(u,"user_value","author"),p=d&&l[d.id_str],f=St(u,"string_value","event_id"),h=St(u,"string_value","event_category"),y=St(u,"string_value","media_type"),v="broadcast"===y,m="video"===y,g=St(u,"string_value","broadcast_id"),b=Math.max(parseInt(St(u,"string_value","broadcast_width"),10)/parseInt(St(u,"string_value","broadcast_height"),10),1),E=St(u,"string_value","broadcast_media_key"),T=St(u,"string_value","media_tweet_id"),O=At(u,"image_value","event_thumbnail_original"),I=At(u,"image_value","broadcast_thumbnail"),S=v?I:O,w=v?void 0:[{h:parseInt(St(u,"string_value","event_thumbnail_media_size_crops_16x9_h"),10),w:parseInt(St(u,"string_value","event_thumbnail_media_size_crops_16x9_w"),10),x:parseInt(St(u,"string_value","event_thumbnail_media_size_crops_16x9_x"),10),y:parseInt(St(u,"string_value","event_thumbnail_media_size_crops_16x9_y"),10)}],P=St(u,"string_value","remind_me_notification_id"),A=wt(u,"boolean_value","remind_me_toggle_visible")&&!!P,D=wt(u,"boolean_value","remind_me_subscribed"),C=D?Jt:qt;return{state:R.c.DEFAULT,layout:(t={},_()(t,R.c.DEFAULT,{size:"large"}),_()(t,R.c.DATA_SAVER,{size:"small"}),_()(t,R.c.SECONDARY,{size:"small",reverse:!0}),_()(t,R.c.STATIC,{size:S?"large":"small"}),t),card:{card_name:c,card_url:St(u,"string_value","card_url"),fetch_updates:(n={},_()(n,R.c.DEFAULT,!0),_()(n,R.c.DATA_SAVER,!0),n),on_visibility:{scribe:"show"},id:s,components:(r={},_()(r,R.c.DEFAULT,[v||m?R.b.MEDIA:R.b.MEDIA_STATIC,R.b.DETAILS,R.b.BUTTON_GROUP]),_()(r,R.c.DATA_SAVER,[R.b.MEDIA_STATIC,R.b.DETAILS,R.b.BUTTON_GROUP]),_()(r,R.c.SECONDARY,[R.b.MEDIA_STATIC,R.b.DETAILS]),_()(r,R.c.STATIC,[R.b.MEDIA_STATIC,R.b.DETAILS,R.b.BUTTON_GROUP_STATIC]),r),destinations:(i={},_()(i,R.b.DESTINATION,{type:R.f.EVENT,data:{event_data:{id:f},scribe:"open_link",promoted_log:"card_url_click"}}),_()(i,R.b.DESTINATION_SECONDARY,{type:R.f.ACTION,data:{action_data:{persist:!0,type:"reminder"},auth_required:!0,scribe:"reminder",promoted_log:"card_url_click"}}),_()(i,R.b.DESTINATION_STATIC,{type:R.f.BROWSER,data:{url_data:{url:o&&o.tweetPermalink||R.e},scribe:"open_link",promoted_log:"card_url_click"}}),i),media_entities:Kt(Kt({},S?_()({},R.b.IMAGE_ENTITY,Rt(S,w)):null),{},_()({},R.b.VIDEO_ENTITY,v?{type:"live_broadcast",aspect_ratio:b,broadcast_id:g,content_id:E,destination:R.b.DESTINATION,poster_image:S,timecode:St(u,"string_value","broadcast_replay_edited_start_time")}:{type:"tweet_video",aspect_ratio:x.a.theme.aspectRatios.landscape,media_tweet_id:T,event_id:f,poster_image:S})),components_data:(a={},_()(a,R.b.MEDIA,{type:R.d.MEDIA,data:{id:R.b.VIDEO_ENTITY,aspect_ratio:v?b:x.a.theme.aspectRatios.landscape}}),_()(a,R.b.MEDIA_STATIC,{type:R.d.MEDIA,data:{id:R.b.IMAGE_ENTITY,aspect_ratio:x.a.theme.aspectRatios.landscape,destination:R.b.DESTINATION}}),_()(a,R.b.BUTTON_GROUP,{type:R.d.BUTTON_GROUP,data:Kt({},A?{buttons:[{cta:C,destination:R.b.DESTINATION_SECONDARY,eventId:f,index:0,isSelected:D,notificationId:P}]}:null)}),_()(a,R.b.BUTTON_GROUP_STATIC,{type:R.d.BUTTON_GROUP,data:Kt({},A?{buttons:[{cta:C,destination:R.b.DESTINATION_STATIC,eventId:f,index:0,isSelected:D,notificationId:P}]}:null)}),_()(a,R.b.DETAILS,{type:R.d.DETAILS,data:Kt(Kt({destination:R.b.DESTINATION},p?{attribution:p}:h?{category:{content:h}}:null),{},{title:{content:St(u,"string_value","event_title")}})}),a)}}},Fn=function(e){var t,n,r,i,a=e.cardId,o=e.cardType,s=e.data,c=e.cardContext,u=St(s,"string_value","default_composer_text"),l=St(s,"string_value","welcome_message_id"),d={composer_text:u,cta:E.a.getMessageMeString(St(s,"string_value","cta")),icon:"dm",index:0,wm_id:l},p=Pt(s,"user_value","recipient");return{state:R.c.DEFAULT,layout:(t={},_()(t,R.c.DEFAULT,{size:"large",chromeless:!0}),_()(t,R.c.STATIC,{size:"large",chromeless:!0}),t),card:{card_name:o,card_url:St(s,"string_value","card_url"),on_visibility:{scribe:"message_me_show"},id:a,components:(n={},_()(n,R.c.DEFAULT,[R.b.BUTTON_GROUP]),_()(n,R.c.STATIC,[R.b.BUTTON_GROUP_STATIC]),n),destinations:(r={},_()(r,R.b.DESTINATION,{type:R.f.ACTION,data:{action_data:{persist:!1,type:"dm",recipient:p.id_str},auth_required:!0,scribe:"message_me_click",promoted_log:"card_url_click"}}),_()(r,R.b.DESTINATION_STATIC,{type:R.f.BROWSER,data:{url_data:{url:c.tweetPermalink||R.e},scribe:"open_link",promoted_log:"card_url_click"}}),r),media_entities:{},components_data:(i={},_()(i,R.b.BUTTON_GROUP,{type:R.d.BUTTON_GROUP,data:{buttons:[Xt(Xt({},d),{},{destination:R.b.DESTINATION})]}}),_()(i,R.b.BUTTON_GROUP_STATIC,{type:R.d.BUTTON_GROUP,data:{buttons:[Xt(Xt({},d),{},{destination:R.b.DESTINATION_STATIC})]}}),i)}}},Vn=function(e){var t,n=e.cardId,r=e.cardType,i=e.data,a=e.users,o=At(i,"image_value","photo_image")||{url:St(i,"string_value","cover_format_media_url"),width:parseInt(St(i,"string_value","cover_format_media_size_w"),10)||0,height:parseInt(St(i,"string_value","cover_format_media_size_h"),10)||0},s=Pt(i,"user_value","author"),c=s&&a[s.id_str],u=St(i,"string_value","title"),l=St(i,"string_value","description"),d=St(i,"string_value","subcategory_string");return{state:R.c.DEFAULT,layout:_()({},R.c.DEFAULT,{size:"small",reverse:!0}),card:{card_name:r,card_url:St(i,"string_value","card_url"),on_visibility:{scribe:"show"},id:n,components:_()({},R.c.DEFAULT,[R.b.MEDIA,R.b.DETAILS]),destinations:_()({},R.b.DESTINATION,{type:R.f.MOMENT,data:{moment_data:{moment:St(i,"string_value","id")},scribe:"open_link",promoted_log:"card_url_click"}}),media_entities:_()({},R.b.IMAGE_ENTITY,Rt(o)),components_data:(t={},_()(t,R.b.MEDIA,{type:R.d.MEDIA,data:{id:R.b.IMAGE_ENTITY,aspect_ratio:1,overlay:{type:R.g.MOMENTS},destination:R.b.DESTINATION}}),_()(t,R.b.DETAILS,{type:R.d.DETAILS,data:{attribution:c,category:!c&&d?{content:d}:void 0,description:l?{content:l}:void 0,destination:R.b.DESTINATION,title:u?{content:u}:void 0}}),t)}}},Gn=function(e){var t,n,r,i=e.cardId,a=e.cardType,o=e.data,s=e.users,c=At(o,"image_value","thumbnail_original"),u=Math.max(parseInt(St(o,"string_value","broadcast_width"),10)/parseInt(St(o,"string_value","broadcast_height"),10),1),l=St(o,"string_value","broadcaster_twitter_id"),d=l?s[l]:void 0,p=St(o,"string_value","description");return{state:R.c.DEFAULT,layout:(t={},_()(t,R.c.DEFAULT,{size:"large"}),_()(t,R.c.STATIC,{size:c?"large":"small"}),t),card:{card_name:a,card_url:St(o,"string_value","card_url"),on_visibility:{scribe:"show"},id:i,components:(n={},_()(n,R.c.DEFAULT,[R.b.MEDIA,R.b.DETAILS]),_()(n,R.c.STATIC,[R.b.MEDIA_STATIC,R.b.DETAILS]),n),destinations:_()({},R.b.DESTINATION,{type:R.f.BROWSER,data:{url_data:{url:St(o,"string_value","card_url"),vanity:St(o,"string_value",["vanity_url","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}}),media_entities:Zt(Zt({},c?_()({},R.b.IMAGE_ENTITY,Rt(c)):null),{},_()({},R.b.VIDEO_ENTITY,Zt(Zt({type:"live_broadcast",aspect_ratio:u,broadcast_id:St(o,"string_value","id"),content_id:St(o,"string_value","broadcast_media_key"),destination:R.b.DESTINATION},c?{poster_image:c}:null),{},{timecode:St(o,"string_value","timecode")||St(o,"string_value","replay_edited_start_time")}))),components_data:(r={},_()(r,R.b.MEDIA,{type:R.d.MEDIA,data:{id:R.b.VIDEO_ENTITY,aspect_ratio:u}}),_()(r,R.b.MEDIA_STATIC,{type:R.d.MEDIA,data:{id:c?R.b.IMAGE_ENTITY:null,destination:R.b.DESTINATION,overlay:{type:R.g.PLAY}}}),_()(r,R.b.DETAILS,{type:R.d.DETAILS,data:{attribution:d,description:p?{content:p}:void 0,destination:R.b.DESTINATION,title:l?void 0:{content:St(o,"string_value","title")}}}),r)}}},Wn=function(e){var t,n,r,i,a=e.cardId,o=e.cardType,s=e.data,c=e.cardContext,u=e.users,l=At(s,"image_value","player_image_original"),d=St(s,"string_value","description"),p=St(s,"string_value","player_url"),f=parseInt(St(s,"string_value","player_width"),10)/parseInt(St(s,"string_value","player_height"),10),h=[R.b.MEDIA,R.b.DETAILS],y=[R.b.MEDIA_STATIC,R.b.DETAILS_SECONDARY];return en.a.isVineCard({name:o,binding_values:s})?an({cardId:a,cardType:o,data:s,cardContext:c,users:u}):{state:R.c.DEFAULT,layout:(t={},_()(t,R.c.DEFAULT,{size:"small"}),_()(t,R.c.SECONDARY,{size:"large"}),_()(t,R.c.STATIC,{size:"small"}),_()(t,R.c.DATA_SAVER,{size:"small"}),t),card:{card_name:o,card_url:St(s,"string_value","card_url"),on_visibility:{scribe:"show"},id:a,components:(n={},_()(n,R.c.DEFAULT,c.tweetId?h:y),_()(n,R.c.SECONDARY,[R.b.MEDIA_SECONDARY,R.b.DETAILS_SECONDARY]),_()(n,R.c.STATIC,y),_()(n,R.c.DATA_SAVER,[R.b.MEDIA_STATIC,R.b.DETAILS_SECONDARY]),n),destinations:(r={},_()(r,R.b.DESTINATION,{type:R.f.ACTION,data:{action_data:{next_state:R.c.SECONDARY,persist:!1,vanity:St(s,"string_value",["vanity_url","card_url"])},scribe:"click",promoted_log:"card_url_click"}}),_()(r,R.b.DESTINATION_SECONDARY,{type:R.f.BROWSER,data:{url_data:{url:St(s,"string_value","card_url"),vanity:St(s,"string_value",["vanity_url","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}}),r),media_entities:rn(l,p,c,f),components_data:(i={},_()(i,R.b.MEDIA,{type:R.d.MEDIA,data:{id:l?R.b.IMAGE_ENTITY:null,aspect_ratio:1,overlay:{type:R.g.PLAY},destination:p?R.b.DESTINATION:R.b.DESTINATION_SECONDARY}}),_()(i,R.b.MEDIA_SECONDARY,{type:R.d.MEDIA,data:{id:p?R.b.IFRAME_ENTITY:null,aspect_ratio:f}}),_()(i,R.b.MEDIA_STATIC,{type:R.d.MEDIA,data:{id:l?R.b.IMAGE_ENTITY:null,aspect_ratio:1,overlay:{type:R.g.PLAY},destination:R.b.DESTINATION_SECONDARY}}),_()(i,R.b.DETAILS,{type:R.d.DETAILS,data:nn(nn({destination:p?R.b.DESTINATION:R.b.DESTINATION_SECONDARY},d?{description:{content:d}}:null),{},{title:{content:St(s,"string_value","title")}})}),_()(i,R.b.DETAILS_SECONDARY,{type:R.d.DETAILS,data:nn(nn({destination:R.b.DESTINATION_SECONDARY},d?{description:{content:d}}:null),{},{title:{content:St(s,"string_value","title")}})}),i)}}},Yn=function(e){var t,n,r,i,a,o=e.cardId,s=e.cardType,c=e.data,u=e.cardContext,l=At(c,"image_value","image_original"),d=St(c,"string_value","player_stream_url"),p=At(c,"image_value","player_image_original"),f=parseInt(St(c,"string_value","player_width"),10)/parseInt(St(c,"string_value","player_height"),10),h=St(c,"string_value","content_duration_seconds"),y=wt(c,"boolean_value","counts_are_final"),v=St(c,"string_value","selected_choice"),m=St(c,"string_value","end_datetime_utc"),g=u.viewerUserId===u.tweetUserId,b="detail"===u.locationKey?"normal":"small",E={};l&&(E[R.b.IMAGE_ENTITY]=Rt(l)),d&&(E[R.b.VIDEO_ENTITY]={type:"video",aspect_ratio:f,content_id:St(c,"string_value","player_content_id")||Ct(d),duration_ms:h?1e3*parseInt(h,10):void 0,vmap_url:d,poster_image:p,publisher_id:St(c,"string_value","player_owner_id")||u.tweetUserId,variants:[{src:St(c,"string_value","player_hls_url"),type:"application/x-mpegURL"}]},E[R.b.IMAGE_ENTITY_STATIC]=Rt(p||{}));var T=function(e){var t=[1,2,3,4].map((function(t){var n=St(c,"string_value","choice".concat(t,"_label")),r=St(c,"string_value","choice".concat(t,"_count"));return n?{index:t,cta:n,count:parseInt(r,10)||0,destination:e}:null})).filter(Boolean);return{type:"poll",data:sn(sn({choices:t,isAuthor:g,isFinal:y,resultTextSize:b,endDatetimeUtc:m},v?{selectedChoice:parseInt(v,10)}:null),{},{totalVotes:t.reduce((function(e,t){return e+t.count}),0),votingDisabled:u.withActionsDisabled})}};return{layout:_()({},R.c.DEFAULT,{size:"large",chromeless:!0}),state:R.c.DEFAULT,card:{id:o,card_name:s,card_url:St(c,"string_value","card_url"),on_visibility:{scribe:"show"},fetch_updates:_()({},R.c.DEFAULT,!y),components:(t={},_()(t,R.c.DEFAULT,l||d?[R.b.POLL,R.b.MEDIA]:[R.b.POLL]),_()(t,R.c.STATIC,l||d?[R.b.POLL_STATIC,R.b.MEDIA_STATIC]:[R.b.POLL_STATIC]),t),components_data:sn((n={},_()(n,R.b.POLL,T(R.b.DESTINATION)),_()(n,R.b.POLL_STATIC,T(R.b.DESTINATION_STATIC)),n),l?(r={},_()(r,R.b.MEDIA,{type:R.d.MEDIA,data:{id:R.b.IMAGE_ENTITY}}),_()(r,R.b.MEDIA_STATIC,{type:R.d.MEDIA,data:{id:R.b.IMAGE_ENTITY}}),r):d?(i={},_()(i,R.b.MEDIA,{type:R.d.MEDIA,data:{id:R.b.VIDEO_ENTITY}}),_()(i,R.b.MEDIA_STATIC,{type:R.d.MEDIA,data:{id:R.b.IMAGE_ENTITY_STATIC}}),i):null),destinations:(a={},_()(a,R.b.DESTINATION,{type:R.f.ACTION,data:{action_data:{persist:!0,type:"vote"},auth_required:!0,scribe:"vote",promoted_log:"poll_card_vote"}}),_()(a,R.b.DESTINATION_STATIC,{type:R.f.BROWSER,data:{url_data:{url:u.tweetPermalink||R.e},scribe:"open_link",promoted_log:"card_url_click"}}),a),media_entities:E}}},Hn=function(e){var t,n=e.cardId,r=e.cardType,i=e.data,a=At(i,"image_value","promo_image_original");return{state:R.c.DEFAULT,layout:_()({},R.c.DEFAULT,{size:"large"}),card:{card_name:r,card_url:St(i,"string_value","card_url"),on_visibility:{scribe:"show"},id:n,components:_()({},R.c.DEFAULT,[R.b.MEDIA,R.b.DETAILS,R.b.BUTTON_GROUP]),destinations:_()({},R.b.DESTINATION,{type:R.f.BROWSER,data:{url_data:{url:St(i,"string_value",["app_url","card_url"])},scribe:"open_link",promoted_log:"install_app"}}),media_entities:_()({},R.b.IMAGE_ENTITY,Rt(a)),components_data:(t={},_()(t,R.b.MEDIA,{type:R.d.MEDIA,data:{id:R.b.IMAGE_ENTITY,destination:R.b.DESTINATION}}),_()(t,R.b.DETAILS,{type:R.d.DETAILS,data:{destination:R.b.DESTINATION,title:{content:St(i,"string_value","title")},footer:"App Store"}}),_()(t,R.b.BUTTON_GROUP,{type:R.d.BUTTON_GROUP,data:{buttons:[{index:0,cta:E.a.getCtaString(St(i,"string_value","cta_key")),destination:R.b.DESTINATION}]}}),t)}}},zn=function(e){var t,n,r,i=e.cardId,a=e.cardType,o=e.data,s=e.cardContext,c=St(o,"string_value","thank_you_url"),u=At(o,"image_value",["cover_promo_image","promo_image"]),l=At(o,"image_value","promo_image"),d=St(o,"string_value","title"),p=function(e){return["one","two","three","four"].map((function(t,n){var r=St(o,"string_value","cta_".concat(t)),i=St(o,"string_value","cta_".concat(t,"_tweet"));return r&&i?{icon:"compose",index:n,cta:E.a.renderTweetActionLabel(r),tweet:i,destination:e}:null})).filter(Boolean)},f=p(R.b.DESTINATION),h=p(R.b.DESTINATION_STATIC);return{state:R.c.DEFAULT,layout:(t={},_()(t,R.c.DEFAULT,{size:"large"}),_()(t,R.c.SECONDARY,{size:"large"}),t),card:{card_name:a,card_url:St(o,"string_value","card_url"),on_visibility:{scribe:"show"},id:i,components:{default:[R.b.MEDIA,R.b.DETAILS,R.b.BUTTON_GROUP],secondary:[R.b.MEDIA_SECONDARY,R.b.DETAILS_SECONDARY],static:[R.b.MEDIA_STATIC,R.b.DETAILS_STATIC,R.b.BUTTON_GROUP_STATIC]},destinations:un(un(_()({},R.b.DESTINATION,{type:R.f.ACTION,data:{action_data:{next_state:R.c.SECONDARY,persist:!0,type:"compose"},auth_required:!0,scribe:"click",promoted_log:"convo_button_click"}}),c?_()({},R.b.DESTINATION_SECONDARY,{type:R.f.BROWSER,data:{url_data:{url:c,vanity:St(o,"string_value",["thank_you_vanity_url","thank_you_shortened_url","thank_you_url"])},scribe:"open_link",promoted_log:"card_url_click"}}):null),{},_()({},R.b.DESTINATION_STATIC,{type:R.f.BROWSER,data:{url_data:{url:s.tweetPermalink||R.e},scribe:"open_link",promoted_log:"card_url_click"}})),media_entities:(n={},_()(n,R.b.IMAGE_ENTITY,Rt(u)),_()(n,R.b.IMAGE_ENTITY_SECONDARY,Rt(l)),n),components_data:(r={},_()(r,R.b.MEDIA,{type:R.d.MEDIA,data:{id:R.b.IMAGE_ENTITY}}),_()(r,R.b.MEDIA_SECONDARY,{type:R.d.MEDIA,data:{id:R.b.IMAGE_ENTITY_SECONDARY,destination:R.b.DESTINATION_SECONDARY}}),_()(r,R.b.MEDIA_STATIC,{type:R.d.MEDIA,data:{id:R.b.IMAGE_ENTITY,destination:R.b.DESTINATION_STATIC}}),_()(r,R.b.DETAILS,{type:R.d.DETAILS,data:un({},d?{title:{content:d}}:null)}),_()(r,R.b.DETAILS_SECONDARY,{type:R.d.DETAILS,data:un({title:{content:St(o,"string_value","thank_you_text")}},c?{destination:R.b.DESTINATION_SECONDARY}:null)}),_()(r,R.b.DETAILS_STATIC,{type:R.d.DETAILS,data:un({},d?{title:{content:d}}:null)}),_()(r,R.b.BUTTON_GROUP,{type:R.d.BUTTON_GROUP,data:{buttons:f}}),_()(r,R.b.BUTTON_GROUP_STATIC,{type:R.d.BUTTON_GROUP,data:{buttons:h}}),r)}}},Kn=function(e){var t,n,r,i=e.cardId,a=e.cardType,o=e.data,s=e.cardContext,c=St(o,"string_value","thank_you_url"),u=At(o,"image_value",["cover_player_image_original","player_image_original"]),l=At(o,"image_value","player_image_original"),d=At(o,"image_value","cover_promo_image_original"),p=St(o,"string_value","title"),f=parseInt(St(o,"string_value","cover_player_width"),10)/parseInt(St(o,"string_value","cover_player_height"),10),h=parseInt(St(o,"string_value","player_width"),10)/parseInt(St(o,"string_value","player_height"),10),y=function(e){return["one","two","three","four"].map((function(t,n){var r=St(o,"string_value","cta_".concat(t)),i=St(o,"string_value","cta_".concat(t,"_tweet"));return r&&i?{icon:"compose",index:n,cta:E.a.renderTweetActionLabel(r),tweet:i,destination:e}:null})).filter(Boolean)},v=y(R.b.DESTINATION),m=y(R.b.DESTINATION_STATIC),g=St(o,"string_value","cover_player_stream_url"),b=St(o,"string_value","player_stream_url"),T=St(o,"string_value","player_hls_url"),O=Pt(o,"user_value","site"),I=St(o,"string_value","content_duration_seconds"),S=St(o,"string_value","cover_content_duration_seconds");return{state:R.c.DEFAULT,layout:(t={},_()(t,R.c.DEFAULT,{size:"large"}),_()(t,R.c.SECONDARY,{size:"large"}),_()(t,R.c.STATIC,{size:"large"}),t),card:{card_name:a,card_url:St(o,"string_value","card_url"),on_visibility:{scribe:"show"},id:i,components:{default:[R.b.MEDIA,R.b.DETAILS,R.b.BUTTON_GROUP],secondary:[R.b.MEDIA_SECONDARY,R.b.DETAILS_SECONDARY],static:[R.b.MEDIA_STATIC,R.b.DETAILS_STATIC,R.b.BUTTON_GROUP_STATIC]},destinations:dn(dn(_()({},R.b.DESTINATION,{type:R.f.ACTION,data:{action_data:{next_state:R.c.SECONDARY,persist:!0,type:"compose"},auth_required:!0,scribe:"click",promoted_log:"convo_button_click"}}),c?_()({},R.b.DESTINATION_SECONDARY,{type:R.f.BROWSER,data:{url_data:{url:c,vanity:St(o,"string_value",["thank_you_vanity_url","thank_you_shortened_url","thank_you_url"])},scribe:"open_link",promoted_log:"card_url_click"}}):null),{},_()({},R.b.DESTINATION_STATIC,{type:R.f.BROWSER,data:{url_data:{url:s.tweetPermalink||R.e},scribe:"open_link",promoted_log:"card_url_click"}})),media_entities:dn(dn({},g?_()({},R.b.VIDEO_ENTITY,dn(dn({type:"video",aspect_ratio:f,content_id:Ct(g)},S?{duration_ms:1e3*parseInt(S,10)}:null),{},{vmap_url:g,poster_image:u,publisher_id:O?O.id_str:s.tweetUserId})):null),{},(n={},_()(n,R.b.VIDEO_ENTITY_SECONDARY,dn({type:"video",aspect_ratio:h,content_id:Ct(b),duration_ms:I?1e3*parseInt(I,10):void 0,vmap_url:b,poster_image:l,publisher_id:O?O.id_str:s.tweetUserId},T?{variants:[{src:T,type:"application/x-mpegURL"}]}:null)),_()(n,R.b.IMAGE_ENTITY,Rt(d||{})),_()(n,R.b.IMAGE_ENTITY_STATIC,Rt(l||{})),n)),components_data:(r={},_()(r,R.b.MEDIA,{type:R.d.MEDIA,data:{id:g?R.b.VIDEO_ENTITY:d?R.b.IMAGE_ENTITY:R.b.VIDEO_ENTITY_SECONDARY}}),_()(r,R.b.MEDIA_SECONDARY,{type:R.d.MEDIA,data:{id:R.b.VIDEO_ENTITY_SECONDARY}}),_()(r,R.b.MEDIA_STATIC,{type:R.d.MEDIA,data:{id:l?R.b.IMAGE_ENTITY_STATIC:R.b.IMAGE_ENTITY,destination:R.b.DESTINATION_STATIC,aspect_ratio:l?void 0:1.91}}),_()(r,R.b.DETAILS,{type:R.d.DETAILS,data:dn({},p?{title:{content:p}}:null)}),_()(r,R.b.DETAILS_SECONDARY,{type:R.d.DETAILS,data:dn({title:{content:St(o,"string_value","thank_you_text")}},c?{destination:R.b.DESTINATION_SECONDARY}:null)}),_()(r,R.b.DETAILS_STATIC,{type:R.d.DETAILS,data:dn({},p?{title:{content:p}}:null)}),_()(r,R.b.BUTTON_GROUP,{type:R.d.BUTTON_GROUP,data:{buttons:v}}),_()(r,R.b.BUTTON_GROUP_STATIC,{type:R.d.BUTTON_GROUP,data:{buttons:m}}),r)}}},qn=function(e){var t,n,r,i,a=e.cardId,o=e.cardType,s=e.data,c=e.cardContext,u=At(s,"image_value","player_image_original"),l=St(s,"string_value","player_hls_url"),d=parseInt(St(s,"string_value","player_width"),10)/parseInt(St(s,"string_value","player_height"),10),p=St(s,"string_value","content_duration_seconds");return{state:R.c.DEFAULT,layout:(t={},_()(t,R.c.DEFAULT,{size:"large"}),_()(t,R.c.STATIC,{size:"large"}),t),card:{card_name:o,card_url:St(s,"string_value","card_url"),on_visibility:{scribe:"show"},id:a,components:(n={},_()(n,R.c.DEFAULT,[R.b.MEDIA,R.b.DETAILS]),_()(n,R.c.STATIC,[R.b.MEDIA_STATIC,R.b.DETAILS]),n),destinations:_()({},R.b.DESTINATION,{type:R.f.BROWSER,data:{url_data:{domain:St(s,"string_value",["domain","vanity_url"]),url:St(s,"string_value",["website_shortened_url","website_url","card_url"]),vanity:St(s,"string_value",["vanity_url","website_shortened_url","website_url","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}}),media_entities:(r={},_()(r,R.b.IMAGE_ENTITY,Rt(u)),_()(r,R.b.VIDEO_ENTITY,fn({type:"video",aspect_ratio:d,content_id:St(s,"string_value","player_content_id")||Ct(u.url),duration_ms:p?1e3*parseInt(p,10):void 0,vmap_url:St(s,"string_value","player_stream_url"),poster_image:u,publisher_id:St(s,"string_value","player_owner_id")||c.tweetUserId},l?{variants:[{src:l,type:"application/x-mpegURL"}]}:null)),r),components_data:(i={},_()(i,R.b.MEDIA,{type:R.d.MEDIA,data:{id:R.b.VIDEO_ENTITY,aspect_ratio:d}}),_()(i,R.b.MEDIA_STATIC,{type:R.d.MEDIA,data:{id:R.b.IMAGE_ENTITY,aspect_ratio:d,destination:R.b.DESTINATION}}),_()(i,R.b.DETAILS,{type:R.d.DETAILS,data:{destination:R.b.DESTINATION,title:{content:St(s,"string_value","title")}}}),i)}}},Jn=function(e){var t,n=e.cardId,r=e.cardType,i=e.data,a=At(i,"image_value","promo_image_original");return{state:R.c.DEFAULT,layout:_()({},R.c.DEFAULT,{size:"large"}),card:{card_name:r,card_url:St(i,"string_value","card_url"),on_visibility:{scribe:"show"},id:n,components:_()({},R.c.DEFAULT,[R.b.MEDIA,R.b.DETAILS]),destinations:_()({},R.b.DESTINATION,{type:R.f.BROWSER,data:{url_data:{domain:St(i,"string_value",["domain","vanity_url"]),url:St(i,"string_value",["website_shortened_url","website_url","card_url"]),vanity:St(i,"string_value",["vanity_url","website_shortened_url","website_url","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}}),media_entities:_()({},R.b.IMAGE_ENTITY,Rt(a)),components_data:(t={},_()(t,R.b.MEDIA,{type:R.d.MEDIA,data:{id:R.b.IMAGE_ENTITY,destination:R.b.DESTINATION}}),_()(t,R.b.DETAILS,{type:R.d.DETAILS,data:{destination:R.b.DESTINATION,title:{content:St(i,"string_value","title")}}}),t)}}},Qn=function(e){var t,n=e.cardId,r=e.cardType,i=e.data,a=At(i,"image_value","thumbnail_image_original"),o=St(i,"string_value","description");return{state:R.c.DEFAULT,layout:_()({},R.c.DEFAULT,{size:"small"}),card:{card_name:r,card_url:St(i,"string_value","card_url"),on_visibility:{scribe:"show"},id:n,components:_()({},R.c.DEFAULT,[R.b.MEDIA,R.b.DETAILS]),destinations:_()({},R.b.DESTINATION,{type:R.f.BROWSER,data:{url_data:{domain:St(i,"string_value",["domain","vanity_url"]),url:St(i,"string_value","card_url"),vanity:St(i,"string_value",["vanity_url","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}}),media_entities:yn({},a?_()({},R.b.IMAGE_ENTITY,Rt(a)):null),components_data:(t={},_()(t,R.b.MEDIA,{type:R.d.MEDIA,data:{id:a?R.b.IMAGE_ENTITY:null,aspect_ratio:1,destination:R.b.DESTINATION}}),_()(t,R.b.DETAILS,{type:R.d.DETAILS,data:yn(yn({destination:R.b.DESTINATION},o?{description:{content:o}}:null),{},{title:{content:St(i,"string_value","title")}})}),t)}}},Xn=function(e){var t,n=e.cardId,r=e.cardType,i=e.data,a=At(i,"image_value","summary_photo_image_original"),o=St(i,"string_value","description");return{state:R.c.DEFAULT,layout:_()({},R.c.DEFAULT,{size:a?"large":"small"}),card:{card_name:r,card_url:St(i,"string_value","card_url"),on_visibility:{scribe:"show"},id:n,components:_()({},R.c.DEFAULT,[R.b.MEDIA,R.b.DETAILS]),destinations:_()({},R.b.DESTINATION,{type:R.f.BROWSER,data:{url_data:{domain:St(i,"string_value",["domain","vanity_url"]),url:St(i,"string_value","card_url"),vanity:St(i,"string_value",["vanity_url","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}}),media_entities:mn({},a?_()({},R.b.IMAGE_ENTITY,Rt(a)):null),components_data:(t={},_()(t,R.b.MEDIA,{type:R.d.MEDIA,data:{id:a?R.b.IMAGE_ENTITY:null,aspect_ratio:a?1.91:1,destination:R.b.DESTINATION}}),_()(t,R.b.DETAILS,{type:R.d.DETAILS,data:mn(mn({destination:R.b.DESTINATION},o?{description:{content:o}}:null),{},{title:{content:St(i,"string_value","title")}})}),t)}}},$n=function(e){var t=e.cardId,n=e.cardType,r=e.data,i=e.cardContext.shouldConvertCarouselsToSingleMedia,a=An(r),o=i?function(e){var t=e.components,n=e.component_objects,r=Pn(t,n,R.d.SWIPEABLE_MEDIA),i=wn(r,n);if(r&&i){var a={type:R.d.MEDIA,data:i.data.media_list[0]},o={},s=[];t.forEach((function(e){e===r?(o.media_1=a,s.push("media_1")):(s.push(e),o[e]=n[e])}));var c=e.type===bn.IMAGE_CAROUSEL_WEBSITE?bn.IMAGE_WEBSITE:bn.VIDEO_WEBSITE;return On(On({},e),{},{type:c,components:s,component_objects:o})}return e}(a):a,s=o.app_store_data,c=o.components,u=o.component_objects,l=o.destination_objects,d=o.media_entities,p=o.users,f=function(e,t){return Object.keys(e).reduce((function(n,r){var i=e[r];if("app_store_with_docked_media"===i.type||"app_store"===i.type){var a=Sn(t[i.data.app_id]);n[r]={type:"browser",data:{url_data:{url:a?a.url:R.e},scribe:"unified_card_app_store_open_link",promoted_log:"unified_card_component_app_store_click"}}}else n[r]=On(On({},i),{},{data:On(On({},i.data),{},{scribe:"open_link",promoted_log:"unified_card_component_url_click"})});return n}),{})}(l,s),h=c.find((function(e){return u[e]&&"details"===u[e].type})),y=h&&"details"===u[h].type?u[h]:null,v=c.find((function(e){return u[e]&&"app_store_details"===u[e].type})),m=v&&"app_store_details"===u[v].type?u[v]:null,g=function(e,t){var n,r,i=e?e.data.destination:void 0;if(e)if("details"===e.type)n=On({},e.data.title);else if("app_store_details"===e.type){var a=e.data.app_id,o=Sn(t[a])||{};n=o.title,r=o.category?o.category.content:void 0}return{type:"details",data:{title:n,footer:r,destination:i}}}(y||m||void 0,s),b=h||v,T=c.find((function(e){return u[e]&&"twitter_list_details"===u[e].type})),O=T&&"twitter_list_details"===u[T].type?function(e,t){var n=e.data.destination,r=On({},e.data.name),i=t[e.data.user_id],a=e.data.member_count;return{type:R.d.TWITTER_LIST_DETAILS,data:{title:r,destination:n,memberCount:a,attribution:i}}}(u[T],p):null,I=c.find((function(e){return u[e]&&"media_with_details_horizontal"===u[e].type}));if(!!I){var S,w=I&&"media_with_details_horizontal"===u[I].type?(C=u[I],L=C.data,M=L.destination,N=L.topic_detail,j=N.title,x=N.subtitle,U=L.media_id,k={},_()(k,R.b.MEDIA,{type:R.d.MEDIA,data:{id:U,aspect_ratio:1,destination:M}}),_()(k,R.b.TOPIC_DETAILS,{type:R.d.TOPIC_DETAILS,data:On(On({destination:M},x&&x.content?{description:On({},x)}:null),{},{title:j})}),k):null,P=Object.keys(f).reduce((function(e,t){return e[t]=On(On({},f[t]),{},{data:On(On({},f[t].data),{},{scribe_element:"uc_media_with_details_horizontal"})}),e}),{});return{state:R.c.DEFAULT,layout:(S={},_()(S,R.c.DEFAULT,{size:"small"}),_()(S,R.c.STATIC,{size:"small"}),S),card:{card_name:n,card_url:St(r,"string_value","card_url"),on_visibility:{scribe:"show"},id:t,components:_()({},R.c.DEFAULT,[R.b.MEDIA,R.b.TOPIC_DETAILS]),destinations:P,media_entities:On({},d),components_data:On({},w)}}}var A,D,C,k,L,M,N,j,x,U,B=c.find((function(e){return u[e]&&"button_group"===u[e].type})),F=B&&"button_group"===u[B].type?{type:R.d.BUTTON_GROUP,data:{buttons:u[B].data.buttons.map((function(e,t){return{index:t+1,icon:e.icon_type,destination:e.destination,cta:"cta"===e.type?E.a.getCtaString(e.action):e.text.content,is_rtl:"custom"===e.type?e.text.is_rtl:void 0,isAppDetails:null!=m}}))}}:null,V=Pn(c,u,R.d.SWIPEABLE_MEDIA),G=wn(V,u),W=c.find((function(e){return u[e]&&"media"===u[e].type})),Y=W&&"media"===u[W].type?u[W]:null,H=Object.keys(d).reduce((function(e,t){var n=d[t];return e[t]=On(On({},n),{},{type:"video"===n.type?"uc_video":n.type}),e}),{}),z=Y?H[Y.data.id]:null,K=z?z.original_info.width/z.original_info.height:null,q=Object.keys(d).reduce((function(e,t){var n=d[t];return e[Dn(t)]={media_url_https:n.media_url_https,type:"photo",original_info:n.original_info},e}),{}),J=z&&"uc_video"===z.type,Q=G&&G.data.media_list.some((function(e){return e.id&&"uc_video"===H[e.id].type})),X=[].concat(ke()(J?[R.b.MEDIA_STATIC]:[]),ke()(Q?[R.b.SWIPEABLE_MEDIA_STATIC]:[]),ke()(c.filter((function(e){return!(J&&e===W||Q&&e===V)})))),$={};return g&&b&&($[b]=g),F&&B&&($[B]=F),G&&V&&($[V]=G),O&&T&&($[T]=O),Y&&W&&($[W]={type:R.d.MEDIA,data:On({},Y.data)}),J&&Y&&($[R.b.MEDIA_STATIC]={type:R.d.MEDIA,data:{aspect_ratio:K||void 0,destination:Y.data.destination,id:Dn(Y.data.id),overlay:{type:R.g.PLAY}}}),Q&&G&&($[R.b.SWIPEABLE_MEDIA_STATIC]={type:R.d.SWIPEABLE_MEDIA,data:{media_list:G.data.media_list.map((function(e){return{destination:e.destination,id:Dn(e.id),overlay:{type:R.g.PLAY}}}))}}),{state:R.c.DEFAULT,layout:(A={},_()(A,R.c.DEFAULT,{size:"large"}),_()(A,R.c.STATIC,{size:"large"}),A),card:{card_name:n,card_url:St(r,"string_value","card_url"),on_visibility:{scribe:"show"},id:t,components:(D={},_()(D,R.c.DEFAULT,c),_()(D,R.c.STATIC,X),D),destinations:f,media_entities:On(On({},H),q),components_data:$}}},Zn=function(e){var t,n,r,i,a,o,s=e.cardId,c=e.cardType,u=e.data,l=e.cardContext,d=e.users,p=At(u,"image_value","player_image_original"),f=St(u,"string_value","player_stream_url"),h=parseInt(St(u,"string_value","player_width"),10)/parseInt(St(u,"string_value","player_height"),10),y=St(u,"string_value","content_duration_seconds"),v=function(e){return[1,2,3,4].map((function(t){var n=St(u,"string_value","cta".concat(t)),r=St(u,"string_value","cta".concat(t,"_wm_id"));return n&&r?{icon:"dm",index:t,cta:n,wm_id:r,destination:e}:null})).filter(Boolean)},m=v(R.b.DESTINATION),g=v(R.b.DESTINATION_STATIC),b=Pt(u,"user_value","recipient"),E=b&&d[b.id_str],T=b.id_str!==l.tweetUserId&&E;return{state:R.c.DEFAULT,layout:(t={},_()(t,R.c.DEFAULT,{size:"large"}),_()(t,R.c.STATIC,{size:"large"}),t),card:{card_name:c,card_url:St(u,"string_value","card_url"),on_visibility:{scribe:"show"},id:s,components:(n={},_()(n,R.c.DEFAULT,[R.b.MEDIA].concat(ke()(T?[R.b.DETAILS]:[]),[R.b.BUTTON_GROUP])),_()(n,R.c.STATIC,[R.b.MEDIA_STATIC].concat(ke()(T?[R.b.DETAILS]:[]),[R.b.BUTTON_GROUP_STATIC])),n),destinations:(r={},_()(r,R.b.DESTINATION,{type:R.f.ACTION,data:{action_data:{persist:!1,type:"dm",recipient:b.id_str},auth_required:!0,scribe:"click",promoted_log:"dm_button_click"}}),_()(r,R.b.DESTINATION_STATIC,{type:R.f.BROWSER,data:{url_data:{url:l.tweetPermalink||R.e},scribe:"open_link",promoted_log:"card_url_click"}}),r),media_entities:(i={},_()(i,R.b.IMAGE_ENTITY,Rt(p||{})),_()(i,R.b.VIDEO_ENTITY,Cn(Cn({type:"video",aspect_ratio:h,content_id:St(u,"string_value","player_content_id")||Ct(f)},y?{duration_ms:1e3*parseInt(y,10)}:null),{},{vmap_url:f,poster_image:p,publisher_id:St(u,"string_value","player_owner_id")||l.tweetUserId,variants:[{src:St(u,"string_value","player_hls_url"),type:"application/x-mpegURL"}]})),i),components_data:Cn(Cn((a={},_()(a,R.b.MEDIA,{type:R.d.MEDIA,data:{id:R.b.VIDEO_ENTITY}}),_()(a,R.b.MEDIA_STATIC,{type:R.d.MEDIA,data:{id:R.b.IMAGE_ENTITY,destination:R.b.DESTINATION_STATIC}}),a),T?_()({},R.b.DETAILS,{type:R.d.DETAILS,data:{attribution:E}}):null),{},(o={},_()(o,R.b.BUTTON_GROUP,{type:R.d.BUTTON_GROUP,data:{buttons:m}}),_()(o,R.b.BUTTON_GROUP_STATIC,{type:R.d.BUTTON_GROUP,data:{buttons:g}}),o))}}},er=function(e){return Dt(e,(function(e){return e("player_width").and("player_height").and("amplify_url_vmap").and("amplify_content_id")}))},tr=function(e){return Dt(e,(function(e){return e("card_url").and("title")}))},nr=function(e){return Dt(e,(function(e){return e("card_url").and("title").and("player_width").and("player_height").and("player_image_original").and("player_stream_url")}))},rr=function(e){return Dt(e,(function(e){return e("card_url").and("broadcast_id").and("broadcast_title")}))},ir=function(e){return Dt(e,(function(e){return e("card_url").and("title")}))},ar=function(e){return Dt(e,(function(e){return e("recipient").and("cta1").and("cta1_wm_id").and("image_original")}))},or=function(e){return Dt(e,(function(e){return e("card_url").and("event_id").and("event_title")}))},sr=function(e,t){return Dt(e,(function(e){return e("recipient").and("cta")}))&&t.tweetUserId===Pt(e,"user_value","recipient").id_str},cr=function(e){return Dt(e,(function(e){return e("card_url").and((function(e){return e("photo_image").or("cover_format_media_url")})).and("id").and((function(e){return e("title").or("author").or("subcategory_string")}))}))},ur=function(e){return Dt(e,(function(e){return e("card_url").and("broadcast_width").and("broadcast_height").and("id").and((function(e){return e("broadcaster_twitter_id").or("title")}))}))},lr=function(e){return en.a.isVineCard({name:"player",binding_values:e})?Dt(e,(function(e){return e("card_url").and("title").and("player_width").and("player_height").and("player_image_original").and("player_stream_url").and("player_stream_content_type")})):Dt(e,(function(e){return e("card_url").and("player_url").and("player_height").and("player_width").and("title")}))},dr=function(e){return Dt(e,(function(e){return e("choice1_label").and("choice2_label").and("end_datetime_utc").and("counts_are_final").and("api").and("card_url")}))},pr=function(e){return Dt(e,(function(e){return e("card_url").and("title").and("promo_image_original").and("cta_key")}))},fr=function(e){return Dt(e,(function(e){return e("card_url").and("thank_you_text").and("card_id").and("promo_image").and("cta_one").and("cta_one_tweet")}))},hr=function(e){return Dt(e,(function(e){return e("card_url").and("thank_you_text").and("card_id").and("cta_one").and("cta_one_tweet").and("player_width").and("player_height").and("player_stream_url")}))},yr=function(e){return Dt(e,(function(e){return e("card_url").and("title").and("player_width").and("player_height").and("player_image_original").and("player_stream_url")}))},vr=function(e){return Dt(e,(function(e){return e("card_url").and("title").and("promo_image_original")}))},mr=function(e){return Dt(e,(function(e){return e("card_url").and("title")}))},_r=function(e){return Dt(e,(function(e){return e("card_url").and("title")}))},gr=function(e){var t=An(e);return!!(t&&t.components&&t.component_objects&&t.components.length&&t.components.every((function(e){return t.component_objects[e]&&t.component_objects[e].type in In})))},br=function(e){return Dt(e,(function(e){return e("recipient").and("cta1").and("cta1_wm_id").and("player_width").and("player_height").and("player_stream_url")}))},Er=function(e,t,n){var r,i=(r={},_()(r,R.a.AMPLIFY,er),_()(r,R.a.APP,tr),_()(r,R.a.APPPLAYER,nr),_()(r,R.a.BROADCAST,rr),_()(r,R.a.DIRECT_STORE_LINK_APP,ir),_()(r,R.a.IMAGE_DIRECT_MESSAGE,ar),_()(r,R.a.LIVE_EVENT,or),_()(r,R.a.MESSAGE_ME,sr),_()(r,R.a.MOMENT,cr),_()(r,R.a.PERISCOPE_BROADCAST,ur),_()(r,R.a.PLAYER,lr),_()(r,R.a.POLL_2_CHOICE_TEXT,dr),_()(r,R.a.POLL_3_CHOICE_TEXT,dr),_()(r,R.a.POLL_4_CHOICE_TEXT,dr),_()(r,R.a.POLL_2_CHOICE_IMAGE,dr),_()(r,R.a.POLL_3_CHOICE_IMAGE,dr),_()(r,R.a.POLL_4_CHOICE_IMAGE,dr),_()(r,R.a.POLL_2_CHOICE_VIDEO,dr),_()(r,R.a.POLL_3_CHOICE_VIDEO,dr),_()(r,R.a.POLL_4_CHOICE_VIDEO,dr),_()(r,R.a.PROMO_IMAGE_APP,pr),_()(r,R.a.PROMO_IMAGE_CONVO,fr),_()(r,R.a.PROMO_VIDEO_CONVO,hr),_()(r,R.a.PROMO_VIDEO_WEBSITE,yr),_()(r,R.a.PROMO_WEBSITE,vr),_()(r,R.a.SUMMARY,mr),_()(r,R.a.SUMMARY_LARGE_IMAGE,_r),_()(r,R.a.UNIFIED_CARD,gr),_()(r,R.a.VIDEO_DIRECT_MESSAGE,br),r)[e];return!!i&&i(t,n)},Tr=(kn={},_()(kn,R.a.AMPLIFY,Ln),_()(kn,R.a.APP,Mn),_()(kn,R.a.APPPLAYER,Nn),_()(kn,R.a.BROADCAST,jn),_()(kn,R.a.DIRECT_STORE_LINK_APP,xn),_()(kn,R.a.IMAGE_DIRECT_MESSAGE,Un),_()(kn,R.a.LIVE_EVENT,Bn),_()(kn,R.a.MESSAGE_ME,Fn),_()(kn,R.a.MOMENT,Vn),_()(kn,R.a.PERISCOPE_BROADCAST,Gn),_()(kn,R.a.PLAYER,Wn),_()(kn,R.a.POLL_2_CHOICE_TEXT,Yn),_()(kn,R.a.POLL_3_CHOICE_TEXT,Yn),_()(kn,R.a.POLL_4_CHOICE_TEXT,Yn),_()(kn,R.a.POLL_2_CHOICE_IMAGE,Yn),_()(kn,R.a.POLL_3_CHOICE_IMAGE,Yn),_()(kn,R.a.POLL_4_CHOICE_IMAGE,Yn),_()(kn,R.a.POLL_2_CHOICE_VIDEO,Yn),_()(kn,R.a.POLL_3_CHOICE_VIDEO,Yn),_()(kn,R.a.POLL_4_CHOICE_VIDEO,Yn),_()(kn,R.a.PROMO_IMAGE_APP,Hn),_()(kn,R.a.PROMO_IMAGE_CONVO,zn),_()(kn,R.a.PROMO_VIDEO_CONVO,Kn),_()(kn,R.a.PROMO_VIDEO_WEBSITE,qn),_()(kn,R.a.PROMO_WEBSITE,Jn),_()(kn,R.a.SUMMARY,Qn),_()(kn,R.a.SUMMARY_LARGE_IMAGE,Xn),_()(kn,R.a.UNIFIED_CARD,$n),_()(kn,R.a.VIDEO_DIRECT_MESSAGE,Zn),kn),Or=function(e,t){var n=e.binding_values,r=e.name,i=e.url,a=e.users,o=void 0===a?{}:a,s=Tr[r];return Er(r,n,t)&&s?s({cardId:i,cardType:r,data:n,cardContext:t,users:o}):null};function Ir(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Sr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sr(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Sr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wr(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ar(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var Dr=!1,Rr=function(e){p()(n,e);var t=Ar(n);function n(e){var r;o()(this,n),r=t.call(this,e),_()(c()(r),"_handleLikelyInteraction",(function(){r.state.interactionLikely||r.setState({interactionLikely:!0})})),_()(c()(r),"_updateCardState",(function(e){r.setState({state:e})})),_()(c()(r),"_updateUCPromotedMetadata",(function(e){r.setState({ucPromotedMetadata:e})})),_()(c()(r),"_scribeCardAction",(function(e){var t=e.action,n=e.element,i=e.componentType,a=e.ctaIndex,o=e.isAuthRequired,s=e.clickContext,c=e.swipeEventDetails,u=r.state.card,l=r.props.onScribeEvent;u&&l&&l({action:t,element:n,componentType:i,cardName:u.card_name,cardUrl:u.card_url,ctaIndex:a,clickContext:s,isMessageMe:u.card_name===R.a.MESSAGE_ME,isAuthRequired:o,swipeEventDetails:c})})),_()(c()(r),"_onPromotedLogEvent",(function(e){var t=r.props.onPromotedLogEvent;t&&t(Pr(Pr({},e),{},{ucPromotedMetadata:Pr(Pr({},r.state.ucPromotedMetadata),e.ucPromotedMetadata)}))})),_()(c()(r),"_requestCardUpdate",(function(){var e=r.props.requestCardUpdate,t=r.state.card;e&&t&&e([t.id],{name:t.card_name})}));var i=r._convertCard(e);return r.state=i?Pr({},i):{},r}return l()(n,null,[{key:"setAllowPrerender",value:function(e){Dr=e}}]),l()(n,[{key:"componentDidMount",value:function(){var e=this.state.card;e&&this._scribeCardAction({action:e.on_visibility.scribe,componentType:"card"})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState(this._convertCard(e))}},{key:"render",value:function(){var e=this.state,t=e.card,r=e.state,a=e.ucPromotedMetadata,o=e.carouselIndex,s=this.props,c=s.a11yDomIds,u=s.cardContext,l=s.dmSentOrReceived,d=s.isDataSaverEnabled,p=s.isInteractive,f=s.isPromoted,h=s.onCardLinkClick,y=s.onEventReminderClick,v=s.onPollVote,m=s.onScribeEvent,_=s.persistCarouselMuteState,E=s.promotedContent,T=s.nativeID,I=s.requestCardUpdate,S=s.testIDs,w=s.transformUrl,P=s.useBlueButtonForAppDetails,A=s.isViewportConstrained,D=s.withSquareBottomBorderRadius;if(!t)return null;var R=this._getCurrentLayout(),C=this._getDetailData(),k=this._getTwitterListDetailsData(),L=this._getTopicDetailsData(),M=this._getMediaData(),N=this._getPollData(),j=this._getButtonsData(),x=this._getSwipeableMediaData(),U=t.fetch_updates,B=this.props.withInteractiveStyling&&!!(C&&C.destination||k&&k.destination||L&&L.destination),F={a11yDomIds:c,dmSentOrReceived:l,locationKey:u.locationKey,onLikelyInteraction:this._handleLikelyInteraction,nativeID:T,testIDs:S,withInteractiveStyling:B,withSquareBottomBorderRadius:D},V=I&&U&&U[r],G=M&&M.mediaEntity&&"photo"===M.mediaEntity.type,W="small"===R.size||d&&C&&!j&&G&&!f,Y=L||C;return b.createElement(g.b,{viewType:"card"},b.createElement(n.Context.Provider,{value:{card:t,carouselIndex:o,isDataSaverEnabled:d,isInteractive:p,isPromoted:f,media:M,promotedContent:E,onEventReminderClick:y,onCardLinkClick:h,onPollVote:v,onPromotedLogEvent:this._onPromotedLogEvent,onScribeEvent:m,scribeCardAction:this._scribeCardAction,transformUrl:w,ucPromotedMetadata:a,updateCardState:this._updateCardState,updateUCPromotedMetadata:this._updateUCPromotedMetadata}},this._renderPreconnectTags(),V?b.createElement(O,{requestCardUpdate:this._requestCardUpdate}):null,W?Y&&M?b.createElement(Tt,i()({},F,{details:Y,isTopicCard:!!L,media:M,reverse:R.reverse})):null:b.createElement(pt,i()({},F,{buttons:j||void 0,chromeless:R.chromeless,details:C,isViewportConstrained:A,listDetails:k||void 0,media:M,persistCarouselMuteState:_,poll:N||void 0,renderVideoPlayer:this.props.renderVideoPlayer,swipeableMedia:x,useBlueButtonForAppDetails:P}))))}},{key:"_getCurrentLayout",value:function(){var e=this.state,t=e.layout,n=e.state;return t[this.props.isDataSaverEnabled?R.c.DATA_SAVER:n]||t[R.c.DEFAULT]}},{key:"_getButtonsData",value:function(){var e=this._getComponent("button_group");return e?e.data.buttons:null}},{key:"_getSwipeableMediaData",value:function(){var e=this.state.card,t=this._getComponent("swipeable_media"),n=t&&t.data;if(n&&n.media_list)return Object(Ot.a)(n.media_list,(function(t){var n=t&&t.id&&e?e.media_entities[t.id]:void 0;return n?Pr(Pr({},t),{},{media_entity:n}):void 0}))}},{key:"_getDetailData",value:function(){var e=this._getComponent("details"),t=e&&e.data;if(!t)return null;if(t.destination){var n=this._getVanityText(t.destination);t.vanity=n||void 0}return t}},{key:"_getTwitterListDetailsData",value:function(){var e=this._getComponent("twitter_list_details");return e&&e.data||null}},{key:"_getTopicDetailsData",value:function(){var e=this._getComponent("topic_details");return e&&e.data||null}},{key:"_getMediaData",value:function(){var e=this.state.card,t=this._getComponent("media"),n=t&&t.data;if(n){var r=n.aspect_ratio,i=n.destination,a=n.overlay;return{aspect_ratio:r,destination:i,mediaEntity:n.id&&e?e.media_entities[n.id]:void 0,overlay:a}}}},{key:"_getPollData",value:function(){var e=this._getComponent("poll");return e?e.data:null}},{key:"_getComponent",value:function(e){var t=this.state,n=t.card,r=t.state,i=this.props.isDataSaverEnabled;if(!n)throw new Error("No card data available");var a,o=i?R.c.DATA_SAVER:r,s=Ir(n.components[o]||n.components[R.c.DEFAULT]);try{for(s.s();!(a=s.n()).done;){var c=a.value,u=n.components_data[c];if(u.type===e)return u}}catch(e){s.e(e)}finally{s.f()}}},{key:"_getVanityText",value:function(e){var t=this.state.card;if(t){var n=t.destinations[e];if(n)switch(n.type){case R.f.BROWSER:case R.f.BROWSER_WITH_DOCKED_MEDIA:case R.f.BROWSER_WITH_MEDIA:return n.data.url_data.vanity;case R.f.ACTION:return n.data.action_data.vanity;default:return}}}},{key:"_renderPreconnectTags",value:function(){var e=this._getDetailData(),t=this.state,n=t.card,r=t.interactionLikely,i=this.props.isPromoted;if(!e||!e.destination||!n)return null;var a=n.destinations[e.destination];if(a.type!==R.f.BROWSER)return null;var o=a.data.url_data.url,s=a.data.url_data.domain||a.data.url_data.vanity;if(!s)return null;var c=r||i,u=r&&i&&Dr;return c?b.createElement(b.Fragment,null,u?b.createElement("link",{href:o,rel:"prerender"}):null,c?b.createElement("link",{href:o,rel:"preconnect"}):null,c?b.createElement("link",{href:"//".concat(s),rel:"preconnect"}):null):null}},{key:"_convertCard",value:function(e){var t=e.card,n=e.cardState,r=e.cardContext,i=e.shouldConvertCarouselsToSingleMedia,a=e.initialCarouselIndex,o=Or(t,Pr(Pr({},r),{},{shouldConvertCarouselsToSingleMedia:i})),s=n||!!this.state&&this.state.state||o&&o.state||void 0;return o&&s?Pr(Pr({},o),{},{state:s,carouselIndex:a}):null}}]),n}(b.Component);_()(Rr,"defaultProps",{isDataSaverEnabled:!1,isInteractive:!0,isPromoted:!1,isViewportConstrained:!1,persistCarouselMuteState:!1,withInteractiveStyling:!0}),_()(Rr,"Context",b.createContext(Object.freeze({}))),Rr.propTypes={};var Cr=t.a=Rr},861:function(e,t,n){"use strict";n(52),n(548),n(68),n(30),n(61),n(31),n(127);var r=n(5),i=n.n(r),a=n(3),o=n.n(a),s=n(7),c=n.n(s),u=n(17),l=n.n(u),d=n(21),p=n.n(d),f=n(11),h=n.n(f),y=n(1),v=n.n(y),m=n(0),_=n(4),g=n(35),b=n(27),E=(n(34),n(376),n(382),n(58)),T=n.n(E),O=n(64),I=n.n(O),S=n(143),w=n.n(S),P=n(385),A=w.a.ga629a8b,D=function(e,t,n){return e?m.createElement(P.a,{screenName:t},m.createElement(b.c,{link:"/".concat(t),onClick:n},"@".concat(t))):"@".concat(t)},R=function(e){var t=e.children,n=e.onClick,r=e.viewMorePath;return m.createElement(b.c,{accessibilityLabel:A,link:r,onClick:n},t)},C=(n(103),n(857),n(102),n(128),n(713)),k=function(e){return e&&e.screen_name||""},L=function(e,t){return e.find((function(e){return e.id_str===t}))},M="NotIncluded",N="DirectReply",j="NonDirectReply",x=function(e){var t=e.displayTextRange,n=e.inReplyToName,r=e.inReplyToScreenName,i=e.inReplyToUserIdStr,a=e.userMentionsEntities,o=a.filter((function(e){return e.indices[0]<t[0]||e.id_str===i})),s=I()(o),c=L(a,i),u=n||r;return!c&&i&&u&&r&&(c={id_str:i,name:u,screen_name:r,indices:[]},s.push(c)),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.a,n=new Set;return e.filter((function(r,i){var a=t(r,i,e);return!n.has(a)&&(n.add(a),!0)}))}(s,(function(e){return e.id_str}))},U=function(e){var t=e.displayTextRange,n=e.inReplyToName,r=e.inReplyToScreenName,i=e.inReplyToUserIdStr,a=e.linkify,o=e.loggedInUserId,s=e.onClick,c=e.tweetPermalink,u=e.userMentionsEntities,l=i,d=x({displayTextRange:t,inReplyToName:n,inReplyToScreenName:r,inReplyToUserIdStr:i,userMentionsEntities:u}),p=L(d,l),f=function(e,t,n){var r=e?m.createElement(R,{onClick:n,viewMorePath:t}):m.createElement("span",null),i=e?m.createElement(b.c,{color:"link"}):m.createElement("span",null);return{replyToOne:function(t){var r=t.userName,i=D(e,r,n);return m.createElement(w.a.I18NFormatMessage,{$i18n:"h5970807"},i)},replyToTwo:function(t){var r=t.userOneName,a=t.userTwoName,o=D(e,r,n),s=D(e,a,n);return m.createElement(w.a.I18NFormatMessage,{$i18n:"ge01e6a2"},o,m.cloneElement(i,null,w.a.f34e6516),s)},replyToMany:function(t){var i=t.userName,a=t.othersCount,o=D(e,i,n);return m.createElement(w.a.I18NFormatMessage,{$i18n:"f5a069ab"},o,m.cloneElement(r,null,w.a.ff31714c({othersCount:a})))},indirectReplyToThree:function(t){var r=t.userOneName,a=t.userTwoName,o=t.userThreeName,s=D(e,r,n),c=D(e,a,n),u=D(e,o,n);return m.createElement(w.a.I18NFormatMessage,{$i18n:"hd7dd197"},s,c,m.cloneElement(i,null,w.a.e06c99b6),u)},indirectReplyToMany:function(t){var i=t.userOneName,a=t.userTwoName,o=t.othersCount,s=D(e,i,n),c=D(e,a,n);return m.createElement(w.a.I18NFormatMessage,{$i18n:"g4eb2847"},s,c,m.cloneElement(r,null,w.a.i4e2f96b({othersCount:o})))}}}(a,"".concat(c,"/people"),s),h=o===l,y=d.some((function(e){return e.id_str===o}));switch(h?N:y?j:M){case N:case M:switch(d.length){case 1:return f.replyToOne({userName:k(p)});case 2:var v=d.find((function(e){return e!==p}));return f.replyToTwo({userOneName:k(p),userTwoName:k(v)});case 3:var _=d.filter((function(e){return e!==p})),g=T()(_,2),E=g[0],O=g[1];return f.indirectReplyToThree({userOneName:k(p),userTwoName:k(E),userThreeName:k(O)});default:var I=d.find((function(e){return e!==p}));return f.indirectReplyToMany({userOneName:k(p),userTwoName:k(I),othersCount:d.length-2})}case j:switch(d.length){case 1:return null;case 2:var S=d.find((function(e){return e!==p}));return f.replyToTwo({userOneName:k(p),userTwoName:k(S)});case 3:var P=d.find((function(e){var t=e.id_str;return t!==o&&t!==l}));return f.indirectReplyToThree({userOneName:k(p),userTwoName:k(L(d,o)),userThreeName:k(P)});default:return f.indirectReplyToMany({userOneName:k(p),userTwoName:k(L(d,o)),othersCount:d.length-2})}default:return null}};function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var F=Object.freeze({Threaded:"threaded",Isolated:"isolated",None:"none"}),V=[F.Threaded,F.Isolated,F.None],G=Object.freeze({all:"all",name:"name",none:"none"}),W=function(e){l()(n,e);var t=B(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),v()(c()(e),"_handleClick",(function(t){var n=e.props,r=n.onClick,i=n.displayTextRange,a=n.inReplyToName,o=n.inReplyToScreenName,s=n.inReplyToUserIdStr,c=n.userMentionsEntities;r&&r(t,x({displayTextRange:i,inReplyToName:a,inReplyToScreenName:o,inReplyToUserIdStr:s,userMentionsEntities:c}).length)})),e}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.displayTextRange,n=e.inReplyToName,r=e.inReplyToScreenName,i=e.inReplyToStatusIdStr,a=e.inReplyToUserIdStr,o=e.linkColor,s=e.linkType,c=e.loggedInUserId,u=e.nativeID,l=e.tweetPermalink,d=e.size,p=e.style,f=e.userMentionsEntities,h=U({displayTextRange:t,inReplyToName:n,inReplyToScreenName:r,inReplyToUserIdStr:a,tweetPermalink:l,loggedInUserId:c,linkify:s===G.name,onClick:this._handleClick,userMentionsEntities:f});if(s===G.all){var y=i&&"/".concat(r||"i","/status/").concat(i);return m.createElement(b.c,{color:o,link:y,nativeID:u,size:d,style:p},h)}return s===G.name?m.createElement(g.default,{style:[Y.root,p]},m.createElement(b.c,{color:"gray600",nativeID:u,size:d},h)):m.createElement(b.c,{color:"gray600",nativeID:u,size:d,style:p},h)}}]),n}(m.PureComponent);v()(W,"getReplyContextParticipants",x),v()(W,"ReplyContextTypes",F),v()(W,"TweetReplyContextTypes",V),v()(W,"ReplyContextLinkTypes",G),v()(W,"defaultProps",{linkColor:b.a.link,linkType:G.name,size:"normal",userMentionsEntities:[]});var Y=_.a.create((function(e){return{root:{display:"inline-block"}}}));t.a=W},863:function(e,t,n){"use strict";var r=n(2),i=n.n(r),a=n(0),o=n(1556).a,s=n(741),c=n(820),u=function(e){var t=e.poster;return a.createElement(s.b,i()({},e,{basePlayerClass:o}),(function(e){var n=e.guestsState,r=e.playerApi,i=e.playerState,o=e.containerRef;return a.createElement(c.a,{containerRef:o,guestsState:n,playerApi:r,playerState:i,poster:t})}))};u.defaultProps={size:"small"};t.a=u},993:function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return w}));var r,i,a,o,s=function(e,t){return{name:e,value:void 0===t?-1:t,delta:0,entries:[],id:"v1-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},c=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return n.observe({type:e,buffered:!0}),n}}catch(e){}},u=!1,l=function(e,t){u||"undefined"!=typeof InstallTrigger||(addEventListener("beforeunload",(function(){})),u=!0),addEventListener("visibilitychange",(function n(r){"hidden"===document.visibilityState&&(e(r),t&&removeEventListener("visibilitychange",n,!0))}),!0)},d=function(e){addEventListener("pageshow",(function(t){t.persisted&&e(t)}),!0)},p="function"==typeof WeakSet?new WeakSet:new Set,f=function(e,t,n){var r;return function(){t.value>=0&&(n||p.has(t)||"hidden"===document.visibilityState)&&(t.delta=t.value-(r||0),(t.delta||void 0===r)&&(r=t.value,e(t)))}},h=-1,y=function(){return"hidden"===document.visibilityState?0:1/0},v=function(){l((function(e){var t=e.timeStamp;h=t}),!0)},m=function(){return h<0&&(h=y(),v(),d((function(){setTimeout((function(){h=y(),v()}),0)}))),{get timeStamp(){return h}}},_=function(e,t){var n,r=m(),i=s("FCP"),a=c("paint",(function(e){"first-contentful-paint"===e.name&&(a&&a.disconnect(),e.startTime<r.timeStamp&&(i.value=e.startTime,i.entries.push(e),p.add(i),n()))}));a&&(n=f(e,i,t),d((function(r){i=s("FCP"),n=f(e,i,t),requestAnimationFrame((function(){requestAnimationFrame((function(){i.value=performance.now()-r.timeStamp,p.add(i),n()}))}))})))},g={passive:!0,capture:!0},b=new Date,E=function(e,t){r||(r=t,i=e,a=new Date,I(removeEventListener),T())},T=function(){if(i>=0&&i<a-b){var e={entryType:"first-input",name:r.type,target:r.target,cancelable:r.cancelable,startTime:r.timeStamp,processingStart:r.timeStamp+i};o.forEach((function(t){t(e)})),o=[]}},O=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){E(e,t),i()},r=function(){i()},i=function(){removeEventListener("pointerup",n,g),removeEventListener("pointercancel",r,g)};addEventListener("pointerup",n,g),addEventListener("pointercancel",r,g)}(t,e):E(t,e)}},I=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,O,g)}))},S=function(e,t){var n,a=m(),u=s("FID"),h=function(e){e.startTime<a.timeStamp&&(u.value=e.processingStart-e.startTime,u.entries.push(e),p.add(u),n())},y=c("first-input",h);n=f(e,u,t),y&&l((function(){y.takeRecords().map(h),y.disconnect()}),!0),y&&d((function(){var a;u=s("FID"),n=f(e,u,t),o=[],i=-1,r=null,I(addEventListener),a=h,o.push(a),T()}))},w=function(e,t){var n,r=m(),i=s("LCP"),a=function(e){var t=e.startTime;t<r.timeStamp&&(i.value=t,i.entries.push(e)),n()},o=c("largest-contentful-paint",a);if(o){n=f(e,i,t);var u=function(){p.has(i)||(o.takeRecords().map(a),o.disconnect(),p.add(i),n())};["keydown","click"].forEach((function(e){addEventListener(e,u,{once:!0,capture:!0})})),l(u,!0),d((function(r){i=s("LCP"),n=f(e,i,t),requestAnimationFrame((function(){requestAnimationFrame((function(){i.value=performance.now()-r.timeStamp,p.add(i),n()}))}))}))}}}}]);