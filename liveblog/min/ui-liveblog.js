var e={typeKey:"BILDE",renderElement:(e,t)=>{const n=document.createElement("img");n.className="ncpost-image",n.decoding="async",n.loading="lazy",n.src=t.getAttribute("data-src"),n.width=t.getAttribute("data-width"),n.height=t.getAttribute("data-height");let a=t.getAttribute("data-crops");if(a)try{a=JSON.parse(a),a.sort(((e,t)=>e.width-t.width)),n.srcset=a.map(((e,t)=>t===a.length-1?e.url:`${e.url} ${e.width}w`))}catch(e){console.error(e)}const i=t.getAttribute("data-url");if(i){const t=document.createElement("a");t.href=i,t.style.border="none",t.target="_blank",t.appendChild(n),e.appendChild(t)}else e.appendChild(n);const o=t.getAttribute("data-caption"),r=t.getAttribute("data-source");if(o||r){const t=document.createElement("p");if(t.className="ncpost-image-byline",t.setAttribute("aria-hidden","true"),o){const e=document.createElement("span");e.className="ncpost-image-byline-description",e.textContent=o,t.appendChild(e),n.alt=o}if(r){const e=document.createElement("span");e.className="ncpost-image-byline-source",e.textContent=r,t.appendChild(e)}!o&&r&&(n.alt=r),e.appendChild(t)}else n.setAttribute("aria-hidden","true")}},t={typeKey:"AZUREMP",renderElement:(e,t)=>{const n=document.createElement("script");n.onload=()=>{e.innerHTML='\n        <video id="azuremediaplayer" class="ui-liveblog-video" width="400" height="400"></video>\n      ';window.amp("azuremediaplayer",{autoplay:!1,controls:!1},(()=>{const t=e.querySelector("video");t.controls=!0,t.removeAttribute("oncontextmenu"),t.removeAttribute("tabindex")})).src([{src:t.getAttribute("data-manifest"),type:"application/vnd.ms-sstr+xml"}])},document.head.appendChild(n),n.src="//amp.azure.net/libs/amp/latest/azuremediaplayer.min.js"}},n={shouldRun:()=>!0,updateElement(e,t,n,a){const i=t.content.skyIconName;i&&a.parentNode.style.setProperty("--post-icon",`url(https://e3.365dm.com/liveblog-icons/${i}.png)`);const o=t.content.skyPostType;o&&a.parentNode.setAttribute("data-post-type",o);const r=new Date(1e3*t.created).toLocaleTimeString(["en-GB"],{hour:"2-digit",minute:"2-digit"});return e.header||(e.header=document.createElement("div"),e.header.className="ncpost-header",e.header.id=t.id),e.header.innerHTML=`<div class="ncpost-timestamp">${r}</div>`,a.insertAdjacentElement("beforebegin",e.header),null}},a={shouldRun:()=>!0,updateElement:(e,t,n,a)=>t.content.linkMeta?(e.linkCard=e.linkCard||document.createElement("div"),e.hasImage=t.content.linkMeta.image&&!t.content.linkMeta.image.hide,e.linkCard.innerHTML=`\n      <a href="${t.content.linkMeta.url}" target="_blank" class="ncpost-link${e.hasImage?" ncpost-link-withimage":""}">\n        ${e.hasImage?`<span class="ncpost-link-image-wrap"><img src="${t.content.linkMeta.image.url}" loading="lazy" width="${t.content.linkMeta.image.width}" height="${t.content.linkMeta.image.height}" aria-hidden="true" class="ncpost-link-image"></span>`:""}\n        <div class="ncpost-link-body">\n          <div class="ncpost-link-title">${t.content.linkMeta.title}</div>\n          <div class="ncpost-link-site">${t.content.linkMeta.siteName}</div>\n        </div>\n      </a>\n    `,e.linkCard):null},i=(e,t)=>{t.container.setAttribute("data-new",!0)};function o(o){if(!o)return;((o,r,s)=>{r?r.channelId?r.tenantKey?s.NcPosts?(s.NcPosts.hookOptionsBeforeDefaults((n=>{n.extraInlineRenderers||(n.extraInlineRenderers=[]),n.extraInlineRenderers.push(e),n.extraInlineRenderers.push(t)})),s.NcPosts.hookOptionsAfterDefaults((e=>{s.NcPosts.replaceInstanceOf(e.postRenderers,s.NcPosts.HeaderRenderer,n),s.NcPosts.replaceInstanceOf(e.postRenderers,s.NcPosts.LinkCardRenderer,a)})),s.NcPosts.start({container:o.querySelector('[data-role="ui-liveblog-container"]'),showMoreElement:o.querySelector('[data-role="ui-liveblog-load-more"]'),channelId:15345,tenantKey:"sky-news-uat",extensionContainer:s.NcLiveCenterExtensions,postAdded:i})):console.error("No NcPosts object found"):console.error("No tenant set, please add add a data-tenant-key on the rootElement"):console.error("No channel id set, please add add a data-channel-id on the rootElement"):console.error("No config file provided")})(o,Object.assign({},o.dataset),window)}export default o;
