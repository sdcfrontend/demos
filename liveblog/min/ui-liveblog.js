var e={typeKey:"BILDE",renderElement:(e,t)=>{const n=document.createElement("img");n.className="ncpost-image",n.decoding="async",n.loading="lazy",n.src=t.getAttribute("data-src"),n.width=t.getAttribute("data-width"),n.height=t.getAttribute("data-height");let o=t.getAttribute("data-crops");if(o)try{o=JSON.parse(o),o.sort(((e,t)=>e.width-t.width)),n.srcset=o.map(((e,t)=>t===o.length-1?e.url:`${e.url} ${e.width}w`))}catch(e){console.error(e)}const a=t.getAttribute("data-url");if(a){const t=document.createElement("a");t.href=a,t.style.border="none",t.target="_blank",t.appendChild(n),e.appendChild(t)}else e.appendChild(n);const i=t.getAttribute("data-caption"),r=t.getAttribute("data-source");if(i||r){const t=document.createElement("p");if(t.className="ncpost-image-byline",t.setAttribute("aria-hidden","true"),i){const e=document.createElement("span");e.className="ncpost-image-byline-description",e.textContent=i,t.appendChild(e),n.alt=i}if(r){const e=document.createElement("span");e.className="ncpost-image-byline-source",e.textContent=r,t.appendChild(e)}!i&&r&&(n.alt=r),e.appendChild(t)}else n.setAttribute("aria-hidden","true")}},t={typeKey:"AZUREMP",renderElement:(e,t)=>{const n=document.createElement("script");n.onload=()=>{e.innerHTML='\n        <video id="azuremediaplayer" class="ui-liveblog-video"></video>\n      ';window.amp("azuremediaplayer",{autoplay:!1,controls:!1},(()=>{const t=e.querySelector("video");t.controls=!0,t.removeAttribute("oncontextmenu"),t.removeAttribute("tabindex"),t.removeAttribute("aria-hidden"),t.setAttribute("loading","lazy"),t.setAttribute("preload","metadata"),t.src=t.src+"#t=0.1"})).src([{src:t.getAttribute("data-manifest"),type:"application/vnd.ms-sstr+xml"}])},document.head.appendChild(n),n.src="//amp.azure.net/libs/amp/latest/azuremediaplayer.min.js"}},n={shouldRun(){return this.rootElement=this.rootElement||document.querySelector(".ui-liveblog"),!0},copyLink(e,t){e&&navigator.clipboard&&(e.onclick=n=>{n.preventDefault(),navigator.clipboard.writeText(t).then((()=>{e.setAttribute("data-is-copied",""),setTimeout((()=>{e.removeAttribute("data-is-copied","")}),1500)})).catch()})},getVar:(e,t)=>e?window.getComputedStyle(e).getPropertyValue(t).replace(/"/g,""):"",socialLinks:(e,t)=>({facebook:{link:`https://www.facebook.com/sharer/sharer.php?u=${t}&t=${e}`,svg:'<svg viewBox="0 0 20 19"><path clip-rule="evenodd" d="m19.6154 9.55806c0-5.27877-4.2533-9.55806-9.5-9.55806-5.24675 0-9.500044 4.27929-9.500044 9.55806 0 4.77074 3.474014 8.72494 8.015624 9.44194v-6.6791h-2.41211v-2.76284h2.41211v-2.10576c0-2.39549 1.41832-3.71868 3.58832-3.71868 1.0393 0 2.1265.18668 2.1265.18668v2.35218h-1.1979c-1.1801 0-1.5482.73677-1.5482 1.49264v1.79294h2.6348l-.4212 2.76284h-2.2136v6.6791c4.5416-.717 8.0157-4.6712 8.0157-9.44194" fill-rule="evenodd"/></svg>'},twitter:{link:`https://twitter.com/intent/tweet?text=${e}&url=${t}`,svg:'<svg viewBox="0 0 20 17"><path clip-rule="evenodd" d="m19.31 2.062c-.6982.3179-1.45.5329-2.238.629.8052-.494 1.423-1.277 1.714-2.211-.7539.4574-1.587.7902-2.477.9686-.7093-.7765-1.723-1.261-2.845-1.261-2.151 0-3.897 1.79-3.897 3.997 0 .3134.03345.6176.1004.9103-3.24-.167-6.111-1.757-8.035-4.178-.3357.5924-.5275 1.28-.5275 2.012 0 1.386.6881 2.61 1.734 3.327-.6379-.01944-1.24-.2013-1.767-.4986v.04917c0 1.937 1.344 3.553 3.128 3.919-.3268.09378-.6714.1407-1.027.1407-.2509 0-.4963-.02401-.7338-.0709.4963 1.587 1.935 2.744 3.641 2.774-1.334 1.073-3.016 1.712-4.841 1.712-.3145 0-.6256-.0183-.9301-.0549 1.725 1.132 3.775 1.794 5.975 1.794 7.171 0 11.09-6.09 11.09-11.37 0-.1738-.0034-.3477-.0101-.5181.7617-.5638 1.423-1.267 1.944-2.069" fill-rule="evenodd"/></svg>'},copy:{link:""+t,svg:'<svg viewBox="0 0 19 19"><path clip-rule="evenodd" d="m11 12.4c.46-.338 1.1-.395 1.62-.0914.71.41.954 1.32.543 2.03-.41.71-1.32.953-2.03.544-.527-.305-.794-.884-.732-1.45l-4.77-2.76c-.581.428-1.4.384-1.93-.142-.58-.58-.58-1.52 0-2.1.525-.525 1.34-.569 1.93-.142l4.77-2.76c-.0629-.568.205-1.15.732-1.45.71-.409 1.62-.166 2.03.544s.167 1.62-.543 2.03c-.526.305-1.16.248-1.62-.0908l-4.78 2.76c.0125.108.0125.216 0 .324zm-1.5-12.4c-5.25 0-9.5 4.25-9.5 9.5s4.25 9.5 9.5 9.5 9.5-4.25 9.5-9.5-4.25-9.5-9.5-9.5z" fill-rule="evenodd"/></svg>'}}),buildShareLink(e,t,n){return encodeURI(this.socialLinks(t,n)[e].link)},addShareLinks(e,t,n,o){const a=[n,o].join("?postid="),i=document.createElement("div");return i.className="ncpost-share-links",i.innerHTML=Object.entries(this.socialLinks()).map((e=>`<a href="${this.buildShareLink(e[0],t,a)}" class="ncpost-share-link ncpost-share-link--${e[0]}" target="_blank" title="${this.getVar(this.rootElement,"--post-share-label-"+e[0])}">${e[1].svg}</a>`)).join(""),this.copyLink(i.querySelector(".ncpost-share-link--copy"),a),i},updateElement(e,t,n,o){const a=t.content.skyIconName;a&&o.parentNode.style.setProperty("--post-icon",`url(https://e3.365dm.com/liveblog-icons/${a}.png)`);const i=t.content.skyPostType;i&&o.parentNode.setAttribute("data-post-type",i);const r=new Date(1e3*t.created).toLocaleTimeString(["en-GB"],{hour:"2-digit",minute:"2-digit"});return e.header||(e.header=document.createElement("div"),e.header.className="ncpost-header",e.header.innerHTML=`<div class="ncpost-timestamp">${r}</div>`),o.insertAdjacentElement("beforebegin",e.header),e.footer||(e.footer=document.createElement("div"),e.footer.className="ncpost-footer",e.footer.innerHTML='<div class="ncpost-label" aria-hidden="true"></div>',e.footer.insertAdjacentElement("beforeend",this.addShareLinks(o,t.title,window.location.origin+window.location.pathname,t.id))),o.insertAdjacentElement("beforeend",e.footer),null}},o={shouldRun:()=>!0,updateElement:(e,t)=>t.content.linkMeta?(e.linkCard=e.linkCard||document.createElement("div"),e.hasImage=t.content.linkMeta.image&&!t.content.linkMeta.image.hide,e.linkCard.innerHTML=`\n      <a href="${t.content.linkMeta.url}" target="_blank" class="ncpost-link${e.hasImage?" ncpost-link-withimage":""}">\n        ${e.hasImage?`<div class="ncpost-link-image-wrap"><img src="${t.content.linkMeta.image.url}" loading="lazy" width="${t.content.linkMeta.image.width}" height="${t.content.linkMeta.image.height}" aria-hidden="true" class="ncpost-link-image"></div>`:""}\n        <div class="ncpost-link-body">\n          <div class="ncpost-link-title">${t.content.linkMeta.title}</div>\n          <div class="ncpost-link-site">${t.content.linkMeta.siteName}<svg fill="none"  viewBox="0 0 27 27" aria-hidden="true"><path d="m26 13.5c0-6.90391-5.5961-12.5-12.5-12.5s-12.5 5.59609-12.5 12.5c0 6.9039 5.5961 12.5 12.5 12.5s12.5-5.5961 12.5-12.5" stroke="var(--link-color)" stroke-width=".779447"/><path clip-rule="evenodd" d="m19.1824 14.0523c.3055-.3054.3055-.7992 0-1.1047l-4.0781-4.07575c-.1274-.12578-.2586-.1875-.4133-.19375h-.0008c-.3523 0-.8258.61328-.9851.80625-.0329.03984-.0618.07578-.0868.10781l3.1266 3.12654h-9.08047c-.00547.0414-.01016.0867-.01563.1383-.02422.2492-.12734 1.0164.13203 1.2664v.0008c.11875.1047.25938.1539.4461.1555l8.51797.0015-3.1266 3.1266c.0258.032.0539.068.0868.1078.1593.193.6328.8063.9851.8063h.0008c.1547-.0063.2859-.068.4133-.1938z" fill="var(--link-color)" fill-rule="evenodd" stroke="none" /></svg></div>\n        </div>\n      </a>\n    `,e.linkCard):null},a=(e,t)=>{t.container.setAttribute("data-new",!0)},i=e=>{e&&(document.documentElement.style.scrollBehavior="auto",document.querySelector(".ncpost-linked").scrollIntoView(),document.documentElement.style.scrollBehavior=null)};function r(r){if(!r)return;((r,s,l)=>{if(!s)return void console.error("No config file provided");if(!s.channelId)return void console.error("No channel id set, please add add a data-channel-id on the rootElement");if(!s.tenantKey)return void console.error("No tenant set, please add add a data-tenant-key on the rootElement");if(!l.NcPosts)return void console.error("No NcPosts object found");var d;l.NcPosts.hookOptionsBeforeDefaults((n=>{n.extraInlineRenderers||(n.extraInlineRenderers=[]),n.extraInlineRenderers.push(e),n.extraInlineRenderers.push(t)})),l.NcPosts.hookOptionsAfterDefaults((e=>{l.NcPosts.replaceInstanceOf(e.postRenderers,l.NcPosts.HeaderRenderer,n),l.NcPosts.replaceInstanceOf(e.postRenderers,l.NcPosts.LinkCardRenderer,o)})),l.NcPosts.start({container:r.querySelector('[data-role="ui-liveblog-container"]'),showMoreElement:r.querySelector('[data-role="ui-liveblog-load-more"]'),channelId:s.channelId,tenantKey:s.tenantKey,extensionContainer:l.NcLiveCenterExtensions,postAdded:a,linkedPostId:(d=window.location.search,new URLSearchParams(d).get("postid"))}).linkedPostPromise.then(i)})(r,Object.assign({},r.dataset),window)}export default r;
