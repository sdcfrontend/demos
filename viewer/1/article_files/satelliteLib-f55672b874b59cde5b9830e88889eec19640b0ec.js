/*
 ============== DO NOT ALTER ANYTHING BELOW THIS LINE ! ============

 Adobe Visitor API for JavaScript version: 2.1.0
 Copyright 1996-2015 Adobe, Inc. All Rights Reserved
 More info available at http://www.omniture.com
*/
function Visitor(q,w){function x(e){return function(t){t=t||s.location.href;try{var i=a.Xa(t,e);if(i)return m.Hb(i)}catch(r){}}}function B(e){function t(e,t,a){return(a=a?a+="|":a)+(e+"=")+encodeURIComponent(t)}for(var a="",i=0,r=e.length;i<r;i++){var n,s=(n=e[i])[0];(n=n[1])!=j&&n!==u&&(a=t(s,n,a))}return(o=(o=a)?o+="|":o)+"TS="+m.Da();var o}if(!q)throw"Visitor requires Adobe Marketing Cloud Org ID";var a=this;a.version="2.1.0";var s=window,l=s.Visitor;l.version=a.version,s.s_c_in||(s.s_c_il=[],s.s_c_in=0),a._c="Visitor",a._il=s.s_c_il,a._in=s.s_c_in,a._il[a._in]=a,s.s_c_in++,a.na={La:[]};var v=s.document,j=l.Pb;j||(j=null);var F=l.Qb;F||(F=void 0);var i=l.Va;i||(i=!0);var k=l.Sa;k||(k=!1);var n={r:!!s.postMessage,Ra:1,ea:864e5,ba:"adobe_mc",ca:"adobe_mc_sdid",w:/^[0-9a-fA-F\-]+$/,Qa:5,Ta:/^\d+$/,fa:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/};a.Rb=n,a.ka=function(e){var t,a=0;if(e)for(t=0;t<e.length;t++)a=(a<<5)-a+e.charCodeAt(t),a&=a;return a},a.u=function(e,t){var a,r,n="0123456789",s="",l="",d=8,c=10,u=10;if(t===o&&(y.isClientSideMarketingCloudVisitorID=i),1==e){for(n+="ABCDEF",a=0;16>a;a++)r=Math.floor(Math.random()*d),s+=n.substring(r,r+1),r=Math.floor(Math.random()*d),l+=n.substring(r,r+1),d=16;return s+"-"+l}for(a=0;19>a;a++)r=Math.floor(Math.random()*c),s+=n.substring(r,r+1),0==a&&9==r?c=3:(1==a||2==a)&&10!=c&&2>r?c=10:2<a&&(c=10),r=Math.floor(Math.random()*u),l+=n.substring(r,r+1),0==a&&9==r?u=3:(1==a||2==a)&&10!=u&&2>r?u=10:2<a&&(u=10);return s+l},a.Ya=function(){var e;if(!e&&s.location&&(e=s.location.hostname),e)if(/^[0-9.]+$/.test(e))e="";else{var t=e.split("."),a=t.length-1,i=a-1;if(1<a&&2>=t[a].length&&(2==t[a-1].length||0>",ac,ad,ae,af,ag,ai,al,am,an,ao,aq,ar,as,at,au,aw,ax,az,ba,bb,be,bf,bg,bh,bi,bj,bm,bo,br,bs,bt,bv,bw,by,bz,ca,cc,cd,cf,cg,ch,ci,cl,cm,cn,co,cr,cu,cv,cw,cx,cz,de,dj,dk,dm,do,dz,ec,ee,eg,es,et,eu,fi,fm,fo,fr,ga,gb,gd,ge,gf,gg,gh,gi,gl,gm,gn,gp,gq,gr,gs,gt,gw,gy,hk,hm,hn,hr,ht,hu,id,ie,im,in,io,iq,ir,is,it,je,jo,jp,kg,ki,km,kn,kp,kr,ky,kz,la,lb,lc,li,lk,lr,ls,lt,lu,lv,ly,ma,mc,md,me,mg,mh,mk,ml,mn,mo,mp,mq,mr,ms,mt,mu,mv,mw,mx,my,na,nc,ne,nf,ng,nl,no,nr,nu,nz,om,pa,pe,pf,ph,pk,pl,pm,pn,pr,ps,pt,pw,py,qa,re,ro,rs,ru,rw,sa,sb,sc,sd,se,sg,sh,si,sj,sk,sl,sm,sn,so,sr,st,su,sv,sx,sy,sz,tc,td,tf,tg,th,tj,tk,tl,tm,tn,to,tp,tr,tt,tv,tw,tz,ua,ug,uk,us,uy,uz,va,vc,ve,vg,vi,vn,vu,wf,ws,yt,".indexOf(","+t[a]+","))&&i--,0<i)for(e="";a>=i;)e=t[a]+(e?".":"")+e,a--}return e},a.cookieRead=function(e){e=encodeURIComponent(e);var t=(";"+v.cookie).split(" ").join(";"),a=t.indexOf(";"+e+"="),i=0>a?a:t.indexOf(";",a+1);return 0>a?"":decodeURIComponent(t.substring(a+2+e.length,0>i?t.length:i))},a.cookieWrite=function(e,t,i){t=""+t;var r,n=(n=a.cookieLifetime)?(""+n).toUpperCase():"";return i&&"SESSION"!=n&&"NONE"!=n?(r=""!=t?parseInt(n||0,10):-60)?(i=new Date).setTime(i.getTime()+1e3*r):1==i&&(r=(i=new Date).getYear(),i.setYear(r+2+(1900>r?1900:0))):i=0,e&&"NONE"!=n?(v.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(i?" expires="+i.toGMTString()+";":"")+(a.cookieDomain?" domain="+a.cookieDomain+";":""),a.cookieRead(e)==t):0},a.h=j,a.z=function(e,t){try{"function"==typeof e?e.apply(s,t):e[1].apply(e[0],t)}catch(a){}},a.M=function(e,t){t&&(a.h==j&&(a.h={}),a.h[e]==F&&(a.h[e]=[]),a.h[e].push(t))},a.t=function(e,t){if(a.h!=j){var i=a.h[e];if(i)for(;0<i.length;)a.z(i.shift(),t)}},a.s=function(e,t,a,i){if(a=encodeURIComponent(t)+"="+encodeURIComponent(a),t=m.Fb(e),-1===(e=m.wb(e)).indexOf("?"))return e+"?"+a+t;var r=e.split("?");return(e=r[0]+"?")+(i=m.ib(r[1],a,i))+t},a.Xa=function(e,t){var a=RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);if(a&&a.length)return decodeURIComponent(a[1])},a.eb=x(n.ba),a.fb=x(n.ca),a.ha=function(){var e=a.fb(void 0);e&&e.SDID&&e[G]===q&&(a._supplementalDataIDCurrent=e.SDID,a._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=i)},a.ga=function(){var e=a.eb();if(e&&e.TS&&!(Math.floor((m.Da()-e.TS)/60)>n.Qa||e[G]!==q)){var i=e[o],s=a.setMarketingCloudVisitorID;i&&i.match(n.w)&&s(i),a.j(t,-1),e=e[r],i=a.setAnalyticsVisitorID,e&&e.match(n.w)&&i(e)}},a.cb=function(e){function t(e){m.Ga(e)&&a.setCustomerIDs(e)}function i(e){e=e||{},a._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",a._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},a._supplementalDataIDLast=e.supplementalDataIDLast||"",a._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}if(e)try{if((e=m.Ga(e)?e:m.Gb(e))[a.marketingCloudOrgID]){var r=e[a.marketingCloudOrgID];t(r.customerIDs),i(r.sdid)}}catch(n){throw Error("`serverState` has an invalid format.")}},a.l=j,a.$a=function(e,t,r,n){t=a.s(t,"d_fieldgroup",e,1),n.url=a.s(n.url,"d_fieldgroup",e,1),n.m=a.s(n.m,"d_fieldgroup",e,1),y.d[e]=i,n===Object(n)&&n.m&&"XMLHttpRequest"===a.pa.F.G?a.pa.rb(n,r,e):a.useCORSOnly||a.ab(e,t,r)},a.ab=function(e,t,r){var n,s=0,o=0;if(t&&v){for(n=0;!s&&2>n;){try{s=(s=v.getElementsByTagName(0<n?"HEAD":"head"))&&0<s.length?s[0]:0}catch(d){s=0}n++}if(!s)try{v.body&&(s=v.body)}catch(k){s=0}if(s)for(n=0;!o&&2>n;){try{o=v.createElement(0<n?"SCRIPT":"script")}catch(l){o=0}n++}}t&&s&&o?(o.type="text/javascript",o.src=t,s.firstChild?s.insertBefore(o,s.firstChild):s.appendChild(o),s=a.loadTimeout,p.d[e]={requestStart:p.p(),url:t,xa:s,va:p.Ca(),wa:0},r&&(a.l==j&&(a.l={}),a.l[e]=setTimeout(function(){r(i)},s)),a.na.La.push(t)):r&&r()},a.Wa=function(e){a.l!=j&&a.l[e]&&(clearTimeout(a.l[e]),a.l[e]=0)},a.la=k,a.ma=k,a.isAllowed=function(){return!a.la&&(a.la=i,a.cookieRead(a.cookieName)||a.cookieWrite(a.cookieName,"T",1))&&(a.ma=i),a.ma},a.b=j,a.c=j;var H=l.gc;H||(H="MC");var o=l.nc;o||(o="MCMID");var G=l.kc;G||(G="MCORGID");var I=l.hc;I||(I="MCCIDH");var M=l.lc;M||(M="MCSYNCS");var K=l.mc;K||(K="MCSYNCSOP");var L=l.ic;L||(L="MCIDTS");var C=l.jc;C||(C="MCOPTOUT");var E=l.ec;E||(E="A");var r=l.bc;r||(r="MCAID");var D=l.fc;D||(D="AAM");var A=l.dc;A||(A="MCAAMLH");var t=l.cc;t||(t="MCAAMB");var u=l.oc;u||(u="NONE"),a.N=0,a.ja=function(){if(!a.N){var e=a.version;a.audienceManagerServer&&(e+="|"+a.audienceManagerServer),a.audienceManagerServerSecure&&(e+="|"+a.audienceManagerServerSecure),a.N=a.ka(e)}return a.N},a.oa=k,a.f=function(){if(!a.oa){a.oa=i;var e,t,s,o,l=a.ja(),d=k,c=a.cookieRead(a.cookieName),u=new Date;if(a.b==j&&(a.b={}),c&&"T"!=c)for((c=c.split("|"))[0].match(/^[\-0-9]+$/)&&(parseInt(c[0],10)!=l&&(d=i),c.shift()),1==c.length%2&&c.pop(),l=0;l<c.length;l+=2)t=(e=c[l].split("-"))[0],s=c[l+1],1<e.length?(o=parseInt(e[1],10),e=0<e[1].indexOf("s")):(o=0,e=k),d&&(t==I&&(s=""),0<o&&(o=u.getTime()/1e3-60)),t&&s&&(a.e(t,s,1),0<o&&(a.b["expire"+t]=o+(e?"s":""),u.getTime()>=1e3*o||e&&!a.cookieRead(a.sessionCookieName)))&&(a.c||(a.c={}),a.c[t]=i);!a.a(r)&&m.o()&&(c=a.cookieRead("s_vi"))&&(1<(c=c.split("|")).length&&0<=c[0].indexOf("v1")&&(0<=(l=(s=c[1]).indexOf("["))&&(s=s.substring(0,l)),s&&s.match(n.w)&&a.e(r,s)))}},a._appendVersionTo=function(e){var t="vVersion|"+a.version,i=Boolean(e)?a._getCookieVersion(e):null;return i?m.jb(i,a.version)&&(e=e.replace(n.fa,t)):e+=(e?"|":"")+t,e},a.hb=function(){var e,t,i=a.ja();for(e in a.b)!Object.prototype[e]&&a.b[e]&&"expire"!=e.substring(0,6)&&(t=a.b[e],i+=(i?"|":"")+e+(a.b["expire"+e]?"-"+a.b["expire"+e]:"")+"|"+t);i=a._appendVersionTo(i),a.cookieWrite(a.cookieName,i,1)},a.a=function(e,t){return a.b==j||!t&&a.c&&a.c[e]?j:a.b[e]},a.e=function(e,t,i){a.b==j&&(a.b={}),a.b[e]=t,i||a.hb()},a.Za=function(e,t){var i=a.a(e,t);return i?i.split("*"):j},a.gb=function(e,t,i){a.e(e,t?t.join("*"):"",i)},a.Wb=function(e,t){var i=a.Za(e,t);if(i){var r,n={};for(r=0;r<i.length;r+=2)n[i[r]]=i[r+1];return n}return j},a.Yb=function(e,t,i){var r,n=j;if(t)for(r in n=[],t)Object.prototype[r]||(n.push(r),n.push(t[r]));a.gb(e,n,i)},a.j=function(e,t,r){var n=new Date;n.setTime(n.getTime()+1e3*t),a.b==j&&(a.b={}),a.b["expire"+e]=Math.floor(n.getTime()/1e3)+(r?"s":""),0>t?(a.c||(a.c={}),a.c[e]=i):a.c&&(a.c[e]=k),r&&(a.cookieRead(a.sessionCookieName)||a.cookieWrite(a.sessionCookieName,"1"))},a.ia=function(e){return e&&("object"==typeof e&&(e=e.d_mid?e.d_mid:e.visitorID?e.visitorID:e.id?e.id:e.uuid?e.uuid:""+e),e&&("NOTARGET"==(e=e.toUpperCase())&&(e=u)),!e||e!=u&&!e.match(n.w))&&(e=""),e},a.k=function(e,n){if(a.Wa(e),a.i!=j&&(a.i[e]=k),p.d[e]&&(p.d[e].Nb=p.p(),p.J(e)),y.d[e]&&y.Na(e,k),e==H){y.isClientSideMarketingCloudVisitorID!==i&&(y.isClientSideMarketingCloudVisitorID=k);var s=a.a(o);if(!s||a.overwriteCrossDomainMCIDAndAID){if(!(s="object"==typeof n&&n.mid?n.mid:a.ia(n))){if(a.D)return void a.getAnalyticsVisitorID(j,k,i);s=a.u(0,o)}a.e(o,s)}s&&s!=u||(s=""),"object"==typeof n&&((n.d_region||n.dcs_region||n.d_blob||n.blob)&&a.k(D,n),a.D&&n.mid&&a.k(E,{id:n.id})),a.t(o,[s])}if(e==D&&"object"==typeof n){s=604800,n.id_sync_ttl!=F&&n.id_sync_ttl&&(s=parseInt(n.id_sync_ttl,10));var l=a.a(A);l||((l=n.d_region)||(l=n.dcs_region),l&&(a.j(A,s),a.e(A,l))),l||(l=""),a.t(A,[l]),l=a.a(t),(n.d_blob||n.blob)&&((l=n.d_blob)||(l=n.blob),a.j(t,s),a.e(t,l)),l||(l=""),a.t(t,[l]),!n.error_msg&&a.C&&a.e(I,a.C)}var d;(e==E&&((s=a.a(r))&&!a.overwriteCrossDomainMCIDAndAID||((s=a.ia(n))?s!==u&&a.j(t,-1):s=u,a.e(r,s)),s&&s!=u||(s=""),a.t(r,[s])),a.idSyncDisableSyncs?z.Ea=i:(z.Ea=k,(s={}).ibs=n.ibs,s.subdomain=n.subdomain,z.Ib(s)),n===Object(n))&&(a.isAllowed()&&(d=a.a(C)),d||(d=u,n.d_optout&&n.d_optout instanceof Array&&(d=n.d_optout.join(",")),s=parseInt(n.d_ottl,10),isNaN(s)&&(s=7200),a.j(C,s,i),a.e(C,d)),a.t(C,[d]))},a.i=j,a.v=function(e,n,s,l,d){var c,g="",f=m.yb(e);if(a.isAllowed())if(a.f(),!(!(g=a.a(e,N[e]===i))||a.c&&a.c[e])||a.disableThirdPartyCalls&&!f)g||(e===o?(a.M(e,s),g=a.u(0,o),a.setMarketingCloudVisitorID(g)):e===r?(a.M(e,s),g="",a.setAnalyticsVisitorID(g)):(g="",l=i));else if(e==o||e==C?c=H:e==A||e==t?c=D:e==r&&(c=E),c)return!n||a.i!=j&&a.i[c]||(a.i==j&&(a.i={}),a.i[c]=i,a.$a(c,n,function(t){a.a(e)||(p.d[c]&&(p.d[c].timeout=p.p(),p.d[c].xb=!!t,p.J(c)),t&&y.Na(c,i),t="",e==o?t=a.u(0,o):c==D&&(t={error_msg:"timeout"}),a.k(c,t))},d)),a.M(e,s),g||(n||a.k(c,{id:u}),"");return e!=o&&e!=r||g!=u||(g="",l=i),s&&l&&a.z(s,[g]),g},a._setMarketingCloudFields=function(e){a.f(),a.k(H,e)},a.setMarketingCloudVisitorID=function(e){a._setMarketingCloudFields(e)},a.D=k,a.getMarketingCloudVisitorID=function(e,t){if(a.isAllowed()){a.marketingCloudServer&&0>a.marketingCloudServer.indexOf(".demdex.net")&&(a.D=i);var r=a.B("_setMarketingCloudFields");return a.v(o,r.url,e,t,r)}return""},a.bb=function(e){a.getAudienceManagerBlob(e,i)},l.AuthState={UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},a.A={},a.K=k,a.C="",a.setCustomerIDs=function(e){if(a.isAllowed()&&e){var t,r;for(t in a.f(),e)if(!Object.prototype[t]&&(r=e[t]))if("object"==typeof r){var n={};r.id&&(n.id=r.id),r.authState!=F&&(n.authState=r.authState),a.A[t]=n}else a.A[t]={id:r};e=a.getCustomerIDs(),n=a.a(I);var s="";for(t in n||(n=0),e)Object.prototype[t]||(s+=(s?"|":"")+t+"|"+((r=e[t]).id?r.id:"")+(r.authState?r.authState:""));a.C=a.ka(s),a.C!=n&&(a.K=i,a.bb(function(){a.K=k}))}},a.getCustomerIDs=function(){a.f();var e,t,i={};for(e in a.A)Object.prototype[e]||(t=a.A[e],i[e]||(i[e]={}),t.id&&(i[e].id=t.id),i[e].authState=t.authState!=F?t.authState:l.AuthState.UNKNOWN);return i},a._setAnalyticsFields=function(e){a.f(),a.k(E,e)},a.setAnalyticsVisitorID=function(e){a._setAnalyticsFields(e)},a.getAnalyticsVisitorID=function(e,t,n){if(!m.o()&&!n)return a.z(e,[""]),"";if(a.isAllowed()){var s="";if(n||(s=a.getMarketingCloudVisitorID(function(){a.getAnalyticsVisitorID(e,i)})),s||n){var l=n?a.marketingCloudServer:a.trackingServer,d="";a.loadSSL&&(n?a.marketingCloudServerSecure&&(l=a.marketingCloudServerSecure):a.trackingServerSecure&&(l=a.trackingServerSecure));var c={};if(l){l="http"+(a.loadSSL?"s":"")+"://"+l+"/id",s="d_visid_ver="+a.version+"&mcorgid="+encodeURIComponent(a.marketingCloudOrgID)+(s?"&mid="+encodeURIComponent(s):"")+(a.idSyncDisable3rdPartySyncing?"&d_coppa=true":"");var u=["s_c_il",a._in,"_set"+(n?"MarketingCloud":"Analytics")+"Fields"];d=l+"?"+s+"&callback=s_c_il%5B"+a._in+"%5D._set"+(n?"MarketingCloud":"Analytics")+"Fields";c.m=l+"?"+s,c.sa=u}return c.url=d,a.v(n?o:r,d,e,t,c)}}return""},a._setAudienceManagerFields=function(e){a.f(),a.k(D,e)},a.B=function(e){var n=a.audienceManagerServer,s="",l=a.a(o),d=a.a(t,i),c=(c=a.a(r))&&c!=u?"&d_cid_ic=AVID%01"+encodeURIComponent(c):"";if(a.loadSSL&&a.audienceManagerServerSecure&&(n=a.audienceManagerServerSecure),n){var g,p;if(s=a.getCustomerIDs())for(g in s)Object.prototype[g]||(p=s[g],c+="&d_cid_ic="+encodeURIComponent(g)+"%01"+encodeURIComponent(p.id?p.id:"")+(p.authState?"%01"+p.authState:""));return e||(e="_setAudienceManagerFields"),n="http"+(a.loadSSL?"s":"")+"://"+n+"/id",l="d_visid_ver="+a.version+"&d_rtbd=json&d_ver=2"+(!l&&a.D?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(a.marketingCloudOrgID)+"&d_nsid="+(a.idSyncContainerID||0)+(l?"&d_mid="+encodeURIComponent(l):"")+(a.idSyncDisable3rdPartySyncing?"&d_coppa=true":"")+(d?"&d_blob="+encodeURIComponent(d):"")+c,d=["s_c_il",a._in,e],{url:s=n+"?"+l+"&d_cb=s_c_il%5B"+a._in+"%5D."+e,m:n+"?"+l,sa:d}}return{url:s}},a.getAudienceManagerLocationHint=function(e,t){if(a.isAllowed()&&a.getMarketingCloudVisitorID(function(){a.getAudienceManagerLocationHint(e,i)})){var n=a.a(r);if(!n&&m.o()&&(n=a.getAnalyticsVisitorID(function(){a.getAudienceManagerLocationHint(e,i)})),n||!m.o())return n=a.B(),a.v(A,n.url,e,t,n)}return""},a.getLocationHint=a.getAudienceManagerLocationHint,a.getAudienceManagerBlob=function(e,n){if(a.isAllowed()&&a.getMarketingCloudVisitorID(function(){a.getAudienceManagerBlob(e,i)})&&(!(s=a.a(r))&&m.o()&&(s=a.getAnalyticsVisitorID(function(){a.getAudienceManagerBlob(e,i)})),s||!m.o())){var s,o=(s=a.B()).url;return a.K&&a.j(t,-1),a.v(t,o,e,n,s)}return""},a._supplementalDataIDCurrent="",a._supplementalDataIDCurrentConsumed={},a._supplementalDataIDLast="",a._supplementalDataIDLastConsumed={},a.getSupplementalDataID=function(e,t){!a._supplementalDataIDCurrent&&!t&&(a._supplementalDataIDCurrent=a.u(1));var r=a._supplementalDataIDCurrent;return a._supplementalDataIDLast&&!a._supplementalDataIDLastConsumed[e]?(r=a._supplementalDataIDLast,a._supplementalDataIDLastConsumed[e]=i):r&&(a._supplementalDataIDCurrentConsumed[e]&&(a._supplementalDataIDLast=a._supplementalDataIDCurrent,a._supplementalDataIDLastConsumed=a._supplementalDataIDCurrentConsumed,a._supplementalDataIDCurrent=r=t?"":a.u(1),a._supplementalDataIDCurrentConsumed={}),r&&(a._supplementalDataIDCurrentConsumed[e]=i)),r},l.OptOut={GLOBAL:"global"},a.getOptOut=function(e,t){if(a.isAllowed()){var i=a.B("_setMarketingCloudFields");return a.v(C,i.url,e,t,i)}return""},a.isOptedOut=function(e,t,i){return a.isAllowed()?(t||(t=l.OptOut.GLOBAL),(i=a.getOptOut(function(i){a.z(e,[i==l.OptOut.GLOBAL||0<=i.indexOf(t)])},i))?i==l.OptOut.GLOBAL||0<=i.indexOf(t):j):k},a.appendVisitorIDsTo=function(e){var t=n.ba,i=B([[o,a.a(o)],[r,a.a(r)],[G,a.marketingCloudOrgID]]);try{return a.s(e,t,i)}catch(s){return e}},a.appendSupplementalDataIDTo=function(e,t){if(!(t=t||a.getSupplementalDataID(m.sb(),!0)))return e;var i,r=n.ca;i="SDID="+encodeURIComponent(t)+"|"+G+"="+encodeURIComponent(a.marketingCloudOrgID);try{return a.s(e,r,i)}catch(s){return e}},a.ra={postMessage:function(e,t,a){var i=1;t&&(n.r?a.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(a.location=t.replace(/#.*$/,"")+"#"+ +new Date+i+++"&"+e))},X:function(e,t){var a;try{n.r&&(e&&(a=function(a){if("string"==typeof t&&a.origin!==t||"[object Function]"===Object.prototype.toString.call(t)&&!1===t(a.origin))return!1;e(a)}),window.addEventListener?window[e?"addEventListener":"removeEventListener"]("message",a,!1):window[e?"attachEvent":"detachEvent"]("onmessage",a))}catch(i){}}};var m={O:v.addEventListener?function(e,t,a){e.addEventListener(t,function(e){"function"==typeof a&&a(e)},k)}:v.attachEvent?function(e,t,a){e.attachEvent("on"+t,function(e){"function"==typeof a&&a(e)})}:void 0,map:function(e,t){if(Array.prototype.map)return e.map(t);if(void 0===e||e===j)throw new TypeError;var a=Object(e),i=a.length>>>0;if("function"!=typeof t)throw new TypeError;for(var r=Array(i),n=0;n<i;n++)n in a&&(r[n]=t.call(t,a[n],n,a));return r},za:function(e,t){return this.map(e,function(e){return encodeURIComponent(e)}).join(t)},Fb:function(e){var t=e.indexOf("#");return 0<t?e.substr(t):""},wb:function(e){var t=e.indexOf("#");return 0<t?e.substr(0,t):e},ib:function(e,t,a){return e=e.split("&"),a=a!=j?a:e.length,e.splice(a,0,t),e.join("&")},yb:function(e,t,i){return e!==r?k:(t||(t=a.trackingServer),i||(i=a.trackingServerSecure),"string"==typeof(e=a.loadSSL?i:t)&&e.length?0>e.indexOf("2o7.net")&&0>e.indexOf("omtrdc.net"):k)},Ga:function(e){return Boolean(e&&e===Object(e))},zb:function(e,t){return 0>a._compareVersions(e,t)},jb:function(e,t){return 0!==a._compareVersions(e,t)},Mb:function(e){document.cookie=encodeURIComponent(e)+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"},o:function(){return!!a.trackingServer||!!a.trackingServerSecure},Gb:function(a,b){function c(e,t){var a,i,r=e[t];if(r&&"object"==typeof r)for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(void 0!==(i=c(r,a))?r[a]=i:delete r[a]);return b.call(e,t,r)}if("object"==typeof JSON&&"function"==typeof JSON.parse)return JSON.parse(a,b);var e;if(e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a=""+a,e.lastIndex=0,e.test(a)&&(a=a.replace(e,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"==typeof b?c({"":e},""):e;throw new SyntaxError("JSON.parse")},Da:function(){return Math.round((new Date).getTime()/1e3)},Hb:function(e){for(var t={},a=0,i=(e=e.split("|")).length;a<i;a++){var r=e[a].split("=");t[r[0]]=decodeURIComponent(r[1])}return t},sb:function(e){e=e||5;for(var t="";e--;)t+="abcdefghijklmnopqrstuvwxyz0123456789"[Math.floor(36*Math.random())];return t}},Be,Ce;a.Xb=m,a.pa={F:(Be="none",Ce=i,"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?Be="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(Ce=k),0<Object.prototype.toString.call(window.Ob).indexOf("Constructor")&&(Ce=k)),{G:Be,$b:Ce}),tb:function(){return"none"===this.F.G?j:new window[this.F.G]},rb:function(e,t,r){var n=this;t&&(e.U=t);try{var s=this.tb();s.open("get",e.m+"&ts="+(new Date).getTime(),i),"XMLHttpRequest"===this.F.G&&(s.withCredentials=i,s.timeout=a.loadTimeout,s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.onreadystatechange=function(){if(4===this.readyState&&200===this.status)e:{var a;try{if((a=JSON.parse(this.responseText))!==Object(a)){n.n(e,j,"Response is not JSON");break e}}catch(t){n.n(e,t,"Error parsing response as JSON");break e}try{for(var r=e.sa,s=window,o=0;o<r.length;o++)s=s[r[o]];s(a)}catch(i){n.n(e,i,"Error forming callback function")}}}),s.onerror=function(t){n.n(e,t,"onerror")},s.ontimeout=function(t){n.n(e,t,"ontimeout")},s.send(),p.d[r]={requestStart:p.p(),url:e.m,xa:s.timeout,va:p.Ca(),wa:1},a.na.La.push(e.m)}catch(o){this.n(e,o,"try-catch")}},n:function(e,t,r){a.CORSErrors.push({ac:e,error:t,description:r}),e.U&&("ontimeout"===r?e.U(i):e.U(k))}};var z={Ua:3e4,da:649,Pa:k,id:j,W:[],S:j,Ba:function(e){if("string"==typeof e)return(e=e.split("/"))[0]+"//"+e[2]},g:j,url:j,ub:function(){var e="http://fast.",t="?d_nsid="+a.idSyncContainerID+"#"+encodeURIComponent(v.location.href);return this.g||(this.g="nosubdomainreturned"),a.loadSSL&&(e=a.idSyncSSLUseAkamai?"https://fast.":"https://"),e=e+this.g+".demdex.net/dest5.html"+t,this.S=this.Ba(e),this.id="destination_publishing_iframe_"+this.g+"_"+a.idSyncContainerID,e},mb:function(){var e="?d_nsid="+a.idSyncContainerID+"#"+encodeURIComponent(v.location.href);"string"==typeof a.L&&a.L.length&&(this.id="destination_publishing_iframe_"+(new Date).getTime()+"_"+a.idSyncContainerID,this.S=this.Ba(a.L),this.url=a.L+e)},Ea:j,ya:k,Z:k,H:j,pc:j,Eb:j,qc:j,Y:k,I:[],Cb:[],Db:[],Ha:n.r?15:100,T:[],Ab:[],ta:i,Ka:k,Ja:function(){return!a.idSyncDisable3rdPartySyncing&&(this.ya||a.Tb)&&this.g&&"nosubdomainreturned"!==this.g&&this.url&&!this.Z},Q:function(){function e(){(r=document.createElement("iframe")).sandbox="allow-scripts allow-same-origin",r.title="Adobe ID Syncing iFrame",r.id=a.id,r.style.cssText="display: none; width: 0; height: 0;",r.src=a.url,a.Eb=i,t(),document.body.appendChild(r)}function t(){m.O(r,"load",function(){r.className="aamIframeLoaded",a.H=i,a.q()})}this.Z=i;var a=this,r=document.getElementById(this.id);r?"IFRAME"!==r.nodeName?(this.id+="_2",e()):"aamIframeLoaded"!==r.className?t():(this.H=i,this.Fa=r,this.q()):e(),this.Fa=r},q:function(e){var t=this;e===Object(e)&&(this.T.push(e),this.Jb(e)),(this.Ka||!n.r||this.H)&&this.T.length&&(this.J(this.T.shift()),this.q()),!a.idSyncDisableSyncs&&this.H&&this.I.length&&!this.Y&&(this.Pa||(this.Pa=i,setTimeout(function(){t.Ha=n.r?15:150},this.Ua)),this.Y=i,this.Ma())},Jb:function(e){var t,a,i;if((t=e.ibs)&&t instanceof Array&&(a=t.length))for(e=0;e<a;e++)(i=t[e]).syncOnPage&&this.ua(i,"","syncOnPage")},J:function(e){var t,a,i,r,n,s=encodeURIComponent;if((t=e.ibs)&&t instanceof Array&&(a=t.length))for(i=0;i<a;i++)r=t[i],n=[s("ibs"),s(r.id||""),s(r.tag||""),m.za(r.url||[],","),s(r.ttl||""),"","",r.fireURLSync?"true":"false"],r.syncOnPage||(this.ta?this.P(n.join("|")):r.fireURLSync&&this.ua(r,n.join("|")));this.Ab.push(e)},ua:function(e,t,r){var s=(r="syncOnPage"===r?i:k)?K:M;a.f();var o=a.a(s),l=k,d=k,c=Math.ceil((new Date).getTime()/n.ea);o?(o=o.split("*"),l=(d=this.Kb(o,e.id,c)).pb,d=d.qb,(!l||!d)&&this.Aa(r,e,t,o,s,c)):(o=[],this.Aa(r,e,t,o,s,c))},Kb:function(e,t,a){var r,n,s,o=k,l=k;for(n=0;n<e.length;n++)r=e[n],s=parseInt(r.split("-")[1],10),r.match("^"+t+"-")?(o=i,a<s?l=i:(e.splice(n,1),n--)):a>=s&&(e.splice(n,1),n--);return{pb:o,qb:l}},Bb:function(e){if(e.join("*").length>this.da)for(e.sort(function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)});e.join("*").length>this.da;)e.shift()},Aa:function(e,t,i,r,n,s){var o=this;if(e){if("img"===t.tag){var l,d,c;e=t.url,i=a.loadSSL?"https:":"http:";for(r=0,l=e.length;r<l;r++){d=e[r],c=/^\/\//.test(d);var u=new Image;m.O(u,"load",function(e,t,i,r){return function(){o.W[e]=j,a.f();var s,l,d,c,u=[];if(s=a.a(n))for(l=0,d=(s=s.split("*")).length;l<d;l++)(c=s[l]).match("^"+t.id+"-")||u.push(c);o.Oa(u,t,i,r)}}(this.W.length,t,n,s)),u.src=(c?i:"")+d,this.W.push(u)}}}else this.P(i),this.Oa(r,t,n,s)},P:function(e){var t=encodeURIComponent;this.I.push((a.Ub?t("---destpub-debug---"):t("---destpub---"))+e)},Oa:function(e,t,i,r){e.push(t.id+"-"+(r+Math.ceil(t.ttl/60/24))),this.Bb(e),a.e(i,e.join("*"))},Ma:function(){var e,t=this;this.I.length?(e=this.I.shift(),a.ra.postMessage(e,this.url,this.Fa.contentWindow),this.Cb.push(e),setTimeout(function(){t.Ma()},this.Ha)):this.Y=k},X:function(e){var t=/^---destpub-to-parent---/;"string"==typeof e&&t.test(e)&&("canSetThirdPartyCookies"===(t=e.replace(t,"").split("|"))[0]&&(this.ta="true"===t[1]?i:k,this.Ka=i,this.q()),this.Db.push(e))},Ib:function(e){(this.url===j||e.subdomain&&"nosubdomainreturned"===this.g)&&(this.g="string"==typeof a.qa&&a.qa.length?a.qa:e.subdomain||"",this.url=this.ub()),e.ibs instanceof Array&&e.ibs.length&&(this.ya=i),this.Ja()&&(a.idSyncAttachIframeOnWindowLoad?(l.aa||"complete"===v.readyState||"loaded"===v.readyState)&&this.Q():this.kb()),"function"==typeof a.idSyncIDCallResult?a.idSyncIDCallResult(e):this.q(e),"function"==typeof a.idSyncAfterIDCallResult&&a.idSyncAfterIDCallResult(e)},lb:function(e,t){return a.Vb||!e||t-e>n.Ra},kb:function(){function e(){t.Z||(document.body?t.Q():setTimeout(e,30))}var t=this;e()}};a.Sb=z,a.timeoutMetricsLog=[];var p={ob:window.performance&&window.performance.timing?1:0,Ia:window.performance&&window.performance.timing?window.performance.timing:j,$:j,R:j,d:{},V:[],send:function(e){if(a.takeTimeoutMetrics&&e===Object(e)){var t,i=[],r=encodeURIComponent;for(t in e)e.hasOwnProperty(t)&&i.push(r(t)+"="+r(e[t]));e="http"+(a.loadSSL?"s":"")+"://dpm.demdex.net/event?d_visid_ver="+a.version+"&d_visid_stg_timeout="+a.loadTimeout+"&"+i.join("&")+"&d_orgid="+r(a.marketingCloudOrgID)+"&d_timingapi="+this.ob+"&d_winload="+this.vb()+"&d_ld="+this.p(),(new Image).src=e,a.timeoutMetricsLog.push(e)}},vb:function(){return this.R===j&&(this.R=this.Ia?this.$-this.Ia.navigationStart:this.$-l.nb),this.R},p:function(){return(new Date).getTime()},J:function(e){var t=this.d[e],a={};a.d_visid_stg_timeout_captured=t.xa,a.d_visid_cors=t.wa,a.d_fieldgroup=e,a.d_settimeout_overriden=t.va,t.timeout?t.xb?(a.d_visid_timedout=1,a.d_visid_timeout=t.timeout-t.requestStart,a.d_visid_response=-1):(a.d_visid_timedout="n/a",a.d_visid_timeout="n/a",a.d_visid_response="n/a"):(a.d_visid_timedout=0,a.d_visid_timeout=-1,a.d_visid_response=t.Nb-t.requestStart),a.d_visid_url=t.url,l.aa?this.send(a):this.V.push(a),delete this.d[e]},Lb:function(){for(var e=0,t=this.V.length;e<t;e++)this.send(this.V[e])},Ca:function(){return"function"==typeof setTimeout.toString?-1<setTimeout.toString().indexOf("[native code]")?0:1:-1}};a.Zb=p;var y={isClientSideMarketingCloudVisitorID:j,MCIDCallTimedOut:j,AnalyticsIDCallTimedOut:j,AAMIDCallTimedOut:j,d:{},Na:function(e,t){switch(e){case H:t===k?this.MCIDCallTimedOut!==i&&(this.MCIDCallTimedOut=k):this.MCIDCallTimedOut=t;break;case E:t===k?this.AnalyticsIDCallTimedOut!==i&&(this.AnalyticsIDCallTimedOut=k):this.AnalyticsIDCallTimedOut=t;break;case D:t===k?this.AAMIDCallTimedOut!==i&&(this.AAMIDCallTimedOut=k):this.AAMIDCallTimedOut=t}}};a.isClientSideMarketingCloudVisitorID=function(){return y.isClientSideMarketingCloudVisitorID},a.MCIDCallTimedOut=function(){return y.MCIDCallTimedOut},a.AnalyticsIDCallTimedOut=function(){return y.AnalyticsIDCallTimedOut},a.AAMIDCallTimedOut=function(){return y.AAMIDCallTimedOut},a.idSyncGetOnPageSyncInfo=function(){return a.f(),a.a(K)},a.idSyncByURL=function(e){var t;t=(s=e||{}).minutesToLive;var i="";if(a.idSyncDisableSyncs&&(i=i||"Error: id syncs have been disabled"),"string"==typeof s.dpid&&s.dpid.length||(i=i||"Error: config.dpid is empty"),"string"==typeof s.url&&s.url.length||(i=i||"Error: config.url is empty"),void 0===t?t=20160:(t=parseInt(t,10),(isNaN(t)||0>=t)&&(i=i||"Error: config.minutesToLive needs to be a positive number")),(t={error:i,rc:t}).error)return t.error;i=e.url;var r,n=encodeURIComponent,s=z;i=i.replace(/^https:/,"").replace(/^http:/,"");return r=m.za(["",e.dpid,e.dpuuid||""],","),e=["ibs",n(e.dpid),"img",n(i),t.ttl,"",r],s.P(e.join("|")),s.q(),"Successfully queued"},a.idSyncByDataSource=function(e){return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,a.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},a._compareVersions=function(e,t){if(e===t)return 0;var a,r=e.toString().split("."),s=t.toString().split(".");e:{for(var o=0,l=(a=r.concat(s)).length;o<l;o++)if(!n.Ta.test(a[o])){a=k;break e}a=i}if(!a)return NaN;for(;r.length<s.length;)r.push("0");for(;s.length<r.length;)s.push("0");e:{for(a=0;a<r.length;a++){if((o=parseInt(r[a],10))>(l=parseInt(s[a],10))){r=1;break e}if(l>o){r=-1;break e}}r=0}return r},a._getCookieVersion=function(e){return e=e||a.cookieRead(a.cookieName),(e=n.fa.exec(e))&&1<e.length?e[1]:null},a._resetAmcvCookie=function(e){var t=a._getCookieVersion();(!t||m.zb(t,e))&&m.Mb(a.cookieName)},0>q.indexOf("@")&&(q+="@AdobeOrg"),a.marketingCloudOrgID=q,a.cookieName="AMCV_"+q,a.sessionCookieName="AMCVS_"+q,a.cookieDomain=a.Ya(),a.cookieDomain==s.location.hostname&&(a.cookieDomain=""),a.loadSSL=0<=s.location.protocol.toLowerCase().indexOf("https"),a.loadTimeout=3e4,a.CORSErrors=[],a.marketingCloudServer=a.audienceManagerServer="dpm.demdex.net";var N={};if(N[A]=i,N[t]=i,w&&"object"==typeof w){for(var J in w)!Object.prototype[J]&&(a[J]=w[J]);a.idSyncContainerID=a.idSyncContainerID||0,a.resetBeforeVersion&&a._resetAmcvCookie(a.resetBeforeVersion),a.ga(),a.ha(),a.f(),J=a.a(L);var O=Math.ceil((new Date).getTime()/n.ea);!a.idSyncDisableSyncs&&z.lb(J,O)&&(a.j(t,-1),a.e(L,O)),a.getMarketingCloudVisitorID(),a.getAudienceManagerLocationHint(),a.getAudienceManagerBlob(),a.cb(a.serverState)}else a.ga(),a.ha();if(!a.idSyncDisableSyncs){z.mb(),m.O(window,"load",function(){l.aa=i,p.$=p.p(),p.Lb();var e=z;e.Ja()&&e.Q()});try{a.ra.X(function(e){z.X(e.data)},z.S)}catch(P){}}}Visitor.getInstance=function(e,t){var a,i,r=window.s_c_il;if(0>e.indexOf("@")&&(e+="@AdobeOrg"),r)for(i=0;i<r.length;i++)if((a=r[i])&&"Visitor"==a._c&&a.marketingCloudOrgID==e)return a;return new Visitor(e,t)},function(){function e(){t.aa=a}var t=window.Visitor,a=t.Va,i=t.Sa;a||(a=!0),i||(i=!1),window.addEventListener?window.addEventListener("load",e):window.attachEvent&&window.attachEvent("onload",e),t.nb=(new Date).getTime()}(),
// All code and conventions are protected by copyright
function(e,t,a){function i(){E.addEventHandler(e,"orientationchange",i.orientationChange)}function r(e){this.delay=250,this.FB=e,E.domReady(E.bind(function(){E.poll(E.bind(this.initialize,this),this.delay,8)},this))}function n(){this.rules=E.filter(E.rules,function(e){return"videoplayed"===e.event.substring(0,11)}),this.eventHandler=E.bind(this.onUpdateTime,this)}function s(){this.rules=E.filter(E.rules,function(e){return"elementexists"===e.event})}function o(){E.getToolsByType("nielsen").length>0&&E.domReady(E.bind(this.initialize,this))}function l(){this.lastURL=E.URL(),this._fireIfURIChanged=E.bind(this.fireIfURIChanged,this),this._onPopState=E.bind(this.onPopState,this),this._onHashChange=E.bind(this.onHashChange,this),this._pushState=E.bind(this.pushState,this),this._replaceState=E.bind(this.replaceState,this),this.initialize()}function d(){var e=E.filter(E.rules,function(e){return 0===e.event.indexOf("dataelementchange")});this.dataElementsNames=E.map(e,function(e){return e.event.match(/dataelementchange\((.*)\)/i)[1]},this),this.initPolling()}function c(){var e=this.eventRegex=/^hover\(([0-9]+)\)$/,t=this.rules=[];E.each(E.rules,function(a){a.event.match(e)&&t.push([Number(a.event.match(e)[1]),a.selector])})}function u(){this.defineEvents(),this.visibilityApiHasPriority=!0,t.addEventListener?this.setVisibilityApiPriority(!1):this.attachDetachOlderEventListeners(!0,t,"focusout");E.bindEvent("aftertoolinit",function(){E.fireEvent(E.visibility.isHidden()?"tabblur":"tabfocus")})}function g(t){E.domReady(E.bind(function(){this.twttr=t||e.twttr,this.initialize()},this))}function p(t){t=t||E.rules,this.rules=E.filter(t,function(e){return"inview"===e.event}),this.elements=[],this.eventHandler=E.bind(this.track,this),E.addEventHandler(e,"scroll",this.eventHandler),E.addEventHandler(e,"load",this.eventHandler)}function f(e){E.BaseTool.call(this,e),this.name=e.name||"Basic"}function m(e){E.BaseTool.call(this,e),this.name=e.name||"VisitorID",this.initialize()}function h(){E.BaseTool.call(this),this.asyncScriptCallbackQueue=[],this.argsForBlockingScripts=[]}function v(e){E.BaseTool.call(this,e),this.defineListeners(),this.beaconMethod="plainBeacon",this.adapt=new v.DataAdapters,this.dataProvider=new v.DataProvider.Aggregate}function y(e){E.BaseTool.call(this,e),this.styleElements={},this.targetPageParamsStore={}}function k(e){E.BaseTool.call(this,e),this.varBindings={},this.events=[],this.products=[],this.customSetupFuns=[]}function S(e){E.BaseTool.call(this,e)}function b(e){E.BaseTool.call(this,e)}var w,C,D,I=Object.prototype.toString,P=e._satellite&&e._satellite.override,E={initialized:!1,$data:function(e,t,i){if(e){var r="__satellite__",n=E.dataCache,s=e[r];s||(s=e[r]=E.uuid++);var o=n[s];if(o||(o=n[s]={}),i===a)return o[t];o[t]=i}},uuid:1,dataCache:{},keys:function(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(a);return t},values:function(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(e[a]);return t},isArray:Array.isArray||function(e){return"[object Array]"===I.apply(e)},isObject:function(e){return null!=e&&!E.isArray(e)&&"object"==typeof e},isString:function(e){return"string"==typeof e},isNumber:function(e){return"[object Number]"===I.apply(e)&&!E.isNaN(e)},isNaN:function(e){return e!=e},isRegex:function(e){return e instanceof RegExp},isLinkTag:function(e){return!(!e||!e.nodeName||"a"!==e.nodeName.toLowerCase())},each:function(e,t,a){for(var i=0,r=e.length;i<r;i++)t.call(a,e[i],i,e)},map:function(e,t,a){for(var i=[],r=0,n=e.length;r<n;r++)i.push(t.call(a,e[r],r,e));return i},filter:function(e,t,a){for(var i=[],r=0,n=e.length;r<n;r++){var s=e[r];t.call(a,s,r,e)&&i.push(s)}return i},any:function(e,t,a){for(var i=0,r=e.length;i<r;i++){var n=e[i];if(t.call(a,n,i,e))return!0}return!1},every:function(e,t,a){for(var i=!0,r=0,n=e.length;r<n;r++){var s=e[r];i=i&&t.call(a,s,r,e)}return i},contains:function(e,t){return-1!==E.indexOf(e,t)},indexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var a=e.length;a--;)if(t===e[a])return a;return-1},find:function(e,t,a){if(!e)return null;for(var i=0,r=e.length;i<r;i++){var n=e[i];if(t.call(a,n,i,e))return n}return null},textMatch:function(e,t){if(null==t)throw new Error("Illegal Argument: Pattern is not present");return null!=e&&("string"==typeof t?e===t:t instanceof RegExp&&t.test(e))},stringify:function(e,t){if(t=t||[],E.isObject(e)){if(E.contains(t,e))return"<Cycle>";t.push(e)}if(E.isArray(e))return"["+E.map(e,function(e){return E.stringify(e,t)}).join(",")+"]";if(E.isString(e))return'"'+String(e)+'"';if(E.isObject(e)){var a=[];for(var i in e)e.hasOwnProperty(i)&&a.push(i+": "+E.stringify(e[i],t));return"{"+a.join(", ")+"}"}return String(e)},trim:function(e){return null==e?null:e.trim?e.trim():e.replace(/^ */,"").replace(/ *$/,"")},bind:function(e,t){return function(){return e.apply(t,arguments)}},throttle:function(e,t){var a=null;return function(){var i=this,r=arguments;clearTimeout(a),a=setTimeout(function(){e.apply(i,r)},t)}},domReady:function(e){function a(e){for(g=1;e=r.shift();)e()}var i,r=[],n=!1,s=t,o=s.documentElement,l=o.doScroll,d="DOMContentLoaded",c="addEventListener",u="onreadystatechange",g=/^loade|^c/.test(s.readyState);return s[c]&&s[c](d,i=function(){s.removeEventListener(d,i,n),a()},n),l&&s.attachEvent(u,i=function(){/^c/.test(s.readyState)&&(s.detachEvent(u,i),a())}),e=l?function(t){self!=top?g?t():r.push(t):function(){try{o.doScroll("left")}catch(a){return setTimeout(function(){e(t)},50)}t()}()}:function(e){g?e():r.push(e)}}(),loadScript:function(e,a){var i=t.createElement("script");E.scriptOnLoad(e,i,a),i.src=e,t.getElementsByTagName("head")[0].appendChild(i)},scriptOnLoad:function(e,t,a){function i(e){e&&E.logError(e),a&&a(e)}"onload"in t?(t.onload=function(){i()},t.onerror=function(){i(new Error("Failed to load script "+e))}):"readyState"in t&&(t.onreadystatechange=function(){var e=t.readyState;"loaded"!==e&&"complete"!==e||(t.onreadystatechange=null,i())})},loadScriptOnce:function(e,t){E.loadedScriptRegistry[e]||E.loadScript(e,function(a){a||(E.loadedScriptRegistry[e]=!0),t&&t(a)})},loadedScriptRegistry:{},loadScriptSync:function(e){t.write?E.domReadyFired?E.notify('Cannot load sync the "'+e+'" script after DOM Ready.',1):(e.indexOf('"')>-1&&(e=encodeURI(e)),t.write('<script src="'+e+'"></script>')):E.notify('Cannot load sync the "'+e+'" script because "document.write" is not available',1)},pushAsyncScript:function(e){E.tools["default"].pushAsyncScript(e)},pushBlockingScript:function(e){E.tools["default"].pushBlockingScript(e)},addEventHandler:e.addEventListener?function(e,t,a){e.addEventListener(t,a,!1)}:function(e,t,a){e.attachEvent("on"+t,a)},removeEventHandler:e.removeEventListener?function(e,t,a){e.removeEventListener(t,a,!1)}:function(e,t,a){e.detachEvent("on"+t,a)},preventDefault:e.addEventListener?function(e){e.preventDefault()}:function(e){e.returnValue=!1},stopPropagation:function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},containsElement:function(e,t){return e.contains?e.contains(t):!!(16&e.compareDocumentPosition(t))},matchesCss:function(a){function i(e,t){var a=t.tagName;return!!a&&e.toLowerCase()===a.toLowerCase()}var r=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.oMatchesSelector||a.msMatchesSelector;return r?function(a,i){if(i===t||i===e)return!1;try{return r.call(i,a)}catch(n){return!1}}:a.querySelectorAll?function(e,t){if(!t.parentNode)return!1;if(e.match(/^[a-z]+$/i))return i(e,t);try{for(var a=t.parentNode.querySelectorAll(e),r=a.length;r--;)if(a[r]===t)return!0}catch(n){}return!1}:function(e,t){if(e.match(/^[a-z]+$/i))return i(e,t);try{return E.Sizzle.matches(e,[t]).length>0}catch(a){return!1}}}(t.documentElement),cssQuery:(w=t,w.querySelectorAll?function(e,t){var a;try{a=w.querySelectorAll(e)}catch(i){a=[]}t(a)}:function(e,t){if(E.Sizzle){var a;try{a=E.Sizzle(e)}catch(i){a=[]}t(a)}else E.sizzleQueue.push([e,t])}),hasAttr:function(e,t){return e.hasAttribute?e.hasAttribute(t):e[t]!==a},inherit:function(e,t){var a=function(){};a.prototype=t.prototype,e.prototype=new a,e.prototype.constructor=e},extend:function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},toArray:function(){try{var e=Array.prototype.slice;return e.call(t.documentElement.childNodes,0)[0].nodeType,function(t){return e.call(t,0)}}catch(a){return function(e){for(var t=[],a=0,i=e.length;a<i;a++)t.push(e[a]);return t}}}(),equalsIgnoreCase:function(e,t){return null==e?null==t:null!=t&&String(e).toLowerCase()===String(t).toLowerCase()},poll:function(e,t,a){function i(){E.isNumber(a)&&r++>=a||e()||setTimeout(i,t)}var r=0;t=t||1e3,i()},escapeForHtml:function(e){return e?String(e).replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#x27;").replace(/\//g,"&#x2F;"):e}};E.availableTools={},E.availableEventEmitters=[],E.fireOnceEvents=["condition","elementexists"],E.initEventEmitters=function(){E.eventEmitters=E.map(E.availableEventEmitters,function(e){return new e})},E.eventEmitterBackgroundTasks=function(){E.each(E.eventEmitters,function(e){"backgroundTasks"in e&&e.backgroundTasks()})},E.initTools=function(e){var t={"default":new h},a=E.settings.euCookieName||"sat_track";for(var i in e)if(e.hasOwnProperty(i)){var r,n,s;if((r=e[i]).euCookie)if("true"!==E.readCookie(a))continue;if(!(n=E.availableTools[r.engine])){var o=[];for(var l in E.availableTools)E.availableTools.hasOwnProperty(l)&&o.push(l);throw new Error("No tool engine named "+r.engine+", available: "+o.join(",")+".")}(s=new n(r)).id=i,t[i]=s}return t},E.preprocessArguments=function(e,t,a,i,r){function n(e){return i&&E.isString(e)?e.toLowerCase():e}function s(e){var l={};for(var d in e)if(e.hasOwnProperty(d)){var c=e[d];E.isObject(c)?l[d]=s(c):E.isArray(c)?l[d]=o(c,i):l[d]=n(E.replace(c,t,a,r))}return l}function o(e){for(var i=[],r=0,o=e.length;r<o;r++){var l=e[r];E.isString(l)?l=n(E.replace(l,t,a)):l&&l.constructor===Object&&(l=s(l)),i.push(l)}return i}return e?o(e,i):e},E.execute=function(e,t,a,i){function r(r){var n=i[r||"default"];if(n)try{n.triggerCommand(e,t,a)}catch(s){E.logError(s)}}if(!_satellite.settings.hideActivity)if(i=i||E.tools,e.engine){var n=e.engine;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];o.settings&&o.settings.engine===n&&r(s)}}else e.tool instanceof Array?E.each(e.tool,function(e){r(e)}):r(e.tool)},E.Logger={outputEnabled:!1,messages:[],keepLimit:100,flushed:!1,LEVELS:[null,null,"log","info","warn","error"],message:function(e,t){var a=this.LEVELS[t]||"log";this.messages.push([a,e]),this.messages.length>this.keepLimit&&this.messages.shift(),this.outputEnabled&&this.echo(a,e)},getHistory:function(){return this.messages},clearHistory:function(){this.messages=[]},setOutputState:function(e){this.outputEnabled!=e&&(this.outputEnabled=e,e?this.flush():this.flushed=!1)},echo:function(t,a){e.console&&e.console[t]("SATELLITE: "+a)},flush:function(){this.flushed||(E.each(this.messages,function(e){!0!==e[2]&&(this.echo(e[0],e[1]),e[2]=!0)},this),this.flushed=!0)}},E.notify=E.bind(E.Logger.message,E.Logger),E.cleanText=function(e){return null==e?null:E.trim(e).replace(/\s+/g," ")},E.cleanText.legacy=function(e){return null==e?null:E.trim(e).replace(/\s{2,}/g," ").replace(/[^\000-\177]*/g,"")},E.text=function(e){return e.textContent||e.innerText},E.specialProperties={text:E.text,cleanText:function(e){return E.cleanText(E.text(e))}},E.getObjectProperty=function(e,t,i){for(var r,n=t.split("."),s=e,o=E.specialProperties,l=0,d=n.length;l<d;l++){if(null==s)return a;var c=n[l];if(i&&"@"===c.charAt(0))s=o[c.slice(1)](s);else if(s.getAttribute&&(r=c.match(/^getAttribute\((.+)\)$/))){var u=r[1];s=s.getAttribute(u)}else s=s[c]}return s},E.getToolsByType=function(e){if(!e)throw new Error("Tool type is missing");var t=[];for(var a in E.tools)if(E.tools.hasOwnProperty(a)){var i=E.tools[a];i.settings&&i.settings.engine===e&&t.push(i)}return t},E.setVar=function(){var e=E.data.customVars;if(null==e&&(E.data.customVars={},e=E.data.customVars),"string"==typeof arguments[0])e[arguments[0]]=arguments[1];else if(arguments[0]){var t=arguments[0];for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])}},E.dataElementSafe=function(e,t){if(arguments.length>2){var a=arguments[2];"pageview"===t?E.dataElementSafe.pageviewCache[e]=a:"session"===t?E.setCookie("_sdsat_"+e,a):"visitor"===t&&E.setCookie("_sdsat_"+e,a,730)}else{if("pageview"===t)return E.dataElementSafe.pageviewCache[e];if("session"===t||"visitor"===t)return E.readCookie("_sdsat_"+e)}},E.dataElementSafe.pageviewCache={},E.realGetDataElement=function(t){var a;return t.selector?E.hasSelector&&E.cssQuery(t.selector,function(e){if(e.length>0){var i=e[0];"text"===t.property?a=i.innerText||i.textContent:t.property in i?a=i[t.property]:E.hasAttr(i,t.property)&&(a=i.getAttribute(t.property))}}):t.queryParam?a=t.ignoreCase?E.getQueryParamCaseInsensitive(t.queryParam):E.getQueryParam(t.queryParam):t.cookie?a=E.readCookie(t.cookie):t.jsVariable?a=E.getObjectProperty(e,t.jsVariable):t.customJS?a=t.customJS():t.contextHub&&(a=t.contextHub()),E.isString(a)&&t.cleanText&&(a=E.cleanText(a)),a},E.getDataElement=function(e,t,i){if(null==(i=i||E.dataElements[e]))return E.settings.undefinedVarsReturnEmpty?"":null;var r=E.realGetDataElement(i);return r===a&&i.storeLength?r=E.dataElementSafe(e,i.storeLength):r!==a&&i.storeLength&&E.dataElementSafe(e,i.storeLength,r),r||t||(r=i["default"]||""),E.isString(r)&&i.forceLowerCase&&(r=r.toLowerCase()),r},E.getVar=function(i,r,n){var s,o,l=E.data.customVars,d=n?n.target||n.srcElement:null,c={uri:E.URI(),protocol:t.location.protocol,hostname:t.location.hostname};if(E.dataElements&&i in E.dataElements)return E.getDataElement(i);if((o=c[i.toLowerCase()])===a)if("this."===i.substring(0,5))i=i.slice(5),o=E.getObjectProperty(r,i,!0);else if("event."===i.substring(0,6))i=i.slice(6),o=E.getObjectProperty(n,i);else if("target."===i.substring(0,7))i=i.slice(7),o=E.getObjectProperty(d,i);else if("window."===i.substring(0,7))i=i.slice(7),o=E.getObjectProperty(e,i);else if("param."===i.substring(0,6))i=i.slice(6),o=E.getQueryParam(i);else if(s=i.match(/^rand([0-9]+)$/)){var u=Number(s[1]),g=(Math.random()*(Math.pow(10,u)-1)).toFixed(0);o=Array(u-g.length+1).join("0")+g}else o=E.getObjectProperty(l,i);return o},E.getVars=function(e,t,a){var i={};return E.each(e,function(e){i[e]=E.getVar(e,t,a)}),i},E.replace=function(e,t,a,i){return"string"!=typeof e?e:e.replace(/%(.*?)%/g,function(e,r){var n=E.getVar(r,t,a);return null==n?E.settings.undefinedVarsReturnEmpty?"":e:i?E.escapeForHtml(n):n})},E.escapeHtmlParams=function(e){return e.escapeHtml=!0,e},E.searchVariables=function(e,t,a){if(!e||0===e.length)return"";for(var i=[],r=0,n=e.length;r<n;r++){var s=e[r],o=E.getVar(s,t,a);i.push(s+"="+escape(o))}return"?"+i.join("&")},E.fireRule=function(e,t,a){var i=e.trigger;if(i){for(var r=0,n=i.length;r<n;r++){var s=i[r];E.execute(s,t,a)}E.contains(E.fireOnceEvents,e.event)&&(e.expired=!0)}},E.isLinked=function(e){for(var t=e;t;t=t.parentNode)if(E.isLinkTag(t))return!0;return!1},E.firePageLoadEvent=function(e){for(var a=t.location,i={type:e,target:a},r=E.pageLoadRules,n=E.evtHandlers[i.type],s=r.length;s--;){var o=r[s];E.ruleMatches(o,i,a)&&(E.notify('Rule "'+o.name+'" fired.',1),E.fireRule(o,a,i))}for(var l in E.tools)if(E.tools.hasOwnProperty(l)){var d=E.tools[l];d.endPLPhase&&d.endPLPhase(e)}n&&E.each(n,function(e){e(i)})},E.track=function(e){e=e.replace(/^\s*/,"").replace(/\s*$/,"");for(var t=0;t<E.directCallRules.length;t++){var a=E.directCallRules[t];if(a.name===e)return E.notify('Direct call Rule "'+e+'" fired.',1),void E.fireRule(a,location,{type:e})}E.notify('Direct call Rule "'+e+'" not found.',1)},E.basePath=function(){return E.data.host?("https:"===t.location.protocol?"https://"+E.data.host.https:"http://"+E.data.host.http)+"/":this.settings.basePath},E.setLocation=function(t){e.location=t},E.parseQueryParams=function(e){var t=function(e){var t=e;try{t=decodeURIComponent(e)}catch(a){}return t};if(""===e||!1===E.isString(e))return{};0===e.indexOf("?")&&(e=e.substring(1));var a={},i=e.split("&");return E.each(i,function(e){(e=e.split("="))[1]&&(a[t(e[0])]=t(e[1]))}),a},E.getCaseSensitivityQueryParamsMap=function(e){var t=E.parseQueryParams(e),a={};for(var i in t)t.hasOwnProperty(i)&&(a[i.toLowerCase()]=t[i]);return{normal:t,caseInsensitive:a}},E.updateQueryParams=function(){E.QueryParams=E.getCaseSensitivityQueryParamsMap(e.location.search)},E.updateQueryParams(),E.getQueryParam=function(e){return E.QueryParams.normal[e]},E.getQueryParamCaseInsensitive=function(e){return E.QueryParams.caseInsensitive[e.toLowerCase()]},E.encodeObjectToURI=function(e){if(!1===E.isObject(e))return"";var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));return t.join("&")},E.readCookie=function(e){for(var i=e+"=",r=t.cookie.split(";"),n=0;n<r.length;n++){for(var s=r[n];" "==s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(i))return s.substring(i.length,s.length)}return a},E.setCookie=function(e,a,i){var r;if(i){var n=new Date;n.setTime(n.getTime()+24*i*60*60*1e3),r="; expires="+n.toGMTString()}else r="";t.cookie=e+"="+a+r+"; path=/"},E.removeCookie=function(e){E.setCookie(e,"",-1)},E.getElementProperty=function(e,t){if("@"===t.charAt(0)){var i=E.specialProperties[t.substring(1)];if(i)return i(e)}return"innerText"===t?E.text(e):t in e?e[t]:e.getAttribute?e.getAttribute(t):a},E.propertiesMatch=function(e,t){if(e)for(var a in e)if(e.hasOwnProperty(a)){var i=e[a],r=E.getElementProperty(t,a);if("string"==typeof i&&i!==r)return!1;if(i instanceof RegExp&&!i.test(r))return!1}return!0},E.isRightClick=function(e){var t;return e.which?t=3==e.which:e.button&&(t=2==e.button),t},E.ruleMatches=function(e,t,a,i){var r=e.condition,n=e.conditions,s=e.property,o=t.type,l=e.value,d=t.target||t.srcElement,c=a===d;if(e.event!==o&&("custom"!==e.event||e.customEvent!==o))return!1;if(!E.ruleInScope(e))return!1;if("click"===e.event&&E.isRightClick(t))return!1;if(e.isDefault&&i>0)return!1;if(e.expired)return!1;if("inview"===o&&t.inviewDelay!==e.inviewDelay)return!1;if(!c&&(!1===e.bubbleFireIfParent||0!==i&&!1===e.bubbleFireIfChildFired))return!1;if(e.selector&&!E.matchesCss(e.selector,a))return!1;if(!E.propertiesMatch(s,a))return!1;if(null!=l)if("string"==typeof l){if(l!==a.value)return!1}else if(!l.test(a.value))return!1;if(r)try{if(!r.call(a,t,d))return E.notify('Condition for rule "'+e.name+'" not met.',1),!1}catch(g){return E.notify('Condition for rule "'+e.name+'" not met. Error: '+g.message,1),!1}if(n){var u=E.find(n,function(i){try{return!i.call(a,t,d)}catch(g){return E.notify('Condition for rule "'+e.name+'" not met. Error: '+g.message,1),!0}});if(u)return E.notify("Condition "+u.toString()+' for rule "'+e.name+'" not met.',1),!1}return!0},E.evtHandlers={},E.bindEvent=function(e,t){var a=E.evtHandlers;a[e]||(a[e]=[]),a[e].push(t)},E.whenEvent=E.bindEvent,E.unbindEvent=function(e,t){var a=E.evtHandlers;if(a[e]){var i=E.indexOf(a[e],t);a[e].splice(i,1)}},E.bindEventOnce=function(e,t){var a=function(){E.unbindEvent(e,a),t.apply(null,arguments)};E.bindEvent(e,a)},E.isVMLPoisoned=function(e){if(!e)return!1;try{e.nodeName}catch(t){if("Attribute only valid on v:image"===t.message)return!0}return!1},E.handleEvent=function(e){if(!E.$data(e,"eventProcessed")){var t=e.type.toLowerCase(),a=e.target||e.srcElement,i=0,r=E.rules,n=(E.tools,E.evtHandlers[e.type]);if(E.isVMLPoisoned(a))E.notify("detected "+t+" on poisoned VML element, skipping.",1);else{n&&E.each(n,function(t){t(e)}),a&&a.nodeName?E.notify("detected "+t+" on "+a.nodeName,1):E.notify("detected "+t,1);for(var s=a;s;s=s.parentNode){var o=!1;if(E.each(r,function(t){E.ruleMatches(t,e,s,i)&&(E.notify('Rule "'+t.name+'" fired.',1),E.fireRule(t,s,e),i++,t.bubbleStop&&(o=!0))}),o)break}E.$data(e,"eventProcessed",!0)}}},E.onEvent=t.querySelectorAll?function(e){E.handleEvent(e)}:(C=[],(D=function(e){e.selector?C.push(e):E.handleEvent(e)}).pendingEvents=C,D),E.fireEvent=function(e,t){E.onEvent({type:e,target:t})},E.registerEvents=function(e,t){for(var a=t.length-1;a>=0;a--){var i=t[a];E.$data(e,i+".tracked")||(E.addEventHandler(e,i,E.onEvent),E.$data(e,i+".tracked",!0))}},E.registerEventsForTags=function(e,a){for(var i=e.length-1;i>=0;i--)for(var r=e[i],n=t.getElementsByTagName(r),s=n.length-1;s>=0;s--)E.registerEvents(n[s],a)},E.setListeners=function(){var e=["click","submit"];E.each(E.rules,function(t){"custom"===t.event&&t.hasOwnProperty("customEvent")&&!E.contains(e,t.customEvent)&&e.push(t.customEvent)}),E.registerEvents(t,e)},E.getUniqueRuleEvents=function(){return E._uniqueRuleEvents||(E._uniqueRuleEvents=[],E.each(E.rules,function(e){-1===E.indexOf(E._uniqueRuleEvents,e.event)&&E._uniqueRuleEvents.push(e.event)})),E._uniqueRuleEvents},E.setFormListeners=function(){if(!E._relevantFormEvents){var e=["change","focus","blur","keypress"];E._relevantFormEvents=E.filter(E.getUniqueRuleEvents(),function(t){return-1!==E.indexOf(e,t)})}E._relevantFormEvents.length&&E.registerEventsForTags(["input","select","textarea","button"],E._relevantFormEvents)},E.setVideoListeners=function(){if(!E._relevantVideoEvents){var e=["play","pause","ended","volumechange","stalled","loadeddata"];E._relevantVideoEvents=E.filter(E.getUniqueRuleEvents(),function(t){return-1!==E.indexOf(e,t)})}E._relevantVideoEvents.length&&E.registerEventsForTags(["video"],E._relevantVideoEvents)},E.readStoredSetting=function(t){try{return t="sdsat_"+t,e.localStorage.getItem(t)}catch(a){return E.notify("Cannot read stored setting from localStorage: "+a.message,2),null}},E.loadStoredSettings=function(){var e=E.readStoredSetting("debug"),t=E.readStoredSetting("hide_activity");e&&(E.settings.notifications="true"===e),t&&(E.settings.hideActivity="true"===t)},E.isRuleActive=function(e,t){function a(e,t){return t=r(t,{hour:e[p](),minute:e[f]()}),Math.floor(Math.abs((e.getTime()-t.getTime())/864e5))}function i(e,t){function a(e){return 12*e[u]()+e[g]()}return Math.abs(a(e)-a(t))}function r(e,t){var a=new Date(e.getTime());for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];switch(i){case"hour":a[m](r);break;case"minute":a[h](r);break;case"date":a[v](r)}}return a}function n(e,t){return 60*e[p]()+e[f]()>60*t[p]()+t[f]()}function s(e,t){return 60*e[p]()+e[f]()<60*t[p]()+t[f]()}var o=e.schedule;if(!o)return!0;var l=o.utc,d=l?"getUTCDate":"getDate",c=l?"getUTCDay":"getDay",u=l?"getUTCFullYear":"getFullYear",g=l?"getUTCMonth":"getMonth",p=l?"getUTCHours":"getHours",f=l?"getUTCMinutes":"getMinutes",m=l?"setUTCHours":"setHours",h=l?"setUTCMinutes":"setMinutes",v=l?"setUTCDate":"setDate";if(t=t||new Date,o.repeat){if(n(o.start,t))return!1;if(s(o.end,t))return!1;if(t<o.start)return!1;if(o.endRepeat&&t>=o.endRepeat)return!1;if("daily"===o.repeat){if(o.repeatEvery)if(a(o.start,t)%o.repeatEvery!=0)return!1}else if("weekly"===o.repeat){if(o.days){if(!E.contains(o.days,t[c]()))return!1}else if(o.start[c]()!==t[c]())return!1;if(o.repeatEvery)if(a(o.start,t)%(7*o.repeatEvery)!=0)return!1}else if("monthly"===o.repeat){if(o.repeatEvery)if(i(o.start,t)%o.repeatEvery!=0)return!1;if(o.nthWeek&&o.mthDay){if(o.mthDay!==t[c]())return!1;var y=Math.floor((t[d]()-t[c]()+1)/7);if(o.nthWeek!==y)return!1}else if(o.start[d]()!==t[d]())return!1}else if("yearly"===o.repeat){if(o.start[g]()!==t[g]())return!1;if(o.start[d]()!==t[d]())return!1;if(o.repeatEvery)if(Math.abs(o.start[u]()-t[u]())%o.repeatEvery!=0)return!1}}else{if(o.start>t)return!1;if(o.end<t)return!1}return!0},E.isOutboundLink=function(e){if(!e.getAttribute("href"))return!1;var t=e.hostname,a=(e.href,e.protocol);return("http:"===a||"https:"===a)&&(!E.any(E.settings.domainList,function(e){return E.isSubdomainOf(t,e)})&&t!==location.hostname)},E.isLinkerLink=function(e){return!(!e.getAttribute||!e.getAttribute("href"))&&(E.hasMultipleDomains()&&e.hostname!=location.hostname&&!e.href.match(/^javascript/i)&&!E.isOutboundLink(e))},E.isSubdomainOf=function(e,t){if(e===t)return!0;var a=e.length-t.length;return a>0&&E.equalsIgnoreCase(e.substring(a),t)},E.getVisitorId=function(){var e=E.getToolsByType("visitor_id");return 0===e.length?null:e[0].getInstance()},E.URI=function(){var e=t.location.pathname+t.location.search;return E.settings.forceLowerCase&&(e=e.toLowerCase()),e},E.URL=function(){var e=t.location.href;return E.settings.forceLowerCase&&(e=e.toLowerCase()),e},E.filterRules=function(){function e(e){return!!E.isRuleActive(e)}E.rules=E.filter(E.rules,e),E.pageLoadRules=E.filter(E.pageLoadRules,e)},E.ruleInScope=function(e,a){function i(e,t){function a(e){return t.match(e)}var i=e.include,n=e.exclude;if(i&&r(i,t))return!0;if(n){if(E.isString(n)&&n===t)return!0;if(E.isArray(n)&&E.any(n,a))return!0;if(E.isRegex(n)&&a(n))return!0}return!1}function r(e,t){function a(e){return t.match(e)}return!(!E.isString(e)||e===t)||(!(!E.isArray(e)||E.any(e,a))||!(!E.isRegex(e)||a(e)))}a=a||t.location;var n=e.scope;if(!n)return!0;var s=n.URI,o=n.subdomains,l=n.domains,d=n.protocols,c=n.hashes;return(!s||!i(s,a.pathname+a.search))&&((!o||!i(o,a.hostname))&&((!l||!r(l,a.hostname))&&((!d||!r(d,a.protocol))&&(!c||!i(c,a.hash)))))},E.backgroundTasks=function(){new Date;E.setFormListeners(),E.setVideoListeners(),E.loadStoredSettings(),E.registerNewElementsForDynamicRules(),E.eventEmitterBackgroundTasks();new Date},E.registerNewElementsForDynamicRules=function(){function e(t,a){var i=e.cache[t];if(i)return a(i);E.cssQuery(t,function(i){e.cache[t]=i,a(i)})}e.cache={},E.each(E.dynamicRules,function(t){e(t.selector,function(e){E.each(e,function(e){var a="custom"===t.event?t.customEvent:t.event;E.$data(e,"dynamicRules.seen."+a)||(E.$data(e,"dynamicRules.seen."+a,!0),E.propertiesMatch(t.property,e)&&E.registerEvents(e,[a]))})})})},E.ensureCSSSelector=function(){t.querySelectorAll?E.hasSelector=!0:(E.loadingSizzle=!0,E.sizzleQueue=[],E.loadScript(E.basePath()+"selector.js",function(){if(E.Sizzle){var e=E.onEvent.pendingEvents;E.each(e,function(e){E.handleEvent(e)},this),E.onEvent=E.handleEvent,E.hasSelector=!0,delete E.loadingSizzle,E.each(E.sizzleQueue,function(e){E.cssQuery(e[0],e[1])}),delete E.sizzleQueue}else E.logError(new Error("Failed to load selector.js"))}))},E.errors=[],E.logError=function(e){E.errors.push(e),E.notify(e.name+" - "+e.message,5)},E.pageBottom=function(){E.initialized&&(E.pageBottomFired=!0,E.firePageLoadEvent("pagebottom"))},E.stagingLibraryOverride=function(){if("true"===E.readStoredSetting("stagingLibrary")){for(var e,a,i,r=t.getElementsByTagName("script"),n=/^(.*)satelliteLib-([a-f0-9]{40})\.js$/,s=/^(.*)satelliteLib-([a-f0-9]{40})-staging\.js$/,o=0,l=r.length;o<l&&(!(i=r[o].getAttribute("src"))||(e||(e=i.match(n)),a||(a=i.match(s)),!a));o++);if(e&&!a){var d=e[1]+"satelliteLib-"+e[2]+"-staging.js";if(t.write)t.write('<script src="'+d+'"></script>');else{var c=t.createElement("script");c.src=d,t.head.appendChild(c)}return!0}}return!1},E.checkAsyncInclude=function(){e.satellite_asyncLoad&&E.notify('You may be using the async installation of Satellite. In-page HTML and the "pagebottom" event will not work. Please update your Satellite installation for these features.',5)},E.hasMultipleDomains=function(){return!!E.settings.domainList&&E.settings.domainList.length>1},E.handleOverrides=function(){if(P)for(var e in P)P.hasOwnProperty(e)&&(E.data[e]=P[e])},E.privacyManagerParams=function(){var e={};E.extend(e,E.settings.privacyManagement);var t=[];for(var a in E.tools)if(E.tools.hasOwnProperty(a)){var i=E.tools[a],r=i.settings;if(!r)continue;"sc"===r.engine&&t.push(i)}var n=E.filter(E.map(t,function(e){return e.getTrackingServer()}),function(e){return null!=e});e.adobeAnalyticsTrackingServers=n;for(var s=["bannerText","headline","introductoryText","customCSS"],o=0;o<s.length;o++){var l=s[o],d=e[l];if(d)if("text"===d.type)e[l]=d.value;else{if("data"!==d.type)throw new Error("Invalid type: "+d.type);e[l]=E.getVar(d.value)}}return e},E.prepareLoadPrivacyManager=function(){function t(e){function t(){++n===r.length&&(a(),clearTimeout(s),e())}function a(){E.each(r,function(e){E.unbindEvent(e.id+".load",t)})}function i(){a(),e()}var r=E.filter(E.values(E.tools),function(e){return e.settings&&"sc"===e.settings.engine});if(0===r.length)return e();var n=0;E.each(r,function(e){E.bindEvent(e.id+".load",t)});var s=setTimeout(i,5e3)}E.addEventHandler(e,"load",function(){t(E.loadPrivacyManager)})},E.loadPrivacyManager=function(){var e=E.basePath()+"privacy_manager.js";E.loadScript(e,function(){var e=E.privacyManager;e.configure(E.privacyManagerParams()),e.openIfRequired()})},E.init=function(t){if(!E.stagingLibraryOverride()){E.configurationSettings=t;var i=t.tools;for(var r in delete t.tools,t)t.hasOwnProperty(r)&&(E[r]=t[r]);E.data.customVars===a&&(E.data.customVars={}),E.data.queryParams=E.QueryParams.normal,E.handleOverrides(),E.detectBrowserInfo(),E.trackVisitorInfo&&E.trackVisitorInfo(),E.loadStoredSettings(),E.Logger.setOutputState(E.settings.notifications),E.checkAsyncInclude(),E.ensureCSSSelector(),E.filterRules(),E.dynamicRules=E.filter(E.rules,function(e){return e.eventHandlerOnElement}),E.tools=E.initTools(i),E.initEventEmitters(),E.firePageLoadEvent("aftertoolinit"),E.settings.privacyManagement&&E.prepareLoadPrivacyManager(),E.hasSelector&&E.domReady(E.eventEmitterBackgroundTasks),E.setListeners(),E.domReady(function(){E.poll(function(){E.backgroundTasks()},E.settings.recheckEvery||3e3)}),E.domReady(function(){E.domReadyFired=!0,E.pageBottomFired||E.pageBottom(),E.firePageLoadEvent("domready")}),E.addEventHandler(e,"load",function(){E.firePageLoadEvent("windowload")}),E.firePageLoadEvent("pagetop"),E.initialized=!0}},E.pageLoadPhases=["aftertoolinit","pagetop","pagebottom","domready","windowload"],E.loadEventBefore=function(e,t){return E.indexOf(E.pageLoadPhases,e)<=E.indexOf(E.pageLoadPhases,t)},E.flushPendingCalls=function(e){e.pending&&(E.each(e.pending,function(t){var a=t[0],i=t[1],r=t[2],n=t[3];a in e?e[a].apply(e,[i,r].concat(n)):e.emit?e.emit(a,i,r,n):E.notify("Failed to trigger "+a+" for tool "+e.id,1)}),delete e.pending)},E.setDebug=function(t){try{e.localStorage.setItem("sdsat_debug",t)}catch(a){E.notify("Cannot set debug mode: "+a.message,2)}},E.getUserAgent=function(){return navigator.userAgent},E.detectBrowserInfo=function(){function e(e){return function(t){for(var a in e){if(e.hasOwnProperty(a))if(e[a].test(t))return a}return"Unknown"}}var t=e({"IE Edge Mobile":/Windows Phone.*Edge/,"IE Edge":/Edge/,OmniWeb:/OmniWeb/,"Opera Mini":/Opera Mini/,"Opera Mobile":/Opera Mobi/,Opera:/Opera/,Chrome:/Chrome|CriOS|CrMo/,Firefox:/Firefox|FxiOS/,"IE Mobile":/IEMobile/,IE:/MSIE|Trident/,"Mobile Safari":/Mobile(\/[0-9A-z]+)? Safari/,Safari:/Safari/}),a=e({Blackberry:/BlackBerry|BB10/,"Symbian OS":/Symbian|SymbOS/,Maemo:/Maemo/,Android:/Android/,Linux:/ Linux /,Unix:/FreeBSD|OpenBSD|CrOS/,Windows:/[\( ]Windows /,iOS:/iPhone|iPad|iPod/,MacOS:/Macintosh;/}),i=e({Nokia:/Symbian|SymbOS|Maemo/,"Windows Phone":/Windows Phone/,Blackberry:/BlackBerry|BB10/,Android:/Android/,iPad:/iPad/,iPod:/iPod/,iPhone:/iPhone/,Desktop:/.*/}),r=E.getUserAgent();E.browserInfo={browser:t(r),os:a(r),deviceType:i(r)}},E.isHttps=function(){return"https:"==t.location.protocol},E.BaseTool=function(e){this.settings=e||{},this.forceLowerCase=E.settings.forceLowerCase,"forceLowerCase"in this.settings&&(this.forceLowerCase=this.settings.forceLowerCase)},E.BaseTool.prototype={triggerCommand:function(e,t,a){var i=this.settings||{};if(this.initialize&&this.isQueueAvailable()&&this.isQueueable(e)&&a&&E.loadEventBefore(a.type,i.loadOn))this.queueCommand(e,t,a);else{var r=e.command,n=this["$"+r],s=!!n&&n.escapeHtml,o=E.preprocessArguments(e.arguments,t,a,this.forceLowerCase,s);n?n.apply(this,[t,a].concat(o)):this.$missing$?this.$missing$(r,t,a,o):E.notify("Failed to trigger "+r+" for tool "+this.id,1)}},endPLPhase:function(){},isQueueable:function(e){return"cancelToolInit"!==e.command},isQueueAvailable:function(){return!this.initialized&&!this.initializing},flushQueue:function(){this.pending&&(E.each(this.pending,function(e){this.triggerCommand.apply(this,e)},this),this.pending=[])},queueCommand:function(e,t,a){this.pending||(this.pending=[]),this.pending.push([e,t,a])},$cancelToolInit:function(){this._cancelToolInit=!0}},e._satellite=E,i.orientationChange=function(t){var a=0===e.orientation?"portrait":"landscape";t.orientation=a,E.onEvent(t)},E.availableEventEmitters.push(i),r.prototype={initialize:function(){if(this.FB=this.FB||e.FB,this.FB&&this.FB.Event&&this.FB.Event.subscribe)return this.bind(),!0},bind:function(){this.FB.Event.subscribe("edge.create",function(){E.notify("tracking a facebook like",1),E.onEvent({type:"facebook.like",target:t})}),this.FB.Event.subscribe("edge.remove",function(){E.notify("tracking a facebook unlike",1),E.onEvent({type:"facebook.unlike",target:t})}),
this.FB.Event.subscribe("message.send",function(){E.notify("tracking a facebook share",1),E.onEvent({type:"facebook.send",target:t})})}},E.availableEventEmitters.push(r),n.prototype={backgroundTasks:function(){var e=this.eventHandler;E.each(this.rules,function(t){E.cssQuery(t.selector||"video",function(t){E.each(t,function(t){E.$data(t,"videoplayed.tracked")||(E.addEventHandler(t,"timeupdate",E.throttle(e,100)),E.$data(t,"videoplayed.tracked",!0))})})})},evalRule:function(e,t){var a=t.event,i=e.seekable,r=i.start(0),n=i.end(0),s=e.currentTime,o=t.event.match(/^videoplayed\(([0-9]+)([s%])\)$/);if(o){var l=o[2],d=Number(o[1]),c="%"===l?function(){return d<=100*(s-r)/(n-r)}:function(){return d<=s-r};!E.$data(e,a)&&c()&&(E.$data(e,a,!0),E.onEvent({type:a,target:e}))}},onUpdateTime:function(e){var t=this.rules,a=e.target;if(a.seekable&&0!==a.seekable.length)for(var i=0,r=t.length;i<r;i++)this.evalRule(a,t[i])}},E.availableEventEmitters.push(n),s.prototype.backgroundTasks=function(){E.each(this.rules,function(e){E.cssQuery(e.selector,function(e){if(e.length>0){var t=e[0];if(E.$data(t,"elementexists.seen"))return;E.$data(t,"elementexists.seen",!0),E.onEvent({type:"elementexists",target:t})}})})},E.availableEventEmitters.push(s),o.prototype={obue:!1,initialize:function(){this.attachCloseListeners()},obuePrevUnload:function(){},obuePrevBeforeUnload:function(){},newObueListener:function(){this.obue||(this.obue=!0,this.triggerBeacons())},attachCloseListeners:function(){this.prevUnload=e.onunload,this.prevBeforeUnload=e.onbeforeunload,e.onunload=E.bind(function(t){this.prevUnload&&setTimeout(E.bind(function(){this.prevUnload.call(e,t)},this),1),this.newObueListener()},this),e.onbeforeunload=E.bind(function(t){this.prevBeforeUnload&&setTimeout(E.bind(function(){this.prevBeforeUnload.call(e,t)},this),1),this.newObueListener()},this)},triggerBeacons:function(){E.fireEvent("leave",t)}},E.availableEventEmitters.push(o),l.prototype={initialize:function(){this.setupHistoryAPI(),this.setupHashChange()},fireIfURIChanged:function(){var e=E.URL();this.lastURL!==e&&(this.fireEvent(),this.lastURL=e)},fireEvent:function(){E.updateQueryParams(),E.onEvent({type:"locationchange",target:t})},setupSPASupport:function(){this.setupHistoryAPI(),this.setupHashChange()},setupHistoryAPI:function(){var t=e.history;t&&(t.pushState&&(this.originalPushState=t.pushState,t.pushState=this._pushState),t.replaceState&&(this.originalReplaceState=t.replaceState,t.replaceState=this._replaceState)),E.addEventHandler(e,"popstate",this._onPopState)},pushState:function(){var e=this.originalPushState.apply(history,arguments);return this.onPushState(),e},replaceState:function(){var e=this.originalReplaceState.apply(history,arguments);return this.onReplaceState(),e},setupHashChange:function(){E.addEventHandler(e,"hashchange",this._onHashChange)},onReplaceState:function(){setTimeout(this._fireIfURIChanged,0)},onPushState:function(){setTimeout(this._fireIfURIChanged,0)},onPopState:function(){setTimeout(this._fireIfURIChanged,0)},onHashChange:function(){setTimeout(this._fireIfURIChanged,0)},uninitialize:function(){this.cleanUpHistoryAPI(),this.cleanUpHashChange()},cleanUpHistoryAPI:function(){history.pushState===this._pushState&&(history.pushState=this.originalPushState),history.replaceState===this._replaceState&&(history.replaceState=this.originalReplaceState),E.removeEventHandler(e,"popstate",this._onPopState)},cleanUpHashChange:function(){E.removeEventHandler(e,"hashchange",this._onHashChange)}},E.availableEventEmitters.push(l),d.prototype.getStringifiedValue=e.JSON&&e.JSON.stringify||E.stringify,d.prototype.initPolling=function(){0!==this.dataElementsNames.length&&(this.dataElementsStore=this.getDataElementsValues(),E.poll(E.bind(this.checkDataElementValues,this),1e3))},d.prototype.getDataElementsValues=function(){var e={};return E.each(this.dataElementsNames,function(t){var a=E.getVar(t);e[t]=this.getStringifiedValue(a)},this),e},d.prototype.checkDataElementValues=function(){E.each(this.dataElementsNames,E.bind(function(e){var a=this.getStringifiedValue(E.getVar(e));a!==this.dataElementsStore[e]&&(this.dataElementsStore[e]=a,E.onEvent({type:"dataelementchange("+e+")",target:t}))},this))},E.availableEventEmitters.push(d),c.prototype={backgroundTasks:function(){var e=this;E.each(this.rules,function(t){var a=t[1],i=t[0];E.cssQuery(a,function(t){E.each(t,function(t){e.trackElement(t,i)})})},this)},trackElement:function(e,t){var a=this,i=E.$data(e,"hover.delays");i?E.contains(i,t)||i.push(t):(E.addEventHandler(e,"mouseover",function(t){a.onMouseOver(t,e)}),E.addEventHandler(e,"mouseout",function(t){a.onMouseOut(t,e)}),E.$data(e,"hover.delays",[t]))},onMouseOver:function(e,t){var a=e.target||e.srcElement,i=e.relatedTarget||e.fromElement;(t===a||E.containsElement(t,a))&&!E.containsElement(t,i)&&this.onMouseEnter(t)},onMouseEnter:function(e){var t=E.$data(e,"hover.delays"),a=E.map(t,function(t){return setTimeout(function(){E.onEvent({type:"hover("+t+")",target:e})},t)});E.$data(e,"hover.delayTimers",a)},onMouseOut:function(e,t){var a=e.target||e.srcElement,i=e.relatedTarget||e.toElement;(t===a||E.containsElement(t,a))&&!E.containsElement(t,i)&&this.onMouseLeave(t)},onMouseLeave:function(e){var t=E.$data(e,"hover.delayTimers");t&&E.each(t,function(e){clearTimeout(e)})}},E.availableEventEmitters.push(c),u.prototype={defineEvents:function(){this.oldBlurClosure=function(){E.fireEvent("tabblur",t)},this.oldFocusClosure=E.bind(function(){this.visibilityApiHasPriority?E.fireEvent("tabfocus",t):null!=E.visibility.getHiddenProperty()&&E.visibility.isHidden()||E.fireEvent("tabfocus",t)},this)},attachDetachModernEventListeners:function(e){E[0==e?"removeEventHandler":"addEventHandler"](t,E.visibility.getVisibilityEvent(),this.handleVisibilityChange)},attachDetachOlderEventListeners:function(t,a,i){var r=0==t?"removeEventHandler":"addEventHandler";E[r](a,i,this.oldBlurClosure),E[r](e,"focus",this.oldFocusClosure)},handleVisibilityChange:function(){E.visibility.isHidden()?E.fireEvent("tabblur",t):E.fireEvent("tabfocus",t)},setVisibilityApiPriority:function(t){this.visibilityApiHasPriority=t,this.attachDetachOlderEventListeners(!1,e,"blur"),this.attachDetachModernEventListeners(!1),t?null!=E.visibility.getHiddenProperty()?this.attachDetachModernEventListeners(!0):this.attachDetachOlderEventListeners(!0,e,"blur"):(this.attachDetachOlderEventListeners(!0,e,"blur"),null!=E.visibility.getHiddenProperty()&&this.attachDetachModernEventListeners(!0))},oldBlurClosure:null,oldFocusClosure:null,visibilityApiHasPriority:!0},E.availableEventEmitters.push(u),g.prototype={initialize:function(){var e=this.twttr;e&&"function"==typeof e.ready&&e.ready(E.bind(this.bind,this))},bind:function(){this.twttr.events.bind("tweet",function(e){e&&(E.notify("tracking a tweet button",1),E.onEvent({type:"twitter.tweet",target:t}))})}},E.availableEventEmitters.push(g),p.offset=function(a){var i=null,r=null;try{var n=a.getBoundingClientRect(),s=t,o=s.documentElement,l=s.body,d=e,c=o.clientTop||l.clientTop||0,u=o.clientLeft||l.clientLeft||0,g=d.pageYOffset||o.scrollTop||l.scrollTop,p=d.pageXOffset||o.scrollLeft||l.scrollLeft;i=n.top+g-c,r=n.left+p-u}catch(f){}return{top:i,left:r}},p.getViewportHeight=function(){var a=e.innerHeight,i=t.compatMode;return i&&(a="CSS1Compat"==i?t.documentElement.clientHeight:t.body.clientHeight),a},p.getScrollTop=function(){return t.documentElement.scrollTop?t.documentElement.scrollTop:t.body.scrollTop},p.isElementInDocument=function(e){return t.body.contains(e)},p.isElementInView=function(e){if(!p.isElementInDocument(e))return!1;var t=p.getViewportHeight(),a=p.getScrollTop(),i=p.offset(e).top,r=e.offsetHeight;return null!==i&&!(a>i+r||a+t<i)},p.prototype={backgroundTasks:function(){var e=this.elements;E.each(this.rules,function(t){E.cssQuery(t.selector,function(a){var i=0;E.each(a,function(t){E.contains(e,t)||(e.push(t),i++)}),i&&E.notify(t.selector+" added "+i+" elements.",1)})}),this.track()},checkInView:function(e,t,a){var i=E.$data(e,"inview");if(p.isElementInView(e)){i||E.$data(e,"inview",!0);var r=this;this.processRules(e,function(a,i,n){if(t||!a.inviewDelay)E.$data(e,i,!0),E.onEvent({type:"inview",target:e,inviewDelay:a.inviewDelay});else if(a.inviewDelay){var s=E.$data(e,n);s||(s=setTimeout(function(){r.checkInView(e,!0,a.inviewDelay)},a.inviewDelay),E.$data(e,n,s))}},a)}else{if(!p.isElementInDocument(e)){var n=E.indexOf(this.elements,e);this.elements.splice(n,1)}i&&E.$data(e,"inview",!1),this.processRules(e,function(t,a,i){var r=E.$data(e,i);r&&clearTimeout(r)},a)}},track:function(){for(var e=this.elements.length-1;e>=0;e--)this.checkInView(this.elements[e])},processRules:function(e,t,a){var i=this.rules;a&&(i=E.filter(this.rules,function(e){return e.inviewDelay==a})),E.each(i,function(a,i){var r=a.inviewDelay?"viewed_"+a.inviewDelay:"viewed",n="inview_timeout_id_"+i;E.$data(e,r)||E.matchesCss(a.selector,e)&&t(a,r,n)})}},E.availableEventEmitters.push(p),E.inherit(f,E.BaseTool),E.extend(f.prototype,{initialize:function(){var e=this.settings;if(!1!==this.settings.initTool){var t=e.url;t="string"==typeof t?E.basePath()+t:E.isHttps()?t.https:t.http,E.loadScript(t,E.bind(this.onLoad,this)),this.initializing=!0}else this.initialized=!0},isQueueAvailable:function(){return!this.initialized},onLoad:function(){this.initialized=!0,this.initializing=!1,this.settings.initialBeacon&&this.settings.initialBeacon(),this.flushQueue()},endPLPhase:function(e){e===this.settings.loadOn&&(E.notify(this.name+": Initializing at "+e,1),this.initialize())},$fire:function(e,t,a){this.initializing?this.queueCommand({command:"fire",arguments:[a]},e,t):a.call(this.settings,e,t)}}),E.availableTools.am=f,E.availableTools.adlens=f,E.availableTools.aem=f,E.availableTools.__basic=f,E.extend(m.prototype,{getInstance:function(){return this.instance},initialize:function(){var e,t=this.settings;E.notify("Visitor ID: Initializing tool",1),null!==(e=this.createInstance(t.mcOrgId,t.initVars))&&(t.customerIDs&&this.applyCustomerIDs(e,t.customerIDs),t.autoRequest&&e.getMarketingCloudVisitorID(),this.instance=e)},createInstance:function(e,t){if(!E.isString(e))return E.notify('Visitor ID: Cannot create instance using mcOrgId: "'+e+'"',4),null;e=E.replace(e),E.notify('Visitor ID: Create instance using mcOrgId: "'+e+'"',1),t=this.parseValues(t);var a=Visitor.getInstance(e,t);return E.notify("Visitor ID: Set variables: "+E.stringify(t),1),a},applyCustomerIDs:function(e,t){var a=this.parseIds(t);e.setCustomerIDs(a),E.notify("Visitor ID: Set Customer IDs: "+E.stringify(a),1)},parseValues:function(e){if(!1===E.isObject(e))return{};var t={};for(var a in e)e.hasOwnProperty(a)&&(t[a]=E.replace(e[a]));return t},parseIds:function(e){var t={};if(!1===E.isObject(e))return{};for(var a in e)if(e.hasOwnProperty(a)){var i=E.replace(e[a].id);i!==e[a].id&&i&&(t[a]={},t[a].id=i,t[a].authState=Visitor.AuthState[e[a].authState])}return t}}),E.availableTools.visitor_id=m,E.inherit(h,E.BaseTool),E.extend(h.prototype,{name:"Default",$loadIframe:function(t,a,i){var r=i.pages,n=i.loadOn,s=E.bind(function(){E.each(r,function(e){this.loadIframe(t,a,e)},this)},this);n||s(),"domready"===n&&E.domReady(s),"load"===n&&E.addEventHandler(e,"load",s)},loadIframe:function(e,a,i){var r=t.createElement("iframe");r.style.display="none";var n=E.data.host,s=i.data,o=this.scriptURL(i.src),l=E.searchVariables(s,e,a);n&&(o=E.basePath()+o),o+=l,r.src=o;var d=t.getElementsByTagName("body")[0];d?d.appendChild(r):E.domReady(function(){t.getElementsByTagName("body")[0].appendChild(r)})},scriptURL:function(e){return(E.settings.scriptDir||"")+e},$loadScript:function(t,a,i){var r=i.scripts,n=i.sequential,s=i.loadOn,o=E.bind(function(){n?this.loadScripts(t,a,r):E.each(r,function(e){this.loadScripts(t,a,[e])},this)},this);s?"domready"===s?E.domReady(o):"load"===s&&E.addEventHandler(e,"load",o):o()},loadScripts:function(e,t,a){function i(){n.length>0&&r&&n.shift().call(e,t,s);var l=a.shift();if(l){var d=E.data.host,c=o.scriptURL(l.src);d&&(c=E.basePath()+c),r=l,E.loadScript(c,i)}}try{a=a.slice(0);var r,n=this.asyncScriptCallbackQueue,s=t.target||t.srcElement,o=this}catch(l){console.error("scripts is",E.stringify(a))}i()},$loadBlockingScript:function(e,t,a){var i=a.scripts;a.loadOn;E.bind(function(){E.each(i,function(a){this.loadBlockingScript(e,t,a)},this)},this)()},loadBlockingScript:function(e,t,a){var i=this.scriptURL(a.src),r=E.data.host,n=t.target||t.srcElement;r&&(i=E.basePath()+i),this.argsForBlockingScripts.push([e,t,n]),E.loadScriptSync(i)},pushAsyncScript:function(e){this.asyncScriptCallbackQueue.push(e)},pushBlockingScript:function(e){var t=this.argsForBlockingScripts.shift(),a=t[0];e.apply(a,t.slice(1))},$writeHTML:E.escapeHtmlParams(function(e,a){if(!E.domReadyFired&&t.write)if("pagebottom"===a.type||"pagetop"===a.type)for(var i=2,r=arguments.length;i<r;i++){var n=arguments[i].html;n=E.replace(n,e,a),t.write(n)}else E.notify("You can only use writeHTML on the `pagetop` and `pagebottom` events.",1);else E.notify("Command writeHTML failed. You should try appending HTML using the async option.",1)}),linkNeedsDelayActivate:function(t,a){a=a||e;var i=t.tagName,r=t.getAttribute("target"),n=t.getAttribute("href");return(!i||"a"===i.toLowerCase())&&(!!n&&(!r||"_blank"!==r&&("_top"===r?a.top===a:"_parent"!==r&&("_self"===r||(!a.name||r===a.name)))))},$delayActivateLink:function(e,t){if(this.linkNeedsDelayActivate(e)){E.preventDefault(t);var a=E.settings.linkDelay||100;setTimeout(function(){E.setLocation(e.href)},a)}},isQueueable:function(e){return"writeHTML"!==e.command}}),E.availableTools["default"]=h,E.inherit(v,E.BaseTool),E.extend(v.prototype,{name:"Nielsen",endPLPhase:function(e){switch(e){case"pagetop":this.initialize();break;case"pagebottom":this.enableTracking&&(this.queueCommand({command:"sendFirstBeacon",arguments:[]}),this.flushQueueWhenReady())}},defineListeners:function(){this.onTabFocus=E.bind(function(){this.notify("Tab visible, sending view beacon when ready",1),this.tabEverVisible=!0,this.flushQueueWhenReady()},this),this.onPageLeave=E.bind(function(){this.notify("isHuman? : "+this.isHuman(),1),this.isHuman()&&this.sendDurationBeacon()},this),this.onHumanDetectionChange=E.bind(function(e){this==e.target.target&&(this.human=e.target.isHuman)},this)},initialize:function(){this.initializeTracking(),this.initializeDataProviders(),this.initializeNonHumanDetection(),this.tabEverVisible=E.visibility.isVisible(),this.tabEverVisible?this.notify("Tab visible, sending view beacon when ready",1):E.bindEventOnce("tabfocus",this.onTabFocus),this.initialized=!0},initializeTracking:function(){this.initialized||(this.notify("Initializing tracking",1),this.addRemovePageLeaveEvent(this.enableTracking),this.addRemoveHumanDetectionChangeEvent(this.enableTracking),this.initialized=!0)},initializeDataProviders:function(){var e,t=this.getAnalyticsTool();this.dataProvider.register(new v.DataProvider.VisitorID(E.getVisitorId())),t?(e=new v.DataProvider.Generic("rsid",function(){return t.settings.account}),this.dataProvider.register(e)):this.notify("Missing integration with Analytics: rsid will not be sent.")},initializeNonHumanDetection:function(){E.nonhumandetection?(E.nonhumandetection.init(),this.setEnableNonHumanDetection(0!=this.settings.enableNonHumanDetection),this.settings.nonHumanDetectionDelay>0&&this.setNonHumanDetectionDelay(1e3*parseInt(this.settings.nonHumanDetectionDelay))):this.notify("NHDM is not available.")},getAnalyticsTool:function(){if(this.settings.integratesWith)return E.tools[this.settings.integratesWith]},flushQueueWhenReady:function(){this.enableTracking&&this.tabEverVisible&&E.poll(E.bind(function(){if(this.isReadyToTrack())return this.flushQueue(),!0},this),100,20)},isReadyToTrack:function(){return this.tabEverVisible&&this.dataProvider.isReady()},$setVars:function(e,t,a){for(var i in a){var r=a[i];"function"==typeof r&&(r=r()),this.settings[i]=r}this.notify("Set variables done",2),this.prepareContextData()},$setEnableTracking:function(e,t,a){this.notify("Will"+(a?"":" not")+" track time on page",1),this.enableTracking!=a&&(this.addRemovePageLeaveEvent(a),this.addRemoveHumanDetectionChangeEvent(a),this.enableTracking=a)},$sendFirstBeacon:function(){this.sendViewBeacon()},setEnableNonHumanDetection:function(e){e?E.nonhumandetection.register(this):E.nonhumandetection.unregister(this)},setNonHumanDetectionDelay:function(e){E.nonhumandetection.register(this,e)},addRemovePageLeaveEvent:function(e){this.notify((e?"Attach onto":"Detach from")+" page leave event",1),E[0==e?"unbindEvent":"bindEvent"]("leave",this.onPageLeave)},addRemoveHumanDetectionChangeEvent:function(e){this.notify((e?"Attach onto":"Detach from")+" human detection change event",1),E[0==e?"unbindEvent":"bindEvent"]("humandetection.change",this.onHumanDetectionChange)},sendViewBeacon:function(){this.notify("Tracked page view.",1),this.sendBeaconWith()},sendDurationBeacon:function(){if(E.timetracking&&"function"==typeof E.timetracking.timeOnPage&&null!=E.timetracking.timeOnPage()){this.notify("Tracked close",1),this.sendBeaconWith({timeOnPage:Math.round(E.timetracking.timeOnPage()/1e3),duration:"D",timer:"timer"});var e;for(e=0;e<this.magicConst;e++)"0"}else this.notify("Could not track close due missing time on page",5)},sendBeaconWith:function(e){this.enableTracking&&this[this.beaconMethod].call(this,this.prepareUrl(e))},plainBeacon:function(e){var t=new Image;t.src=e,t.width=1,t.height=1,t.alt=""},navigatorSendBeacon:function(e){navigator.sendBeacon(e)},prepareUrl:function(e){var t=this.settings;return E.extend(t,this.dataProvider.provide()),E.extend(t,e),this.preparePrefix(this.settings.collectionServer)+this.adapt.convertToURI(this.adapt.toNielsen(this.substituteVariables(t)))},preparePrefix:function(e){return"//"+encodeURIComponent(e)+".imrworldwide.com/cgi-bin/gn?"},substituteVariables:function(e){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[a]=E.replace(e[a]));return t},prepareContextData:function(){if(this.getAnalyticsTool()){var e=this.settings;e.sdkVersion=_satellite.publishDate,this.getAnalyticsTool().$setVars(null,null,{contextData:this.adapt.toAnalytics(this.substituteVariables(e))})}else this.notify("Adobe Analytics missing.")},isHuman:function(){return this.human},onTabFocus:function(){},onPageLeave:function(){},onHumanDetectionChange:function(){},notify:function(e,t){E.notify(this.logPrefix+e,t)},beaconMethod:"plainBeacon",adapt:null,enableTracking:!1,logPrefix:"Nielsen: ",tabEverVisible:!1,human:!0,magicConst:2e6}),v.DataProvider={},v.DataProvider.Generic=function(e,t){this.key=e,this.valueFn=t},E.extend(v.DataProvider.Generic.prototype,{isReady:function(){return!0},getValue:function(){return this.valueFn()},provide:function(){this.isReady()||v.prototype.notify("Not yet ready to provide value for: "+this.key,5);var e={};return e[this.key]=this.getValue(),e}}),v.DataProvider.VisitorID=function(e,t,a){this.key=t||"uuid",this.visitorInstance=e,this.visitorInstance&&(this.visitorId=e.getMarketingCloudVisitorID([this,this._visitorIdCallback])),this.fallbackProvider=a||new v.UUID},E.inherit(v.DataProvider.VisitorID,v.DataProvider.Generic),E.extend(v.DataProvider.VisitorID.prototype,{isReady:function(){return null===this.visitorInstance||!!this.visitorId},getValue:function(){return this.visitorId||this.fallbackProvider.get()},_visitorIdCallback:function(e){this.visitorId=e}}),v.DataProvider.Aggregate=function(){this.providers=[];for(var e=0;e<arguments.length;e++)this.register(arguments[e])},E.extend(v.DataProvider.Aggregate.prototype,{register:function(e){this.providers.push(e)},isReady:function(){return E.every(this.providers,function(e){return e.isReady()})},provide:function(){var e={};return E.each(this.providers,function(t){E.extend(e,t.provide())}),e}}),v.UUID=function(){},E.extend(v.UUID.prototype,{generate:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},get:function(){var e=E.readCookie(this.key("uuid"));return e||(e=this.generate(),E.setCookie(this.key("uuid"),e),e)},key:function(e){return"_dtm_nielsen_"+e}}),v.DataAdapters=function(){},E.extend(v.DataAdapters.prototype,{toNielsen:function(e){var t=(new Date).getTime(),i={c6:"vc,",c13:"asid,",c15:"apn,",c27:"cln,",c32:"segA,",c33:"segB,",c34:"segC,",c35:"adrsid,",c29:"plid,",c30:"bldv,",c40:"adbid,"},r={ci:e.clientId,c6:e.vcid,c13:e.appId,c15:e.appName,prv:1,forward:0,ad:0,cr:e.duration||"V",rt:"text",st:"dcr",prd:"dcr",r:t,at:e.timer||"view",c16:e.sdkVersion,c27:e.timeOnPage||0,c40:e.uuid,c35:e.rsid,ti:t,sup:0,c32:e.segmentA,c33:e.segmentB,c34:e.segmentC,asn:e.assetName,c29:e.playerID,c30:e.buildVersion};for(key in r)if(r[key]!==a&&null!=r[key]&&r[key]!==a&&null!=r&&""!=r){var n=encodeURIComponent(r[key]);i.hasOwnProperty(key)&&n&&(n=i[key]+n),r[key]=n}return this.filterObject(r)},toAnalytics:function(e){return this.filterObject({"a.nielsen.clientid":e.clientId,"a.nielsen.vcid":e.vcid,"a.nielsen.appid":e.appId,"a.nielsen.appname":e.appName,"a.nielsen.accmethod":"0","a.nielsen.ctype":"text","a.nielsen.sega":e.segmentA,"a.nielsen.segb":e.segmentB,"a.nielsen.segc":e.segmentC,"a.nielsen.asset":e.assetName})},convertToURI:function(e){if(!1===E.isObject(e))return"";var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(a+"="+e[a]);return t.join("&")},filterObject:function(e){for(var t in e)!e.hasOwnProperty(t)||null!=e[t]&&e[t]!==a||delete e[t];return e}}),E.availableTools.nielsen=v,E.inherit(y,E.BaseTool),E.extend(y.prototype,{name:"tnt",endPLPhase:function(e){"aftertoolinit"===e&&this.initialize()},initialize:function(){E.notify("Test & Target: Initializing",1),this.initializeTargetPageParams(),this.load()},initializeTargetPageParams:function(){e.targetPageParams&&this.updateTargetPageParams(this.parseTargetPageParamsResult(e.targetPageParams())),this.updateTargetPageParams(this.settings.pageParams),this.setTargetPageParamsFunction()},load:function(){var e=this.getMboxURL(this.settings.mboxURL);!1!==this.settings.initTool?this.settings.loadSync?(E.loadScriptSync(e),this.onScriptLoaded()):(E.loadScript(e,E.bind(this.onScriptLoaded,this)),this.initializing=!0):this.initialized=!0},getMboxURL:function(t){var a=t;return E.isObject(t)&&(a="https:"===e.location.protocol?t.https:t.http),a.match(/^https?:/)?a:E.basePath()+a},onScriptLoaded:function(){E.notify("Test & Target: loaded.",1),this.flushQueue(),this.initialized=!0,this.initializing=!1},$addMbox:function(e,t,a){var i=a.mboxGoesAround,r=i+"{visibility: hidden;}",n=this.appendStyle(r);i in this.styleElements||(this.styleElements[i]=n),this.initialized?this.$addMBoxStep2(null,null,a):this.initializing&&this.queueCommand({command:"addMBoxStep2",arguments:[a]},e,t)},$addMBoxStep2:function(a,i,r){var n=this.generateID(),s=this;E.addEventHandler(e,"load",E.bind(function(){E.cssQuery(r.mboxGoesAround,function(a){var i=a[0];if(i){var o=t.createElement("div");o.id=n,i.parentNode.replaceChild(o,i),o.appendChild(i),e.mboxDefine(n,r.mboxName);var l=[r.mboxName];r.arguments&&(l=l.concat(r.arguments)),e.mboxUpdate.apply(null,l),s.reappearWhenCallComesBack(i,n,r.timeout,r)}})},this)),this.lastMboxID=n},$addTargetPageParams:function(e,t,a){this.updateTargetPageParams(a)},generateID:function(){return"_sdsat_mbox_"+String(Math.random()).substring(2)+"_"},appendStyle:function(e){var a=t.getElementsByTagName("head")[0],i=t.createElement("style");return i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(t.createTextNode(e)),a.appendChild(i),i},reappearWhenCallComesBack:function(e,t,a,i){function r(){var e=n.styleElements[i.mboxGoesAround];e&&(e.parentNode.removeChild(e),delete n.styleElements[i.mboxGoesAround])}var n=this;E.cssQuery('script[src*="omtrdc.net"]',function(e){var t=e[0];if(t){E.scriptOnLoad(t.src,t,function(){E.notify("Test & Target: request complete",1),r(),clearTimeout(i)});var i=setTimeout(function(){E.notify("Test & Target: bailing after "+a+"ms",1),r()},a)}else E.notify("Test & Target: failed to find T&T ajax call, bailing",1),r()})},updateTargetPageParams:function(e){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[E.replace(a)]=E.replace(e[a]));E.extend(this.targetPageParamsStore,t)},getTargetPageParams:function(){return this.targetPageParamsStore},setTargetPageParamsFunction:function(){e.targetPageParams=E.bind(this.getTargetPageParams,this)},parseTargetPageParamsResult:function(e){var t=e;return E.isArray(e)&&(e=e.join("&")),E.isString(e)&&(t=E.parseQueryParams(e)),t}}),E.availableTools.tnt=y,E.inherit(k,E.BaseTool),E.extend(k.prototype,{name:"SC",endPLPhase:function(e){e===this.settings.loadOn&&this.initialize(e)},initialize:function(t){if(!this._cancelToolInit)if(this.settings.initVars=this.substituteVariables(this.settings.initVars,{type:t}),!1!==this.settings.initTool){var a=this.settings.sCodeURL||E.basePath()+"s_code.js";"object"==typeof a&&(a="https:"===e.location.protocol?a.https:a.http),a.match(/^https?:/)||(a=E.basePath()+a),this.settings.initVars&&this.$setVars(null,null,this.settings.initVars),E.loadScript(a,E.bind(this.onSCodeLoaded,this)),this.initializing=!0}else this.initializing=!0,this.pollForSC()},getS:function(t,a){var i=a&&a.hostname||e.location.hostname,r=this.concatWithToolVarBindings(a&&a.setVars||this.varBindings),n=a&&a.addEvent||this.events,s=this.getAccount(i),o=e.s_gi;if(!o)return null;if(this.isValidSCInstance(t)||(t=null),!s&&!t)return E.notify("Adobe Analytics: tracker not initialized because account was not found",1),null;t=t||o(s);var l="D"+E.appVersion;return"undefined"!=typeof t.tagContainerMarker?t.tagContainerMarker=l:"string"==typeof t.version&&t.version.substring(t.version.length-5)!=="-"+l&&(t.version+="-"+l),t.sa&&!0!==this.settings.skipSetAccount&&!1!==this.settings.initTool&&t.sa(this.settings.account),this.applyVarBindingsOnTracker(t,r),n.length>0&&(t.events=n.join(",")),E.getVisitorId()&&(t.visitor=E.getVisitorId()),t},onSCodeLoaded:function(e){this.initialized=!0,this.initializing=!1;var t=["Adobe Analytics: loaded",e?" (manual)":"","."];E.notify(t.join(""),1),E.fireEvent(this.id+".load",this.getS()),e||(this.flushQueueExceptTrackLink(),this.sendBeacon()),this.flushQueue()},getAccount:function(t){return e.s_account?e.s_account:t&&this.settings.accountByHost&&this.settings.accountByHost[t]||this.settings.account},getTrackingServer:function(){var t=this,a=t.getS();if(a){if(a.ssl&&a.trackingServerSecure)return a.trackingServerSecure;if(a.trackingServer)return a.trackingServer}var i,r=t.getAccount(e.location.hostname);if(!r)return null;var n,s,o="",l=a&&a.dc;return(n=(i=r).indexOf(","))>=0&&(i=i.gb(0,n)),i=i.replace(/[^A-Za-z0-9]/g,""),o||(o="2o7.net"),l=l?(""+l).toLowerCase():"d1","2o7.net"==o&&("d1"==l?l="112":"d2"==l&&(l="122"),s=""),n=i+"."+l+"."+s+o},sendBeacon:function(){var t=this.getS(e[this.settings.renameS||"s"]);t?this.settings.customInit&&!1===this.settings.customInit(t)?E.notify("Adobe Analytics: custom init suppressed beacon",1):(this.settings.executeCustomPageCodeFirst&&this.applyVarBindingsOnTracker(t,this.varBindings),this.executeCustomSetupFuns(t),t.t(),this.clearVarBindings(),this.clearCustomSetup(),E.notify("Adobe Analytics: tracked page view",1)):E.notify("Adobe Analytics: page code not loaded",1)},pollForSC:function(){E.poll(E.bind(function(){if("function"==typeof e.s_gi)return this.onSCodeLoaded(!0),!0},this))},flushQueueExceptTrackLink:function(){if(this.pending){for(var e=[],t=0;t<this.pending.length;t++){var a=this.pending[t];"trackLink"===a[0].command?e.push(a):this.triggerCommand.apply(this,a)}this.pending=e}},isQueueAvailable:function(){return!this.initialized},substituteVariables:function(e,t){var a={};for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];a[i]=E.replace(r,location,t)}return a},$setVars:function(e,t,a){for(var i in a)if(a.hasOwnProperty(i)){var r=a[i];"function"==typeof r&&(r=r()),this.varBindings[i]=r}E.notify("Adobe Analytics: set variables.",2)},$customSetup:function(e,t,a){this.customSetupFuns.push(function(i){a.call(e,t,i)})},isValidSCInstance:function(e){return!!e&&"function"==typeof e.t&&"function"==typeof e.tl},concatWithToolVarBindings:function(e){var t=this.settings.initVars||{};return E.map(["trackingServer","trackingServerSecure"],function(a){t[a]&&!e[a]&&(e[a]=t[a])}),e},applyVarBindingsOnTracker:function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},clearVarBindings:function(){this.varBindings={}},clearCustomSetup:function(){this.customSetupFuns=[]},executeCustomSetupFuns:function(t){E.each(this.customSetupFuns,function(a){a.call(e,t)})},$trackLink:function(e,t,a){var i=(a=a||{}).type,r=a.linkName;!r&&e&&e.nodeName&&"a"===e.nodeName.toLowerCase()&&(r=e.innerHTML),r||(r="link clicked");var n=a&&a.setVars,s=a&&a.addEvent||[],o=this.getS(null,{setVars:n,addEvent:s});if(o){var l=o.linkTrackVars,d=o.linkTrackEvents,c=this.definedVarNames(n);a&&a.customSetup&&a.customSetup.call(e,t,o),s.length>0&&c.push("events"),o.products&&c.push("products"),c=this.mergeTrackLinkVars(o.linkTrackVars,c),s=this.mergeTrackLinkVars(o.linkTrackEvents,s),o.linkTrackVars=this.getCustomLinkVarsList(c);var u=E.map(s,function(e){return e.split(":")[0]});o.linkTrackEvents=this.getCustomLinkVarsList(u),o.tl(!0,i||"o",r),E.notify(["Adobe Analytics: tracked link ","using: linkTrackVars=",E.stringify(o.linkTrackVars),"; linkTrackEvents=",E.stringify(o.linkTrackEvents)].join(""),1),o.linkTrackVars=l,o.linkTrackEvents=d}else E.notify("Adobe Analytics: page code not loaded",1)},mergeTrackLinkVars:function(e,t){return e&&(t=e.split(",").concat(t)),t},getCustomLinkVarsList:function(e){var t=E.indexOf(e,"None");return t>-1&&e.length>1&&e.splice(t,1),e.join(",")},definedVarNames:function(e){e=e||this.varBindings;var t=[];for(var a in e)e.hasOwnProperty(a)&&/^(eVar[0-9]+)|(prop[0-9]+)|(hier[0-9]+)|campaign|purchaseID|channel|server|state|zip|pageType$/.test(a)&&t.push(a);return t},$trackPageView:function(e,t,a){var i=a&&a.setVars,r=a&&a.addEvent||[],n=this.getS(null,{setVars:i,addEvent:r});n?(n.linkTrackVars="",n.linkTrackEvents="",this.executeCustomSetupFuns(n),a&&a.customSetup&&a.customSetup.call(e,t,n),n.t(),this.clearVarBindings(),this.clearCustomSetup(),E.notify("Adobe Analytics: tracked page view",1)):E.notify("Adobe Analytics: page code not loaded",1)},$postTransaction:function(t,a,i){var r=E.data.transaction=e[i],n=this.varBindings,s=this.settings.fieldVarMapping;if(E.each(r.items,function(e){this.products.push(e)},this),n.products=E.map(this.products,function(e){var t=[];if(s&&s.item)for(var a in s.item)if(s.item.hasOwnProperty(a)){var i=s.item[a];t.push(i+"="+e[a]),"event"===i.substring(0,5)&&this.events.push(i)}var r=["",e.product,e.quantity,e.unitPrice*e.quantity];return t.length>0&&r.push(t.join("|")),r.join(";")},this).join(","),s&&s.transaction){var o=[];for(var l in s.transaction)if(s.transaction.hasOwnProperty(l)){i=s.transaction[l];o.push(i+"="+r[l]),"event"===i.substring(0,5)&&this.events.push(i)}n.products.length>0&&(n.products+=","),n.products+=";;;;"+o.join("|")}},$addEvent:function(){for(var e=2,t=arguments.length;e<t;e++)this.events.push(arguments[e])},$addProduct:function(){for(var e=2,t=arguments.length;e<t;e++)this.products.push(arguments[e])}}),E.availableTools.sc=k,E.inherit(S,E.BaseTool),E.extend(S.prototype,{name:"GA",initialize:function(){var t=this.settings,a=e._gaq,i=t.initCommands||[],r=t.customInit;if(a||(_gaq=[]),this.isSuppressed())E.notify("GA: page code not loaded(suppressed).",1);else{if(!a&&!S.scriptLoaded){var n=E.isHttps(),s=(n?"https://ssl":"http://www")+".google-analytics.com/ga.js";t.url&&(s=n?t.url.https:t.url.http),E.loadScript(s),S.scriptLoaded=!0,E.notify("GA: page code loaded.",1)}t.domain;var o=t.trackerName,l=V.allowLinker(),d=E.replace(t.account,location);E.settings.domainList;_gaq.push([this.cmd("setAccount"),d]),l&&_gaq.push([this.cmd("setAllowLinker"),l]),_gaq.push([this.cmd("setDomainName"),V.cookieDomain()]),E.each(i,function(e){var t=[this.cmd(e[0])].concat(E.preprocessArguments(e.slice(1),location,null,this.forceLowerCase));_gaq.push(t)},this),r&&(this.suppressInitialPageView=!1===r(_gaq,o)),t.pageName&&this.$overrideInitialPageView(null,null,t.pageName)}this.initialized=!0,E.fireEvent(this.id+".configure",_gaq,o)},isSuppressed:function(){return this._cancelToolInit||!1===this.settings.initTool},tracker:function(){return this.settings.trackerName},cmd:function(e){var t=this.tracker();return t?t+"._"+e:"_"+e},$overrideInitialPageView:function(e,t,a){this.urlOverride=a},trackInitialPageView:function(){if(!this.isSuppressed()&&!this.suppressInitialPageView)if(this.urlOverride){var e=E.preprocessArguments([this.urlOverride],location,null,this.forceLowerCase);this.$missing$("trackPageview",null,null,e)}else this.$missing$("trackPageview")},endPLPhase:function(e){
e===this.settings.loadOn&&(E.notify("GA: Initializing at "+e,1),this.initialize(),this.flushQueue(),this.trackInitialPageView())},call:function(e,t,a,i){if(!this._cancelToolInit){this.settings;var r=this.tracker(),n=this.cmd(e);i=i?[n].concat(i):[n];_gaq.push(i),r?E.notify("GA: sent command "+e+" to tracker "+r+(i.length>1?" with parameters ["+i.slice(1).join(", ")+"]":"")+".",1):E.notify("GA: sent command "+e+(i.length>1?" with parameters ["+i.slice(1).join(", ")+"]":"")+".",1)}},$missing$:function(e,t,a,i){this.call(e,t,a,i)},$postTransaction:function(t,a,i){var r=E.data.customVars.transaction=e[i];this.call("addTrans",t,a,[r.orderID,r.affiliation,r.total,r.tax,r.shipping,r.city,r.state,r.country]),E.each(r.items,function(e){this.call("addItem",t,a,[e.orderID,e.sku,e.product,e.category,e.unitPrice,e.quantity])},this),this.call("trackTrans",t,a)},delayLink:function(e,t){var a=this;if(V.allowLinker()&&e.hostname.match(this.settings.linkerDomains)&&!E.isSubdomainOf(e.hostname,location.hostname)){E.preventDefault(t);var i=E.settings.linkDelay||100;setTimeout(function(){a.call("link",e,t,[e.href])},i)}},popupLink:function(t,a){if(e._gat){E.preventDefault(a);var i=this.settings.account,r=e._gat._createTracker(i)._getLinkerUrl(t.href);e.open(r)}},$link:function(e,t){"_blank"===e.getAttribute("target")?this.popupLink(e,t):this.delayLink(e,t)},$trackEvent:function(e,t){var a=Array.prototype.slice.call(arguments,2);if(a.length>=4&&null!=a[3]){var i=parseInt(a[3],10);E.isNaN(i)&&(i=1),a[3]=i}this.call("trackEvent",e,t,a)}}),E.availableTools.ga=S,E.inherit(b,E.BaseTool),E.extend(b.prototype,{name:"GAUniversal",endPLPhase:function(e){e===this.settings.loadOn&&(E.notify("GAU: Initializing at "+e,1),this.initialize(),this.flushQueue(),this.trackInitialPageView())},getTrackerName:function(){return this.settings.trackerSettings.name||""},isPageCodeLoadSuppressed:function(){return!1===this.settings.initTool||!0===this._cancelToolInit},initialize:function(){if(this.isPageCodeLoadSuppressed())return this.initialized=!0,void E.notify("GAU: Page code not loaded (suppressed).",1);var t="ga";e[t]=e[t]||this.createGAObject(),e.GoogleAnalyticsObject=t,E.notify("GAU: Page code loaded.",1),E.loadScriptOnce(this.getToolUrl());var a=this.settings;(V.allowLinker()&&!1!==a.allowLinker?this.createAccountForLinker():this.createAccount(),this.executeInitCommands(),a.customInit)&&(!1===(0,a.customInit)(e[t],this.getTrackerName())&&(this.suppressInitialPageView=!0));this.initialized=!0},createGAObject:function(){var e=function(){e.q.push(arguments)};return e.q=[],e.l=1*new Date,e},createAccount:function(){this.create()},createAccountForLinker:function(){var e={};V.allowLinker()&&(e.allowLinker=!0),this.create(e),this.call("require","linker"),this.call("linker:autoLink",this.autoLinkDomains(),!1,!0)},create:function(e){var t=this.settings.trackerSettings;(t=E.preprocessArguments([t],location,null,this.forceLowerCase)[0]).trackingId=E.replace(this.settings.trackerSettings.trackingId,location),t.cookieDomain||(t.cookieDomain=V.cookieDomain()),E.extend(t,e||{}),this.call("create",t)},autoLinkDomains:function(){var e=location.hostname;return E.filter(E.settings.domainList,function(t){return t!==e})},executeInitCommands:function(){var e=this.settings;e.initCommands&&E.each(e.initCommands,function(e){var t=e.splice(2,e.length-2);e=e.concat(E.preprocessArguments(t,location,null,this.forceLowerCase)),this.call.apply(this,e)},this)},trackInitialPageView:function(){this.suppressInitialPageView||this.isPageCodeLoadSuppressed()||this.call("send","pageview")},call:function(){"function"==typeof ga?this.isCallSuppressed()||(arguments[0]=this.cmd(arguments[0]),this.log(E.toArray(arguments)),ga.apply(e,arguments)):E.notify("GA Universal function not found!",4)},isCallSuppressed:function(){return!0===this._cancelToolInit},$missing$:function(e,t,a,i){i=i||[],i=[e].concat(i),this.call.apply(this,i)},getToolUrl:function(){var e=this.settings,t=E.isHttps();return e.url?t?e.url.https:e.url.http:(t?"https://ssl":"http://www")+".google-analytics.com/analytics.js"},cmd:function(e){var t=["send","set","get"],a=this.getTrackerName();return a&&-1!==E.indexOf(t,e)?a+"."+e:e},log:function(e){var t="GA Universal: sent command "+e[0]+" to tracker "+(this.getTrackerName()||"default");if(e.length>1){E.stringify(e.slice(1));t+=" with parameters "+E.stringify(e.slice(1))}t+=".",E.notify(t,1)}}),E.availableTools.ga_universal=b;var V={allowLinker:function(){return E.hasMultipleDomains()},cookieDomain:function(){var t=E.settings.domainList,a=E.find(t,function(t){var a=e.location.hostname;return E.equalsIgnoreCase(a.slice(a.length-t.length),t)});return a?"."+a:"auto"}};E.ecommerce={addItem:function(){var e=[].slice.call(arguments);E.onEvent({type:"ecommerce.additem",target:e})},addTrans:function(){var e=[].slice.call(arguments);E.data.saleData.sale={orderId:e[0],revenue:e[2]},E.onEvent({type:"ecommerce.addtrans",target:e})},trackTrans:function(){E.onEvent({type:"ecommerce.tracktrans",target:[]})}},E.visibility={isHidden:function(){var e=this.getHiddenProperty();return!!e&&t[e]},isVisible:function(){return!this.isHidden()},getHiddenProperty:function(){var e=["webkit","moz","ms","o"];if("hidden"in t)return"hidden";for(var a=0;a<e.length;a++)if(e[a]+"Hidden"in t)return e[a]+"Hidden";return null},getVisibilityEvent:function(){var e=this.getHiddenProperty();return e?e.replace(/[H|h]idden/,"")+"visibilitychange":null}},_satellite.init({tools:{f67afc6a92a2dbab4e1268e29a1f6320:{engine:"sc",loadOn:"pagebottom",account:"skysport-live",euCookie:!1,sCodeURL:"e9e956c5e126005d1cc9cacd2d7637dcf1d19452/s-code-contents-025455f70fa470a4d99abdb47fa8f22fb8cd1817.js",renameS:"s",initVars:{charSet:"UTF-8",currencyCode:"EUR",trackingServer:"omni.sky.de",trackingServerSecure:"somni.sky.de",campaign:E.getQueryParam("wkz"),trackInlineStats:!0,trackDownloadLinks:!0,linkDownloadFileTypes:"avi,css,csv,doc,docx,eps,exe,jpg,js,m4v,mov,mp3,pdf,png,ppt,pptx,rar,svg,tab,txt,vsd,vxd,wav,wma,wmv,xls,xlsx,xml,zip",trackExternalLinks:!0,linkInternalFilters:"6erpack.sky.de,checkout.wirecard.com,infinityworks.com,javascript:,kickbase.com,kickbase.sky.de,mailto:,omni.sky.at,omni.sky.de,sky.kickbase.com,skydev.kickbase.com,skysport.at,skysport.de,somni.sky.at,somni.sky.de,sport.sky.at,sport.sky.de,stage.skysport.at,stage.skysport.de,stage.sport.sky.at,stage.sport.sky.de,tel:,uat.sport.sky.at,uat.sport.sky.de",linkLeaveQueryString:!1,dynamicVariablePrefix:"D="},customInit:function(){if("true"===digitalData.trackingDisabled||"/inqchat.html?IFRAME"===digitalData.url.relative||"true"===digitalData.page.pageInfo.artificialPageview||e.location.href.indexOf("kickbase.sky.de")>-1)return!1}},"56a3b162dfcc7e1114fe7c5f894297d511a7f4d1":{engine:"visitor_id",loadOn:"pagetop",name:"VisitorID",mcOrgId:"184E38B3527853300A490D4C@AdobeOrg",autoRequest:!0,initVars:{trackingServer:"omni.sky.de",trackingServerSecure:"somni.sky.de",marketingCloudServer:"omni.sky.de",marketingCloudServerSecure:"somni.sky.de"}}},pageLoadRules:[{name:"3rd Party: Chartbeat / Customers (sport.sky.de)",trigger:[{command:"writeHTML",arguments:[{html:"<script type='text/javascript'>\n    var _sf_async_config = _sf_async_config || {};\n    /** CONFIGURATION START **/\n    _sf_async_config.uid = (window.location.hostname==='sport.sky.de') ? 101167 : 65292; //CHANGE THIS\n    _sf_async_config.domain = _sf_async_config.domain || window.location.hostname; //CHANGE THIS\n    _sf_async_config.useCanonical = true;\n    _sf_async_config.sections = _sf_async_config.sections || 'none'; //CHANGE THIS\n    _sf_async_config.authors = 'none'; //CHANGE THIS\n    _cbq = window._cbq = (window._cbq || []);\n    _cbq.push(['_acct', 'paid']);\n    /** CONFIGURATION END **/\n    (function() {\n        function loadChartbeat() {\n            var e = document.createElement('script');\n            e.setAttribute('language', 'javascript');\n            e.setAttribute('type', 'text/javascript');\n            e.setAttribute('src', '//static.chartbeat.com/js/chartbeat.js');\n            document.body.appendChild(e);\n        }\n        var oldonload = window.onload;\n        window.onload = (typeof window.onload != 'function') ?\n            loadChartbeat : function() {\n                oldonload();\n                loadChartbeat();\n            };\n    })();\n</script>"}]}],scope:{subdomains:{exclude:["kickbase.sky.de","6erpack.sky.de"]}},conditions:[function(){return _satellite.textMatch(_satellite.getVar("user.group"),/customer/i)},function(){return _satellite.textMatch(_satellite.getVar("view.isNormalView"),"true")}],event:"pagebottom"},{name:"3rd Party: Chartbeat / Prospects (sport.sky.de)",trigger:[{command:"writeHTML",arguments:[{html:"<script type='text/javascript'>\n    var _sf_async_config = _sf_async_config || {};\n    /** CONFIGURATION START **/\n    _sf_async_config.uid = (window.location.hostname==='sport.sky.de') ? 101167 : 65292; //CHANGE THIS\n    _sf_async_config.domain = _sf_async_config.domain || window.location.hostname; //CHANGE THIS\n    _sf_async_config.useCanonical = true;\n    _sf_async_config.sections = _sf_async_config.sections || 'none'; //CHANGE THIS\n    _sf_async_config.authors = 'none'; //CHANGE THIS\n    _cbq = window._cbq = (window._cbq || []);\n    _cbq.push(['_acct', 'anon']);\n    /** CONFIGURATION END **/\n    (function() {\n        function loadChartbeat() {\n            var e = document.createElement('script');\n            e.setAttribute('language', 'javascript');\n            e.setAttribute('type', 'text/javascript');\n            e.setAttribute('src', '//static.chartbeat.com/js/chartbeat.js');\n            document.body.appendChild(e);\n        }\n        var oldonload = window.onload;\n        window.onload = (typeof window.onload != 'function') ?\n            loadChartbeat : function() {\n                oldonload();\n                loadChartbeat();\n            };\n    })();\n</script>"}]}],scope:{subdomains:{exclude:["kickbase.sky.de","6erpack.sky.de"]}},conditions:[function(){return _satellite.textMatch(_satellite.getVar("user.group"),/prospect/i)},function(){return _satellite.textMatch(_satellite.getVar("view.isNormalView"),"true")}],event:"pagebottom"},{name:"3rd Party: Exactag",trigger:[{command:"writeHTML",arguments:[{html:'<!-- Begin Exactag Container Tag --> \n<script type="text/javascript" >\nvar exactag = {};\nexactag.campaign = "0cb6511f811a671a962076aed7d06e2a";\nexactag.shop = "sky.de";\nexactag.subid = _satellite.getVar("campaign.wkz");\nexactag.sitegroup = "sportportal: generic";\nexactag.level = "generic";\n// crossover referrer manipulation\nvar ref = document.referrer;\nif (typeof(ref) === "string" && ref.length > 0) {\n  if (ref.indexOf("skyticket.sky.de") != -1) {exactag.referrer = "skyticket.sky.de/sportportal";}\n  if (ref.indexOf("www.sky.de") != -1) {exactag.referrer = "www.sky.de/sportportal";}\n}\n</script>\n<script type="text/javascript" src="//cdn.exactag.com/js/exactag.js"></script>\n<!-- End Exactag Container Tag -->'}]}],scope:{subdomains:{exclude:["kickbase.sky.de","6erpack.sky.de"]}},conditions:[function(){return _satellite.textMatch(_satellite.getVar("view.isNormalView"),"true")}],event:"pagebottom"},{name:"3rd Party: Hola Spark",trigger:[{command:"writeHTML",arguments:[{html:'<script async crossorigin="anonymous" src="//player.h-cdn.com/loader.js?customer=sky_de"></script>'}]}],scope:{subdomains:{exclude:["6erpack.sky.de","kickbase.sky.de"]}},conditions:[function(){return _satellite.textMatch(_satellite.getVar("view.isNormalView"),"true")}],event:"pagetop"},{name:"3rd Party: ID_026 Facebook WCA",trigger:[{command:"writeHTML",arguments:[{html:'<!-- Facebook Pixel Code -->\n<script>\n!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?\nn.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;\nn.push=n;n.loaded=!0;n.version=\'2.0\';n.queue=[];t=b.createElement(e);t.async=!0;\nt.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,\ndocument,\'script\',\'//connect.facebook.net/en_US/fbevents.js\');\n \nfbq(\'init\', \'906712712681579\');\nfbq(\'track\', "PageView");\n\n</script>\n<noscript><img height="1" width="1" style="display:none"\nsrc="https://www.facebook.com/tr?id=906712712681579&ev=PageView&noscript=1"\n/>\n  <img height="1" width="1" style= "display:none"\nsrc="https://www.facebook.com/tr/?id=906712712681579&ev=Adobe-Audience-Manager-Segment&cd[segID]=%ALIAS%&noscript=1"\n/>\n</noscript>\n<!-- End Facebook Pixel Code -->\n'}]}],scope:{subdomains:{exclude:["kickbase.sky.de","6erpack.sky.de"]}},conditions:[function(){return _satellite.textMatch(_satellite.getVar("view.isNormalView"),"true")}],event:"pagebottom"},{name:"3rd Party: IVW (6erpack.sky.de)",trigger:[{command:"writeHTML",arguments:[{html:'<!-- SZM VERSION="2.0" -->\n<script type="text/javascript"\nsrc="https://script.ioam.de/iam.js"> </script>\n        \n<script type="text/javascript">       \nvar iam_data = {\n  "st":"premiede", // predefined\n  "cp": "sport_6erpack", //\n  "sv":"in" //predefined\n}\n\n// uncomment ivw call for going live\niom.c(iam_data,1);\n</script>'}]}],scope:{URI:{exclude:[/\/(faq|teilnahmebedingungen|spielregeln|datenschutz-und-cookies|impressum)/i]},subdomains:{exclude:["sport.sky.de","kickbase.sky.de"]}},conditions:[function(){return _satellite.textMatch(_satellite.getVar("view.isNormalView"),"true")}],event:"pagebottom"},{name:"3rd Party: IVW (kickbase.sky.de)",trigger:[{command:"writeHTML",arguments:[{html:'<!-- SZM VERSION="2.0" -->\n<script type="text/javascript"\nsrc="https://script.ioam.de/iam.js"> </script>\n        \n<script type="text/javascript">       \nvar iam_data = {\n  "st":"premiede", // predefined\n  "cp": "sport_kickbase", //\n  "sv":"in" //predefined\n}\n\n// uncomment ivw call for going live\niom.c(iam_data,1);\n</script>'}]}],scope:{URI:{exclude:["/home/faq.html"]},subdomains:{exclude:["sport.sky.de","6erpack.sky.de"]}},conditions:[function(){return _satellite.textMatch(_satellite.getVar("view.isNormalView"),"true")}],event:"pagebottom"},{name:"3rd Party: IVW (sport.sky.de)",trigger:[{command:"writeHTML",arguments:[{html:'<!-- SZM VERSION="2.0" -->\n<script type="text/javascript"\nsrc="https://script.ioam.de/iam.js"> </script>\n        \n<script type="text/javascript">       \nvar iam_data = {\n  "st":"premiede", // predefined\n  "cp": "sport_" + digitalData.page.pageInfo.IVWcategory, //\n  "sv":"in" //predefined\n}\n\n// uncomment ivw call for going live\niom.c(iam_data,1);\n</script>'}]}],scope:{subdomains:{exclude:["kickbase.sky.de","6erpack.sky.de"]}},conditions:[function(){return _satellite.textMatch(_satellite.getVar("view.isNormalView"),"true")}],event:"pagebottom"},{name:"Load waSky Lib & Digital Data Layer",trigger:[{command:"writeHTML",arguments:[{
html:'<script type="text/javascript">\nvar digitalData={campaign:{crm:"",crmString:"",eml:"",intcmp1:"",intcmp2:"",intcmp3:"",slt:"",wkz:"",wkzSiebel:""},country:"",environment:"",errorLoggingEnabled:"true",errorMessage:"",media:{video:{data:{}}},page:{pageInfo:{artificialPageview:"false",calculatedViewPort:"",contentType:"",hierarchy1:"",hierarchy2:"",hierarchy3:"",IVWcategory:"",level1:"",level2:"",level3:"",level4:"",level5:"",level6:"",level7:"",level8:"",level9:"",level10:"",pageId:0,pageName:"",previousPage:"",previousChannel:"",viewPort:""}},persistStore:{globalVars:{next:{loginStatus:"",cHash:"",customerProfile:"",userGroup:""},online:{loginStatus:"",cHash:"",customerProfile:"",userGroup:""},go2:{loginStatus:"",cHash:"",customerProfile:"",userGroup:""}}},persistStoreLoaded:false,referrer:{artificialReferrerSet:"false"},search:{resultCount:"",termEntered:""},sessionTimedOut:"false",sessionStart:"",social:{successfullyShared:"false",network:""},timestamp:"",timestampSecs:"",timestampLastPage:"",trackingDisabled:"false",user:{age:"",altUserIdName:"",altUserIdHash:"",cHash:"",cHashTimestamped:"",deviceType:"",customerProfile:"",gender:"",group:"",global:{loginStatus:"logout",loginStatusProjects:""},loginStatus:"",loginString:"",rememberMeOption:"",marketingPermission:"",singleSignOnOption:""},url:{},view:{type:"",isWebView:"",isNormalView:"",appName:"",string:""},version:"1.4"};/*@cc_on if(!document.querySelector)document.querySelector=function(selector){var head=document.documentElement.firstChild;var styleTag=document.createElement("STYLE");head.appendChild(styleTag);document.__qsResult=[];styleTag.styleSheet.cssText=selector+"{x:expression(document.__qsResult.push(this))}";window.scrollBy(0,0);head.removeChild(styleTag);return document.__qsResult[0]||null}@*/;function parseUri(str){var license_credits=\'parseUri 1.2.2 for convenient URL parsing | http://stevenlevithan.com/demo/parseuri/js/\'+\'(c) Steven Levithan <stevenlevithan.com>\'+\'MIT License\'+\'Leave this variable intact\';var o=parseUri.options,m=o.parser[o.strictMode?"strict":"loose"].exec(str),uri={},i=14;while(i--)uri[o.key[i]]=m[i]||"";uri[o.q.name]={};uri[o.key[12]].replace(o.q.parser,function($0,$1,$2){if($1)uri[o.q.name][$1]=$2});return uri}parseUri.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/}};var cryptoJSCopyright="CryptoJS v3.1.2, code.google.com/p/crypto-js, (c) 2009-2013 by Jeff Mott. All rights reserved. code.google.com/p/crypto-js/wiki/License";var CryptoJS=CryptoJS||function(h,s){var f={},t=f.lib={},g=function(){},j=t.Base={extend:function(a){g.prototype=this;var c=new g;a&&c.mixIn(a);c.hasOwnProperty("init")||(c.init=function(){c.$super.init.apply(this,arguments)});c.init.prototype=c;c.$super=this;return c},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},q=t.WordArray=j.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=s?c:4*a.length},toString:function(a){return(a||u).stringify(this)},concat:function(a){var c=this.words,d=a.words,b=this.sigBytes;a=a.sigBytes;this.clamp();if(b%4)for(var e=0;e<a;e++)c[b+e>>>2]|=(d[e>>>2]>>>24-8*(e%4)&255)<<24-8*((b+e)%4);else if(65535<d.length)for(e=0;e<a;e+=4)c[b+e>>>2]=d[e>>>2];else c.push.apply(c,d);this.sigBytes+=a;return this},clamp:function(){var a=this.words,c=this.sigBytes;a[c>>>2]&=4294967295<<32-8*(c%4);a.length=h.ceil(c/4)},clone:function(){var a=j.clone.call(this);a.words=this.words.slice(0);return a},random:function(a){for(var c=[],d=0;d<a;d+=4)c.push(4294967296*h.random()|0);return new q.init(c,a)}}),v=f.enc={},u=v.Hex={stringify:function(a){var c=a.words;a=a.sigBytes;for(var d=[],b=0;b<a;b++){var e=c[b>>>2]>>>24-8*(b%4)&255;d.push((e>>>4).toString(16));d.push((e&15).toString(16))}return d.join("")},parse:function(a){for(var c=a.length,d=[],b=0;b<c;b+=2)d[b>>>3]|=parseInt(a.substr(b,2),16)<<24-4*(b%8);return new q.init(d,c/2)}},k=v.Latin1={stringify:function(a){var c=a.words;a=a.sigBytes;for(var d=[],b=0;b<a;b++)d.push(String.fromCharCode(c[b>>>2]>>>24-8*(b%4)&255));return d.join("")},parse:function(a){for(var c=a.length,d=[],b=0;b<c;b++)d[b>>>2]|=(a.charCodeAt(b)&255)<<24-8*(b%4);return new q.init(d,c)}},l=v.Utf8={stringify:function(a){try{return decodeURIComponent(escape(k.stringify(a)))}catch(c){throw Error("Malformed UTF-8 data");}},parse:function(a){return k.parse(unescape(encodeURIComponent(a)))}},x=t.BufferedBlockAlgorithm=j.extend({reset:function(){this._data=new q.init;this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=l.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(a){var c=this._data,d=c.words,b=c.sigBytes,e=this.blockSize,f=b/(4*e),f=a?h.ceil(f):h.max((f|0)-this._minBufferSize,0);a=f*e;b=h.min(4*a,b);if(a){for(var m=0;m<a;m+=e)this._doProcessBlock(d,m);m=d.splice(0,a);c.sigBytes-=b}return new q.init(m,b)},clone:function(){var a=j.clone.call(this);a._data=this._data.clone();return a},_minBufferSize:0});t.Hasher=x.extend({cfg:j.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){x.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(c,d){return(new a.init(d)).finalize(c)}},_createHmacHelper:function(a){return function(c,d){return(new w.HMAC.init(a,d)).finalize(c)}}});var w=f.algo={};return f}(Math);(function(h){for(var s=CryptoJS,f=s.lib,t=f.WordArray,g=f.Hasher,f=s.algo,j=[],q=[],v=function(a){return 4294967296*(a-(a|0))|0},u=2,k=0;64>k;){var l;a:{l=u;for(var x=h.sqrt(l),w=2;w<=x;w++)if(!(l%w)){l=!1;break a}l=!0}l&&(8>k&&(j[k]=v(h.pow(u,0.5))),q[k]=v(h.pow(u,1/3)),k++);u++}var a=[],f=f.SHA256=g.extend({_doReset:function(){this._hash=new t.init(j.slice(0))},_doProcessBlock:function(c,d){for(var b=this._hash.words,e=b[0],f=b[1],m=b[2],h=b[3],p=b[4],j=b[5],k=b[6],l=b[7],n=0;64>n;n++){if(16>n)a[n]=c[d+n]|0;else{var r=a[n-15],g=a[n-2];a[n]=((r<<25|r>>>7)^(r<<14|r>>>18)^r>>>3)+a[n-7]+((g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10)+a[n-16]}r=l+((p<<26|p>>>6)^(p<<21|p>>>11)^(p<<7|p>>>25))+(p&j^~p&k)+q[n]+a[n];g=((e<<30|e>>>2)^(e<<19|e>>>13)^(e<<10|e>>>22))+(e&f^e&m^f&m);l=k;k=j;j=p;p=h+r|0;h=m;m=f;f=e;e=r+g|0}b[0]=b[0]+e|0;b[1]=b[1]+f|0;b[2]=b[2]+m|0;b[3]=b[3]+h|0;b[4]=b[4]+p|0;b[5]=b[5]+j|0;b[6]=b[6]+k|0;b[7]=b[7]+l|0},_doFinalize:function(){var a=this._data,d=a.words,b=8*this._nDataBytes,e=8*a.sigBytes;d[e>>>5]|=128<<24-e%32;d[(e+64>>>9<<4)+14]=h.floor(b/4294967296);d[(e+64>>>9<<4)+15]=b;a.sigBytes=4*d.length;this._process();return this._hash},clone:function(){var a=g.clone.call(this);a._hash=this._hash.clone();return a}});s.SHA256=g._createHelper(f);s.HmacSHA256=g._createHmacHelper(f)})(Math);var waSky={projectName:"SPORTS",onsiteHosts:{"DE":".sky.de","AT":".sky.at","DE":".skysport.de","AT":".skysport.at","DE":".kickbase.com","DE":"infinityworks.com"},onsiteSubHosts:["sport.sky.de","sport.sky.at","www.skysport.at","www.skysport.de","uat.sport.sky.de","uat.sport.sky.at","stage.skysport.de","stage.skysport.at","stage.sport.sky.at","stage.sport.sky.de","skydev.kickbase.com","sky.kickbase.com","www.kickbase.com","skydev.kickbase.com","6erpack.sky.de","test.s6-de.infinityworks.com"],onsiteInt:["//stage.skysport.de","//stage.sport.sky.de","//uat.sport.sky.de","//stage.skysport.at","//stage.sport.sky.at","//uat.sport.sky.at","//skydev.kickbase.com","//test.s6-de.infinityworks.com"],onsiteLive:["//skysport.de","//sport.sky.de","//skysport.at","//sport.sky.at","//sky.kickbase.com","//www.kickbase.com","//6erpack.sky.de"],delimiterRecords:"|",delimiterValues:"::",sessionTime:30,sessionTimedOut:false,cookieLifetime:63072000,isUrlOnsite:false,isReferrerOnsite:false,debugMode:false,debugModeIsApp:false,constructorCalled:false,page:{setInfoBasic:function(pageName,hierarchy1,viewPort,hierarchy2,hierarchy3,pageId,pageCMSHeadline,contentType,trackPageView){var dd=digitalData;var sitemapLevels=Array();var sitemapLastLevel="";var propertyName="";var pageFlags=Array();var pageFlagsI=0;var checksOk=true;if(!trackPageView){var trackPageView=false}waSky.error.pageviewCalled=true;waSky.debug("Page, general information, page.setInfoBasic("+pageName+", "+hierarchy1+", "+viewPort+", "+hierarchy2+", "+hierarchy3+", "+pageId+", "+pageCMSHeadline+", "+contentType+", "+trackPageView+")");if((typeof(pageName)!=="string"||pageName.length===0)||(typeof(pageId)!=="string"||pageId.length===0)||(typeof(hierarchy1)!=="string"||hierarchy1.length===0)){if(typeof(hierarchy1)!=="string"||hierarchy1.length===0){waSky.error.log(\'Param hierachy1 empty/invalid, value was: "\'+hierarchy1+\'" \',"page.setInfo")}else{waSky.error.log("Required params not set/invalid ("+pageName+", "+hierarchy1+", "+viewPort+", "+hierarchy2+", "+hierarchy3+", "+pageId+", "+pageCMSHeadline+", "+contentType+", "+trackPageView+")","page.setInfoBasic")}checksOk=false}if(checksOk){if(typeof(trackPageView)==="boolean"&&trackPageView===true){dd.page.pageInfo.artificialPageview="true"}else{dd.page.pageInfo.artificialPageview="false"}if((typeof(viewPort)!=="string"||viewPort.length===0)){this.setViewPort();viewPort=dd.page.pageInfo.calculatedViewPort}pageName=this.correctPageName(pageName);hierarchy1=this.correctHierarchy1(hierarchy1,pageName);if(hierarchy1==="kickbase"){hierarchy2=hierarchy1.hierarchy2}dd.page.pageInfo.pageId=waSky.cleanString(pageId);dd.page.pageInfo.pageName=waSky.cleanString(pageName);dd.page.pageInfo.viewPort=waSky.cleanString(viewPort).toUpperCase();dd.page.pageInfo.pageCMSHeadline=waSky.cleanString(pageCMSHeadline);dd.page.pageInfo.contentType=waSky.cleanString(contentType);dd.page.pageInfo.adRelevance="true";if(hierarchy1!==\'\'){dd.page.pageInfo.hierarchy1=waSky.cleanString(hierarchy1)}sitemapLevels=hierarchy1.split(waSky.delimiterValues);for(i=0;i<=(sitemapLevels.length-1);i++){propertyName="level"+(i+1);dd["page"]["pageInfo"][propertyName]=sitemapLevels[i].toLowerCase();sitemapLastLevel=digitalData["page"]["pageInfo"][propertyName]}dd.page.pageInfo.IVWcategory=sitemapLastLevel;if(typeof(hierarchy2)==="string"&&hierarchy2.length>0){dd.page.pageInfo.hierarchy2=waSky.cleanString(hierarchy2)}if(typeof(hierarchy3)==="string"&&hierarchy3.length>0){dd.page.pageInfo.hierarchy3=waSky.cleanString(hierarchy3)}this.setPreviousPage();this.setPreviousChannel();if(typeof(trackPageView)==="boolean"&&trackPageView===true){if(dd.trackingDisabled==="false"){dd.page.pageInfo.artificialPageview="true";_satellite.track("Artifical Pageview (generic)");if(digitalData.url.host.indexOf("sport.sky.de")>-1){if(dd.view.isNormalView==="true"){window.setTimeout(function(){_satellite.track("IVW Artificial Sport")},250)}}else{if(digitalData.url.host.indexOf("6erpack.")>-1){if(dd.view.isNormalView==="true"){window.setTimeout(function(){_satellite.track("IVW Artificial 6erpack")},250)}}else{if(digitalData.url.host.indexOf("kickbase.")>-1){if(dd.view.isNormalView==="true"){window.setTimeout(function(){_satellite.track("IVW Artificial Kickbase")},250)}}}}}}return true}else{return false}},correctPageName:function(pageName){var returnVal=pageName;var dd=digitalData;if(pageName.substr(0,1)==="/"){returnVal=pageName.substr(1,pageName.length)}return returnVal},correctHierarchy1:function(hierarchy1,pageName){var returnVal=hierarchy1;hierarchy1=hierarchy1.toLowerCase();pageName=pageName.toLowerCase();return returnVal},setViewPort:function(){var dd=digitalData;var w=window.innerWidth;var vp="";if(w<450){dd.page.pageInfo.calculatedViewPort="XS"}else if(w<560){dd.page.pageInfo.calculatedViewPort="S"}else if(w<840){dd.page.pageInfo.calculatedViewPort="M"}else if(w<880){dd.page.pageInfo.calculatedViewPort="L"}else{dd.page.pageInfo.calculatedViewPort="XL"}},setPreviousPage:function(){var dd=digitalData;var previousPage=waSky.persistStore.get("currentPage");waSky.debug("Page, previous page, page.setPreviousPage()");if(typeof(previousPage)==="string"&&previousPage.length>0){dd.page.pageInfo.previousPage=previousPage}waSky.persistStore.set("currentPage",dd.page.pageInfo.pageName);return true},setPreviousChannel:function(){var dd=digitalData;var previousChannel=waSky.persistStore.get("currentChannel");waSky.debug("Page, previous channel, page.setPreviousChannel()");if(typeof(previousChannel)==="string"&&previousChannel.length>0){dd.page.pageInfo.previousChannel=previousChannel}waSky.persistStore.set("currentChannel",dd.page.pageInfo.level1);return true}},country:{setCountry:function(){waSky.debug("Country, setCountry()");var dd=digitalData;dd.country="";host=dd.url.host;for(var key in waSky.onsiteHosts){var checkKey=key.toLowerCase();if(dd.country.length===0&&host.indexOf(checkKey)>-1){dd.country=checkKey}}if(dd.country.length===0){dd.country="unknown";waSky.error.log("Country set to \'unknown\', domain unknown - not \'sky.de\' or \'sky.at\'. Instead:"+document.URL,"country.setCountry")}}},user:{idSyncCompanyId:"184E38B3527853300A490D4C@AdobeOrg",idSyncPartnerName:"skydeutschland",syncIds:function(loginStatus){var dd=digitalData;var waVisitorLoginStatus=0;waSky.debug("User Id Sync, user.syncIds() - Sync with AAM, login status changed to:"+loginStatus);var visitor=Visitor.getInstance(this.idSyncCompanyId);if(loginStatus==="login"){waVisitorLoginStatus=1}else if(loginStatus==="logout"){waVisitorLoginStatus=2}else{waVisitorLoginStatus=0}if(dd.user.cHash!==""){visitor.setCustomerIDs({"chash":{"id":dd.user.cHash,"authState":waVisitorLoginStatus}})}},setCHash:function(hashedCustomerID){var dd=digitalData;if(!hashedCustomerID)var hashedCustomerID="";if(hashedCustomerID!==""){waSky.persistStore.set("cHash",hashedCustomerID.toLowerCase());waSky.persistStore.writeSimpleCookie("cHash",hashedCustomerID.toLowerCase());dd.user.cHash=hashedCustomerID.toLowerCase();dd.user.group="customer"}},recoverVars:function(){var dd=digitalData;var cHash=waSky.persistStore.get("cHash");var customerProfile=waSky.persistStore.get("customerProfile");var loginStatusPersistent=waSky.persistStore.get("loginStatus");var loginStatusOnetime=waSky.persistStore.get("loginStatusOnetime");var loginStringPersistent=waSky.persistStore.get("loginString");var loginStringOnetime=waSky.persistStore.get("loginStringOnetime");var loginStatusProjects="";if(typeof(cHash)==="string"&&cHash.length>0){dd.user.cHash=cHash.toLowerCase();dd.user.cHashTimestamped=cHash+waSky.delimiterValues+waSky.getTimestamp()}if(typeof(loginStatusPersistent)!=="string"||loginStatusPersistent.length===0){waSky.persistStore.set("loginStatus","logout")}if(typeof(loginStringPersistent)!=="string"||loginStringPersistent.length===0){waSky.persistStore.set("loginString","logout")}if(dd.sessionStart==="true"&&typeof(loginStringPersistent)==="string"&&loginStringPersistent.indexOf("remember")>-1){waSky.debug("User, restored \'rememberme\' login at session start, recoverVars()");waSky.persistStore.set("loginStatus","login");dd.user.loginStatus="login";waSky.persistStore.set("loginString","login::remember");dd.user.loginString="login::remember"}if(typeof(loginStatusOnetime)==="string"&&loginStatusOnetime.length>0){dd.user.loginStatus=loginStatusOnetime;waSky.persistStore.deleteItem("loginStatusOnetime")}if(typeof(loginStringOnetime)==="string"&&loginStringOnetime.length>0){dd.user.loginString=loginStringOnetime;waSky.persistStore.deleteItem("loginStringOnetime")}if(typeof(cHash)==="string"&&cHash.length>0){dd.user.group="customer"}else{dd.user.group="prospect"}if(typeof(customerProfile)==="string"&&customerProfile.length>0){dd.user.customerProfile=customerProfile;customerProfile=customerProfile.split(waSky.delimiterValues);dd.user.age=parseInt(customerProfile[0]);dd.user.gender=customerProfile[1];dd.user.marketingPermission=customerProfile[3]}dd.user.deviceType=_satellite.browserInfo.deviceType.toLowerCase();this.setGlobalVars();if(typeof(dd.url.queryKey)!=="undefined"&&typeof(dd.url.queryKey["data-wa-customer-demark"])!=="undefined"){this.removeCustomerProfile()}return dd.user.cHash},setGlobalVars:function(){var dd=digitalData;if(typeof(dd.persistStore.globalVars)==="object"){var ddP=digitalData.persistStore.globalVars;for(var project in dd.persistStore.globalVars){if(typeof(ddP[project]["loginStatus"])!=="undefined"&&ddP[project]["loginStatus"]==="login"){dd.user.global.loginStatus="login";dd.user.global.loginStatusProjects=dd.user.global.loginStatusProjects+","+project}var cHashProjectName="cHash."+project;if(typeof(ddP[project]["cHash"])!=="undefined"&&ddP[project]["cHash"].length>0){dd.user.global[cHashProjectName]=ddP[project]["cHash"]}}var loginStatusProjects=dd.user.global.loginStatusProjects;if(loginStatusProjects.substr(loginStatusProjects.length-1,1)===","){dd.user.global.loginStatusProjects=loginStatusProjects.substr(0,loginStatusProjects.length-1)}if(loginStatusProjects.substr(0,1)===","){dd.user.global.loginStatusProjects=loginStatusProjects.substr(1)}}},setLogin:function(hashedCustomerID,rememberMeOption,singleSignOnOption,packages,gender,age,marketingPermission){var dd=digitalData;var checksOk=true;var d=waSky.delimiterValues;var signOnOption="";waSky.debug("User Login, user.setLogin("+hashedCustomerID+", "+rememberMeOption+", "+singleSignOnOption+", "+packages+", "+gender+", "+age+", "+marketingPermission+")");if((typeof(hashedCustomerID)!=="string")||(typeof(hashedCustomerID)==="string"&&hashedCustomerID.length===0)){hashedCustomerID="na"}hashedCustomerID=waSky.cleanString(hashedCustomerID);if((typeof(rememberMeOption)!=="boolean")){rememberMeOption="na"}if((typeof(singleSignOnOption)!=="boolean")){singleSignOnOption="na"}packages=packages.replace(/::/g,"-");waSky.persistStore.set("cHash",hashedCustomerID);waSky.persistStore.set("userGroup","customer");dd.user.cHash=hashedCustomerID;dd.user.cHashTimestamped=hashedCustomerID+waSky.delimiterValues+waSky.getTimestamp();dd.user.group="customer";dd.user.packages=waSky.cleanString(packages);dd.user.gender=waSky.cleanString(gender);dd.user.age=parseInt(age);if(rememberMeOption){dd.user.rememberMeOption="true"}else{dd.user.rememberMeOption="false"}if(singleSignOnOption){dd.user.singleSignOnOption="true"}else{dd.user.singleSignOnOption="false"}if(typeof(marketingPermission)==="boolean"){marketingPermission=marketingPermission.toString()}dd.user.marketingPermission=marketingPermission;waSky.persistStore.set("loginStatus","login");dd.user.loginStatus="login";if(rememberMeOption){signOnOption="remember"}else{if(singleSignOnOption){signOnOption="sso"}}if(signOnOption.length>0){dd.user.loginString=dd.user.loginStatus+d+signOnOption;waSky.persistStore.set("loginString",dd.user.loginStatus+d+signOnOption)}else{dd.user.loginString=dd.user.loginStatus;waSky.persistStore.set("loginString",dd.user.loginStatus)}dd.user.loginStringPersistent=dd.user.loginString;this.setCustomerProfile(dd.user.age,dd.user.gender,dd.user.packages,dd.user.marketingPermission);if(typeof(alternativeUserIdName)==="string"&&alternativeUserIdName.length>0){dd.user.altUserIdName=alternativeUserIdName}if(typeof(alternativeUserIdHashed)==="string"&&alternativeUserIdHashed.length>0){dd.user.altUserIdHash=alternativeUserIdHashed}this.setGlobalVars();_satellite.track("UserLoginEvent")},setLogout:function(){var dd=digitalData;waSky.debug("User Logout, user.setLogout()");waSky.persistStore.set("loginStatusOnetime","logout");waSky.persistStore.set("loginStringOnetime","logout");waSky.persistStore.set("loginStatus","logout");waSky.persistStore.set("loginString","logout");dd.user.loginStatus="logout";dd.user.loginString="logout";_satellite.track("UserLogoutEvent")},setCustomerProfile:function(age,gender,packages,marketingPermission){var dd=digitalData;var d=waSky.delimiterValues;dd.user.age=age;dd.user.gender=gender.toLowerCase();dd.user.packages=packages.toLowerCase();dd.user.marketingPermission=marketingPermission.toLowerCase();dd.user.customerProfile=age.toString()+d+gender+d+packages+d+marketingPermission;waSky.persistStore.set("customerProfile",dd.user.customerProfile)},removeCustomerProfile:function(){var dd=digitalData;var d=waSky.delimiterValues;waSky.debug("Remove customer profile");dd.user.age="";dd.user.gender="";dd.user.packages="";dd.user.marketingPermission="";dd.user.customerProfile="";waSky.persistStore.deleteItem("customerProfile");waSky.persistStore.deleteItem("cHash");waSky.persistStore.deleteSimpleCookie("cHash")},setPartnerLogin:function(partnerName){var dd=digitalData;if(!digitalData.user.partnerLogin){digitalData.user.partnerLogin=true;waSky.debug("User Partner Login, user.setPartnerLogin("+partnerName+")");_satellite.track("PartnerUserLoginEvent");s.events=""}},setPartnerLogout:function(partnerName){var dd=digitalData;if(!digitalData.user.partnerLogout){digitalData.user.partnerLogout=true;waSky.debug("User Partner Logout, user.setPartnerLogout("+partnerName+")");_satellite.track("PartnerUserLogoutEvent");s.events=""}},setPartnerRegister:function(partnerName){var dd=digitalData;if(!digitalData.user.partnerRegister){digitalData.user.partnerRegister=true;waSky.debug("User Partner Register, user.setPartnerRegister("+partnerName+")");_satellite.track("PartnerUserRegisterEvent");s.events=""}}},campaignParams:{delimiterPathing:" > ",wkzInternals:"WHPB01S",wkzAffiliateCookie:"affiliate",wkzStoreName:"wkzValue30Days",wkzSiebelStoreName:"wkzValueSiebel",wkzSimpleCookieName:"wkzValue30Days",wkzSimpleCookieNameSiebel:"wkzSports",crossWkzLinkHosts:["skyticket.sky.de","sport.sky.de","www.sky.de"],searchEngineMatch:/\\.google\\.|\\.bing\\.com|\\.aol\\.|\\.avg.com|suche\\.web\\.de|suche\\.t-online\\.de|yahoo\\.com|yahoo\\.de|\\.mywebsearch\\.com|icq\\.com|earch-results\\.com|baidu\\.com|\\.ask\\.com/,socialMatch:/\\.blogspot\\.com|\\.blogster\\.com|\\.dailymotion\\.|\\.delicious\\.com|\\.digg\\.com|\\.facebook\\.|\\.fc2\\.com|\\.flickr\\.com|\\.foursquare\\.com|\\.last\\.fm|\\.linkedin\\.com|\\.myspace\\.com|\\.netvibes\\.com|\\.pinterest\\.com|\\.plus\\.google.\\.com|\\.reddit\\.com|\\.slideshare\\.net|\\.studivz\\.net|\\.t\\.co|\\.tagged\\.com|\\.tumblr\\.com|\\.twitter\\.|\\.wer-kennt-wen\\.de|\\.xing\\.com|\\.youtube\\.com|\\.vine\\.co|\\.vk\\.com|\\.weibo\\.com|\\.wordpress\\.com/,socialMatchFbOnly:/\\.facebook\\./,socialMatchTwOnly:/\\.twitter\\.|\\.t\\.co/,crmChannels:{0:"Unknown",1:"Direct Type In",2:"Search Engine",3:"Email",4:"Social",5:"Affiliate",6:"Display",7:"Other Websites"},crmSubChannels:{0:"Unknown",1:"Direct Type In",2:"SEO",3:"SEM",4:"Upselling",5:"Infoservice",6:"Retention",7:"Select",8:"Freundschaftswerbung",9:"Welcome Mail",10:"Sales Newsletter",11:"Facebook",12:"Twitter",13:"Other SoMe",14:"Affiliate",15:"Display",16:"Other Websites",17:"Prevention",18:"Engagement"},crmTrafficOwner:{0:"Unknown",1:"Free",2:"CRM",3:"Web Sales"},checkUrlParams:function(){var dd=digitalData;var keyLowered="";for(var key in dd.url.queryKey){var value=dd.url.queryKey[key].toLowerCase();value=decodeURI(value);if(key==="slt"){dd.campaign.slt=value;waSky.debug("Campaign param \'slt\' found, campaignParams.checkUrlParams()")}if(key==="wkz"){dd.campaign.wkz=value;dd.campaign.wkzSiebel=value;waSky.debug("Campaign param \'wkz\' found, campaignParams.checkUrlParams()")}if(key==="crm"){dd.campaign.crm=value;waSky.debug("Campaign param \'crm\' found, campaignParams.checkUrlParams()")}if(key==="intcmp1"){dd.campaign.intcmp1=value;waSky.debug("Campaign param \'intcmp1\' found, campaignParams.checkUrlParams()")}if(key==="intcmp2"){dd.campaign.intcmp2=value;waSky.debug("Campaign param \'intcmp2\' found, campaignParams.checkUrlParams()")}if(key==="intcmp3"){dd.campaign.intcmp3=value;waSky.debug("Campaign param \'intcmp3\' found, campaignParams.checkUrlParams()")}if(key==="eml"){dd.campaign.eml=value;waSky.debug("Campaign param \'eml\' found, campaignParams.checkUrlParams()")}}this.wkzLogic();this.wkzLogicSiebel();waSky.persistStore.deleteItem("wkzPath");waSky.persistStore.deleteItem("crmString")},resetCampaignParams:function(){var ddc=digitalData.campaign;ddc.slt="";ddc.crm="";ddc.crmString="";ddc.eml="";ddc.intcmp1="";ddc.intcmp2="";ddc.intcmp3=""},crmLogic:function(){var t=this.crmTrafficOwner;var c=this.crmChannels;var sc=this.crmSubChannels;var crmString="";var get=digitalData.campaign;var d=waSky.delimiterValues;var dd=digitalData;if(!waSky.isReferrerOnsite){if(typeof(get.eml)==="string"&&get.eml.length>0){crmString=t[3]+d+c[3]+d+sc[10]}if(typeof(get.wkz)==="string"&&get.wkz.length>0){if(get.wkz.substr(0,2)==="wm"){crmString=t[3]+d+c[3]+d+sc[10]}if(get.wkz.substr(0,2)==="wa"){crmString=t[3]+d+c[5]+d+sc[14]}if(get.wkz.substr(0,2)==="wd"){crmString=t[3]+d+c[6]+d+sc[15]}if(get.wkz.substr(0,3)==="wxf"){crmString=t[1]+d+c[4]+d+sc[11]}if(get.wkz.substr(0,3)==="wxt"){crmString=t[1]+d+c[4]+d+sc[12]}if(get.wkz.substr(0,2)==="wx"&&crmString.length===0){crmString=t[1]+d+c[4]+d+sc[13]}}if(typeof(get.crm)==="string"&&get.crm.length>0){if(get.crm.substr(0,3)==="nl:"){crmString=t[2]+d+c[3]+d;switch(get.crm.substr(0,5)){case"nl:u:":crmString+=sc[4];break;case"nl:i:":crmString+=sc[5];break;case"nl:r:":crmString+=sc[6];break;case"nl:s:":crmString+=sc[7];break;case"nl:f:":crmString+=sc[8];break;case"nl:w:":crmString+=sc[9];break;case"nl:p:":crmString+=sc[17];break;case"nl:e:":crmString+=sc[18];break;default:crmString+="Other Newsletter"}}if(get.crm.substr(0,9)==="affiliate"){crmString=t[2]+d+c[5]+d+sc[14]}if(get.crm.substr(0,7)==="display"){crmString=t[2]+d+c[6]+d+sc[15]}}if(crmString.length===0){if(!waSky.isReferrerOnsite){if(dd.referrer.host.length>0){if(dd.referrer.host.match(this.searchEngineMatch)){if(typeof(get.crm)==="string"&&get.crm.length>0&&get.crm.substr(0,3)==="sem"){crmString=t[2]+d+c[2]+d+sc[3]}else if(typeof(get.wkz)==="string"&&get.wkz.length>0&&get.wkz.substr(0,2)==="ws"){crmString=t[3]+d+c[2]+d+sc[3]}else{crmString=t[1]+d+c[2]+d+sc[2]}}else if(dd.referrer.host.match(this.socialMatch)){if(dd.referrer.host.match(this.socialMatchFbOnly)){crmString=t[1]+d+c[4]+d+sc[11]}else if(dd.referrer.host.match(this.socialMatchTwOnly)){crmString=t[1]+d+c[4]+d+sc[12]}else{crmString=t[1]+d+c[4]+d+sc[13]}}else{crmString=t[1]+d+c[7]+d+sc[16]}}else{crmString=t[1]+d+c[1]+d+sc[1]}}}}if(crmString.length>0){crmString=crmString.toLowerCase()+d+get.crm;waSky.debug("Campaign param \'crm\' set: "+crmString);waSky.persistStore.set("crmString",crmString);dd.campaign.crmString=crmString}if(waSky.isReferrerOnsite&&waSky.sessionTimedOut){dd.campaign.crmString=waSky.persistStore.get("crmString");waSky.debug("CRM found case referrer onsite + session timed out - campaignParams.crmLogic")}},wkzLogicSiebel:function(){var d=this.delimiterPathing;var dd=digitalData;var wkzValueSiebel="";var wkzValueSiebelExisting="";wkzValueSiebelExisting=waSky.persistStore.get(this.wkzSiebelStoreName);if(typeof(wkzValueSiebelExisting)==="string"&&wkzValueSiebelExisting.length>0){waSky.persistStore.writeSimpleCookie(this.wkzSimpleCookieNameSiebel,wkzValueSiebelExisting.toUpperCase());waSky.persistStore.set(this.wkzSiebelStoreName,wkzValueSiebelExisting,30)}else{wkzValueSiebelExisting="";waSky.persistStore.deleteSimpleCookie(this.wkzSimpleCookieNameSiebel);waSky.persistStore.deleteItem(this.wkzSiebelStoreName);dd.campaign.wkzSiebel=""}if(typeof(dd.campaign.wkzSiebel)==="string"&&dd.campaign.wkzSiebel.length>0){wkzValueSiebel=dd.campaign.wkzSiebel;wkzValueSiebelExisting=wkzValueSiebel}else{if(wkzValueSiebelExisting.length>0&&wkzValueSiebelExisting!=="whpb01s"){wkzValueSiebel=wkzValueSiebelExisting}else{if(dd.referrer.host.match(this.searchEngineMatch)){wkzValueSiebel="whpb28s"}else{wkzValueSiebel="whpb01s"}}}wkzValueSiebel=waSky.cleanString(wkzValueSiebel);waSky.persistStore.writeSimpleCookie(this.wkzSimpleCookieNameSiebel,wkzValueSiebel.toUpperCase(),30);waSky.persistStore.set(this.wkzSiebelStoreName,wkzValueSiebel,30);dd.campaign.wkzSiebel=wkzValueSiebel;if(waSky.isReferrerOnsite&&waSky.sessionTimedOut){waSky.debug("Siebel-WKZ, found case: referrer onsite + session timed out - restoring Siebel-WKZ into DDL, campaignParams.wkzLogicSiebel()");wkzValueSiebel=waSky.persistStore.get(this.wkzSiebelStoreName);dd.campaign.wkzSiebel=wkzValueSiebel;waSky.persistStore.writeSimpleCookie(this.wkzSimpleCookieNameSiebel,wkzValueSiebel.toUpperCase())}},wkzLogic:function(){var d=this.delimiterPathing;var dd=digitalData;var wkzValue="";var wkzValue30Days="";if(!waSky.isReferrerOnsite){if(typeof(dd.campaign.wkz)==="string"&&dd.campaign.wkz.length>0){wkzValue=dd.campaign.wkz}this.wkzInternals=this.wkzInternals.toLowerCase();if(wkzValue.length>0){if(!waSky.inArray(wkzValue,this.wkzInternals.split("|"))){dd.campaign.wkz=wkzValue;waSky.persistStore.set("wkz30Days",wkzValue,30)}else{if(dd.referrer.host.length>0){if(dd.referrer.host.match(this.searchEngineMatch)){wkzValue="SEO"}else{wkzValue="Non Marketing Referrers"}}else{wkzValue="Direct Type In"}}}else{if(dd.referrer.host.length>0){if(dd.referrer.host.match(this.searchEngineMatch)){wkzValue="SEO"}else{for(var key in waSky.onsiteHosts){if(dd.referrer.host.indexOf(waSky.onsiteHosts[key])!==-1&&!waSky.inArray(dd.referrer.host,waSky.onsiteSubHosts)){var portalName=dd.referrer.host.substr(0,dd.referrer.host.indexOf(waSky.onsiteHosts[key]));wkzValue="Sky Portal: "+portalName.toLowerCase()}}if(wkzValue.length===0){wkzValue="Non Marketing Referrers"}}}else{wkzValue="Direct Type In"}}wkzValue=wkzValue.toLowerCase();dd.campaign.wkz=wkzValue;waSky.persistStore.set("wkzEntryPage",wkzValue)}if(waSky.isReferrerOnsite&&waSky.sessionTimedOut){dd.campaign.wkz=waSky.persistStore.get("wkzEntryPage");waSky.debug("WKZ found case referrer onsite + session timed out - campaignParams.wkzLogic")}},addWkzToLink:function(linkUrl){waSky.debug("Campaignparams, campaignParams.addWkzToLink("+linkUrl+")");if(typeof(linkUrl)==="string"&&linkUrl.length>0&&linkUrl!=="#"){linkObj=parseUri(linkUrl);if(typeof(linkObj.host)!=="undefined"&&!waSky.inArray(linkObj.host,waSky.onsiteSubHosts)){if(waSky.inArray(linkObj.host,this.crossWkzLinkHosts)){if(linkObj.protocol==="http"){linkUrl=linkUrl.substr(4,(linkUrl.length-4));linkUrl="https"+linkUrl}var getParamsFound=false;if(typeof(linkObj.queryKey)!=="undefined"){var size=0;for(key in linkObj.queryKey){if(linkObj.queryKey.hasOwnProperty(key))size++}if(size>0){getParamsFound=true}}if(typeof(digitalData.campaign.wkzSiebel)==="string"&&digitalData.campaign.wkzSiebel.length>0){linkObj.queryKey["wkz"]=digitalData.campaign.wkzSiebel.toUpperCase()}var affiliCookie=waSky.persistStore.getSimpleCookie(this.wkzAffiliateCookie);if(typeof(affiliCookie)==="string"&&affiliCookie.length>0){affiliCookie=affiliCookie.split(\'"\').join("");affiliCookie=affiliCookie.split("<>");if(typeof(affiliCookie[1])==="string"&&affiliCookie[1].length>0){linkObj.queryKey["tuid"]=affiliCookie[1]}if(typeof(affiliCookie[2])==="string"&&affiliCookie[2].length>0){linkObj.queryKey["zanpid"]=affiliCookie[2]}}var posH=linkUrl.indexOf(\'#\');if(posH>-1){linkUrl=linkUrl.substr(0,posH)}var posQ=linkUrl.indexOf(\'?\');if(posQ>-1){linkUrl=linkUrl.substr(0,posQ+1)}else{linkUrl=linkUrl+"?"}for(var key in linkObj.queryKey){if(linkObj.queryKey[key]!=="undefined"){linkUrl=linkUrl+key+"="+linkObj.queryKey[key]+"&"}}linkUrl=linkUrl.substr(0,linkUrl.length-1);if(linkObj.anchor.length>0){linkUrl=linkUrl+"#"+linkObj.anchor}}}}return linkUrl},salesOfferPathSet:function(salesOfferId){var existingPath="";var existingPathArray="";var d=this.delimiterPathing;var dd=digitalData;if(typeof(salesOfferId)==="string"&&salesOfferId.length>0){existingPath=waSky.persistStore.get("salesOfferIdPath");if(typeof(existingPath)==="string"&&existingPath.length>0){existingPathArray=existingPath.split(d);if(existingPathArray.pop()!==salesOfferId){existingPath+=d+salesOfferId}existingPath=waSky.campaignParams.salesOfferPathShorten(existingPath)}else{existingPath=salesOfferId}waSky.persistStore.set("salesOfferIdPath",existingPath,30)}else{waSky.error.log("Passed offer-id param was not set/invalid ("+salesOfferId+")","campaignParams.salesOfferIdPath")}},salesOfferPathDelete:function(){waSky.persistStore.deleteItem("salesOfferIdPath")},salesOfferPathShorten:function(existingPath){var d=this.delimiterPathing;if(typeof(existingPath)==="string"&&existingPath.length>0){existingPathArray=existingPath.split(d);if(existingPathArray.length>5){waSky.debug("Found too long salesOfferIdPath - shortening to 5 entries");var sliceLen=existingPathArray.length-5;existingPathArray=existingPathArray.slice(sliceLen)}existingPath=existingPathArray.join(d);for(i=5;i>0;i--){if(existingPath.length>255){waSky.debug("Found too long salesOfferIdPath - shortening to 255 chars by removing path entrie");existingPathArray=existingPath.split(d);var sliceLen=existingPathArray.length-i;existingPathArray=existingPathArray.slice(sliceLen);existingPath=existingPathArray.join(d)}else{break}}if(existingPath.length>255)existingPath=""}return existingPath}},media:{video:{vodTrackMilestones:"10,30,50,80,90",streamTrackOffsetMilestones:"10,60,300,600,1200",streamTrackSeconds:"1800",trackVars:"contextData.video.product,contextData.video.genre,contextData.video.eventid,contextData.video.series.etitle,contextData.video.series.season,contextData.video.series.episode,contextData.video.channel,contextData.video.channel.name,contextData.video.channel.eventid,contextData.video.program,contextData.video.program.name,contextData.video.program.eventid,contextData.video.program.genre,contextData.video.program.contenttype,contextData.video.program.length,contextData.video.program.language,contextData.video.languageCode,contextData.video.userAction,contextData.video.bookmark,contextData.video.programid,contextData.video.languageChanged,contextData.video.sportCategory,contextData.video.competition,contextData.video.videoType,contextData.video.program.sportCategory,contextData.video.program.competition,contextData.video.program.videoType",ready:function(eventMergeId,deliveryType,durationInSecs,playerName,contentType,title,channelName,genre,seriesSeasonNr,seriesEpisodeNr,seriesEpisodeTitle,language,binge,bookmark,sportCategory,competition,videoType){waSky.debug("Video Ready, media.video.ready("+eventMergeId+", "+deliveryType+", "+durationInSecs+", "+playerName+", "+contentType+", "+title+", "+channelName+", "+genre+", "+seriesSeasonNr+", "+seriesEpisodeNr+", "+seriesEpisodeTitle+", "+language+", "+binge+", "+bookmark+", "+sportCategory+", "+competition+", "+videoType+")");var checksOk=true;var d=waSky.delimiterValues;var dd=digitalData;var ddmvd=digitalData.media.video.data;var titleString="";var sC=s.contextData;if(typeof(s.Media)==="object"){s.Media.trackVars=this.trackVars;if(typeof(eventMergeId)==="number"&&eventMergeId>0){eventMergeId=eventMergeId.toString()}if(title.toLowerCase()==="sky sport news hd"||title.toLowerCase()==="wimbledon live"){deliveryType="continuousStream";contentType="event"}if((typeof(eventMergeId)!=="string"||eventMergeId.length===0)||(typeof(deliveryType)!=="string"||deliveryType.length===0)||!(deliveryType==="vod"||deliveryType==="continuousStream")||typeof(title)!=="string"){waSky.error.log("Required params not set or invalid ("+eventMergeId+", "+deliveryType+", "+title+")","media.video.ready");checksOk=false}if(checksOk){ddmvd[eventMergeId]=new Object();var data=ddmvd[eventMergeId];data["eventMergeId"]=waSky.cleanString(eventMergeId);data["deliveryType"]=waSky.cleanString(deliveryType);data["durationInSecs"]=durationInSecs;if(typeof(playerName)==="string"&&playerName.length>0){data["playerName"]=waSky.cleanString(playerName)}if(typeof(contentType)==="string"&&contentType.length>0){data["contentType"]=waSky.cleanString(contentType);data["contentType"]=data["contentType"].toUpperCase()}data["title"]=title;data["channelName"]=channelName;if(typeof(genre)==="string"&&genre.length>0){data["genre"]=waSky.cleanString(genre)}if(typeof(language)==="string"&&language.length>0){data["languageCode"]=waSky.cleanString(language)}if(typeof(binge)==="number"){data["binge"]=binge}if(typeof(bookmark)==="number"){data["bookmark"]=bookmark}if(typeof(sportCategory)==="string"&&sportCategory.length>0){data["sportCategory"]=waSky.cleanString(sportCategory)}if(typeof(competition)==="string"&&competition.length>0){data["competition"]=waSky.cleanString(competition)}if(typeof(videoType)==="string"&&videoType.length>0){data["videoType"]=waSky.cleanString(videoType)}data["mediaOpenDefined"]=false;data["videoState"]="";data["streamPlaying"]=false;data["streamProgramTitle"]="";data["streamProgramEventId"]="";data["streamLastProgramVidId"]="";if(contentType==="series"){this.setSeriesData(eventMergeId,seriesSeasonNr,seriesEpisodeNr,seriesEpisodeTitle)}else{this.resetSeriesData(eventMergeId)}if(deliveryType==="continuousStream"){sC["video.channel.name"]=data["channelName"];sC["video.channel.eventid"]=data["eventMergeId"]}titleString=data["title"];sC["video.genre"]=data["genre"];sC["video.userAction"]=data["binge"];sC["video.bookmark"]=data["bookmark"];sC["video.languageCode"]=data["languageCode"];sC["video.eventid"]=data["eventMergeId"];sC["video.sportCategory"]=data["sportCategory"];sC["video.competition"]=data["competition"];sC["video.videoType"]=data["videoType"];if(contentType==="series"){data["mediaName"]=eventMergeId+d+data["seriesSeasonNr"]+" "+data["seriesEpisodeNr"]+":"+titleString+d+data["contentType"]+d+data["sportCategory"]+d+data["competition"]+d+data["videoType"]}else{data["mediaName"]=eventMergeId+d+titleString+d+data["contentType"]+d+data["sportCategory"]+d+data["competition"]+d+data["videoType"]}return true}else{return false}}else{waSky.debug("Video Ready, cannot track video, s.Media not defined")}},programChange:function(eventMergeId,contentType,programTitle,programEventId,genre,seriesSeasonNr,seriesEpisodeNr,seriesEpisodeTitle,length,language,sportCategory,competition,videoType){var checksOk=true;var d=waSky.delimiterValues;var dd=digitalData;var ddmvd=digitalData.media.video.data;if(typeof(s.Media)==="object"){waSky.debug("Video Program Change, media.video.program("+eventMergeId+", "+contentType+", "+programTitle+", "+programEventId+", "+genre+", "+seriesSeasonNr+", "+seriesEpisodeNr+", "+seriesEpisodeTitle+", "+length+", "+language+", "+sportCategory+", "+competition+", "+videoType+")");if((typeof(eventMergeId)!=="string"||eventMergeId.length===0)||(typeof(programTitle)!=="string"||programTitle.length===0)||(typeof(programEventId)!=="string"||programEventId.length===0)){waSky.error.log("Required params not set or invalid ("+eventMergeId+", "+deliveryType+", "+title+")","media.video.programChange");checksOk=false}if(checksOk){var data_stream=ddmvd[eventMergeId];var programVidId=eventMergeId+"-"+programEventId;var sC=s.contextData;ddmvd[programVidId]=new Object();var data=ddmvd[programVidId];data_stream["streamLastProgramVidId"]=programVidId;if(contentType==="series"){this.setSeriesData(programVidId,seriesSeasonNr,seriesEpisodeNr,seriesEpisodeTitle)}else{this.resetSeriesData(programVidId)}if(typeof(contentType)==="string"&&contentType.length>0){data["contentType"]=waSky.cleanString(contentType)}if(typeof(genre)==="string"&&genre.length>0){data["genre"]=waSky.cleanString(genre)}if(typeof(programTitle)==="string"&&programTitle.length>0){data["streamProgramTitle"]=waSky.cleanString(programTitle)}if(typeof(programEventId)==="string"&&programEventId.length>0){data["streamProgramEventId"]=waSky.cleanString(programEventId)}sC["video.program.name"]=data["streamProgramTitle"];sC["video.program.eventid"]=data["streamProgramEventId"];sC["video.program.genre"]=data["genre"];sC["video.program.contenttype"]=data["contentType"];sC["video.program.sportCategory"]=data["sportCategory"];sC["video.program.competition"]=data["competition"];sC["video.program.videoType"]=data["videoType"];if(typeof(length)==="number"&&length>0){sC["video.program.length"]=length.toString()}if(typeof(language)==="string"&&language.length>0){sC["video.program.language"]=waSky.cleanString(language)}if(dd.trackingDisabled==="false"){s.Media.track(data_stream["mediaName"])}}}},setLanguage:function(languageCode){var dd=digitalData;var ddmvd=digitalData.media.video.data;var eventMergeId=ddmvd.currentEventMergeId;var data=ddmvd[eventMergeId];var sC=s.contextData;waSky.debug(eventMergeId+", Video language code was changed to: ("+languageCode+"), video.setLanguage("+languageCode+")");if(typeof(languageCode)==="string"&&languageCode.length>0){languageCode=waSky.cleanString(languageCode);data["languageCode"]=languageCode;sC["video.languageCode"]=data["languageCode"];data["languageChanged"]="1";sC["video.languageChanged"]=data["languageChanged"]}var data_video=ddmvd[eventMergeId];if(dd.trackingDisabled==="false"){s.Media.track(data_video["mediaName"])}},userAction:function(action){var dd=digitalData;var ddmv=digitalData.media.video;var sC=s.contextData;waSky.debug("Video userAction was made, video.userAction("+action+")");if(typeof(action)==="string"&&action.length>0){action=waSky.cleanString(action);ddmv.data.userAction=action;if(dd.trackingDisabled==="false"){_satellite.track("Video User Action")}}},setSeriesData:function(eventMergeId,seriesSeasonNr,seriesEpisodeNr,seriesEpisodeTitle){var ddmvd=digitalData.media.video.data;var data=ddmvd[eventMergeId];var sC=s.contextData;if(!seriesSeasonNr)var seriesSeasonNr="";if(!seriesEpisodeNr)var seriesEpisodeNr="";if(!seriesEpisodeTitle)var seriesEpisodeTitle="";if(typeof(seriesSeasonNr)==="string"&&seriesSeasonNr.length>0){seriesSeasonNr=parseInt(seriesSeasonNr)}if(typeof(seriesEpisodeNr)==="string"&&seriesEpisodeNr.length>0){seriesEpisodeNr=parseInt(seriesEpisodeNr)}if(typeof(seriesSeasonNr)!=="number"||seriesSeasonNr===0||seriesSeasonNr==="NaN"){seriesSeasonNr="na"}if(typeof(seriesEpisodeNr)!=="number"||seriesEpisodeNr===0||seriesEpisodeNr==="NaN"){seriesEpisodeNr="na"}if(seriesSeasonNr!=="na"){if(seriesSeasonNr<10){seriesSeasonNr="S0"+seriesSeasonNr}else{seriesSeasonNr="S"+seriesSeasonNr}}if(seriesEpisodeNr!=="na"){if(seriesEpisodeNr<10){seriesEpisodeNr="E0"+seriesEpisodeNr}else{seriesEpisodeNr="E"+seriesEpisodeNr}}if(typeof(seriesSeasonNr)==="string"&&seriesSeasonNr.length>0){data["seriesSeasonNr"]=waSky.cleanString(seriesSeasonNr);data["seriesSeasonNr"]=data["seriesSeasonNr"].toUpperCase()}if(typeof(seriesEpisodeNr)==="string"&&seriesEpisodeNr.length>0){data["seriesEpisodeNr"]=waSky.cleanString(seriesEpisodeNr);data["seriesEpisodeNr"]=data["seriesEpisodeNr"].toUpperCase()}if(typeof(seriesEpisodeTitle)==="string"&&seriesEpisodeTitle.length>0){data["seriesEpisodeTitle"]=waSky.cleanString(seriesEpisodeTitle)}sC["video.series.etitle"]=data["seriesEpisodeTitle"];sC["video.series.season"]=data["seriesSeasonNr"];sC["video.series.episode"]=data["seriesEpisodeNr"]},resetSeriesData:function(eventMergeId){var ddmvd=digitalData.media.video.data;var data=ddmvd[eventMergeId];var sC=s.contextData;data["seriesSeasonNr"]="";data["seriesEpisodeNr"]="";data["seriesEpisodeTitle"]="";sC["video.series.etitle"]="";sC["video.series.season"]="";sC["video.series.episode"]=""},play:function(eventMergeId,offsetSec){var dd=digitalData;var ddmvd=digitalData.media.video.data;var vidFirstPlay="";if(typeof(s.Media)==="object"){waSky.debug("Video Play, media.video.play("+eventMergeId+", "+offsetSec+")");if(typeof(eventMergeId)==="string"&&eventMergeId.length>0&&typeof(ddmvd[eventMergeId])==="object"){var data=ddmvd[eventMergeId];digitalData.media.video.data.currentEventMergeId=eventMergeId;if(offsetSec<0){offsetSec=0}if(data["deliveryType"]==="continuousstream"){data["streamPlaying"]=true;s.Media.trackMilestones="";s.Media.trackOffsetMilestones=this.streamTrackOffsetMilestones;s.Media.trackSeconds=this.streamTrackSeconds}else{s.Media.trackMilestones=this.vodTrackMilestones;s.Media.trackOffsetMilestones="";s.Media.trackSeconds=""}if(data["mediaOpenDefined"]===false){vidFirstPlay="first play,";if(dd.trackingDisabled==="false"){s.Media.open(data["mediaName"],data["durationInSecs"],data["playerName"])}data["mediaOpenDefined"]=true;data["videoState"]="first-segment"}else{data["videoState"]="middle-section"}if(data["deliveryType"]==="continuousstream"){waSky.debug("Video Callback, "+vidFirstPlay+" streaming milestones: "+s.Media.trackOffsetMilestones)}else{waSky.debug("Video Callback, "+vidFirstPlay+" vod milestones: "+s.Media.trackMilestones)}if(dd.trackingDisabled==="false"){s.Media.play(data["mediaName"],offsetSec)}}else{waSky.error.log("Could not play video, video id empty/invalid or video data was not set earlier via video.ready? Id: "+eventMergeId+", Vid-data-type: "+typeof(ddmvd[eventMergeId]),"media.video.ready")}}},stop:function(eventMergeId,offsetSec){var dd=digitalData;var ddmvd=digitalData.media.video.data;if(typeof(s.Media)==="object"){waSky.debug("Video Stop, media.video.stop("+eventMergeId+", "+offsetSec+")");if(typeof(eventMergeId)==="string"&&eventMergeId.length>0&&typeof(ddmvd[eventMergeId])==="object"&&typeof(offsetSec)==="number"){var data=ddmvd[eventMergeId];if(dd.trackingDisabled==="false"){s.Media.stop(data["mediaName"],offsetSec)}if(data["deliveryType"]==="continuousstream"){data["streamPlaying"]=false}}else{waSky.error.log("Could not stop video, params empty/invalid? eventMergeId: "+eventMergeId+", offsetSec: "+offsetSec,"media.video.stop")}}},seek:function(eventMergeId,offsetSec){waSky.debug("Video Seek, media.video.seek("+eventMergeId+", "+offsetSec+")");var dd=digitalData;var ddmvd=digitalData.media.video.data;var currentVidId=ddmvd.currentEventMergeId;var ddmvd=digitalData.media.video.data;if(typeof(s.Media)==="object"){waSky.debug("Video Seek, media.video.seek("+eventMergeId+", "+offsetSec+")");if(typeof(eventMergeId)==="string"&&eventMergeId.length>0&&typeof(ddmvd[eventMergeId])==="object"&&typeof(offsetSec)==="number"){var data=ddmvd[eventMergeId];if(dd.trackingDisabled==="false"){s.Media.stop(data["mediaName"],offsetSec);s.Media.play(data["mediaName"],offsetSec)}}else{waSky.error.log("Could not stop video, params empty/invalid? eventMergeId: "+eventMergeId+", offsetSec: "+offsetSec,"media.video.stop")}}},complete:function(eventMergeId){var dd=digitalData;var ddmvd=digitalData.media.video.data;if(typeof(s.Media)==="object"){waSky.debug("Video Complete, media.video.complete("+eventMergeId+")");if(typeof(eventMergeId)==="string"&&eventMergeId.length>0&&typeof(ddmvd[eventMergeId])==="object"){var data=ddmvd[eventMergeId];data["videoState"]="completed";if(dd.trackingDisabled==="false"){s.Media.stop(data["mediaName"],data["durationInSecs"]);s.Media.complete(data["mediaName"]);s.Media.close(data["mediaName"])}data["mediaOpenDefined"]=false}else{waSky.error.log("Could not complete video, params empty/invalid? eventMergeId: "+eventMergeId,"media.video.complete")}}},error:function(eventMergeId,errorMsg){waSky.debug("Video Error, media.video.error("+eventMergeId+", "+errorMsg+")");if(typeof(errorMsg)==="string"&&errorMsg.length>0){errorMsg=waSky.cleanString(errorMsg)}else{errorMsg="na"}waSky.error.log("Video Error: \'"+errorMsg.substr(0,120)+"\', eventMergeId: "+eventMergeId,"media.video.error")},adPlay:function(eventMergeId,adId,adPosition,adPositionPod,adName,adLength){var dd=digitalData;var ddmvd=digitalData.media.video.data;var d=waSky.delimiterValues;waSky.debug("Video Ad Play, media.video.adPlay("+eventMergeId+", "+adId+", "+adPosition+", "+adPositionPod+", "+adName+", "+adLength+")");if(typeof(s.Media)==="object"){if(typeof(eventMergeId)==="string"&&eventMergeId.length>0&&typeof(ddmvd[eventMergeId])==="object"&&typeof(adId)==="string"&&adId.length>0){var data_stream=ddmvd[eventMergeId];if(typeof(adLength)!=="number"||adLength<1){adLength=-1}adLength=adLength.toString();ddmvd[adId]=new Object();var data=ddmvd[adId];if(typeof(adId)==="string"&&adId.length>0){data["adId"]=waSky.cleanString(adId)}if(typeof(adPosition)==="string"&&adPosition.length>0){data["adPosition"]=waSky.cleanString(adPosition)}if(typeof(adPositionPod)==="string"&&adPositionPod.length>0){data["adPositionPod"]=waSky.cleanString(adPositionPod)}if(typeof(adName)==="string"&&adName.length>0){data["adName"]=waSky.cleanString(adName)}data["adLength"]=adLength;data["parentEventMergeId"]=waSky.cleanString(eventMergeId);data["mediaName"]=data["adId"]+d+data["adName"]+d+"ad";if(dd.trackingDisabled==="false"){s.Media.openAd(data["mediaName"],adLength,data_stream["playerName"],data_stream["mediaName"],adPosition,adPositionPod);s.Media.play(data["mediaName"],0)}}else{waSky.error.log("Could track video ad play, params empty/invalid? eventMergeId: "+eventMergeId+", adId: "+adId,"media.video.adPlay")}}},adStop:function(eventMergeId,adId,offsetSec){var dd=digitalData;var ddmvd=digitalData.media.video.data;var data=ddmvd[adId];waSky.debug("Video Ad Stop, media.video.adStop("+eventMergeId+", "+adId+", "+offsetSec+")");if(dd.trackingDisabled==="false"){s.Media.stop(data["mediaName"],offsetSec)}},adComplete:function(eventMergeId,adId,offsetSec){var dd=digitalData;var ddmvd=digitalData.media.video.data;waSky.debug("Video Ad Complete, media.video.adComplete("+eventMergeId+", "+adId+", "+offsetSec+")");if(typeof(eventMergeId)==="string"&&eventMergeId.length>0&&typeof(ddmvd[eventMergeId])==="object"&&typeof(adId)==="string"&&adId.length>0&&typeof(ddmvd[adId])==="object"){var data=ddmvd[adId];if(typeof(offsetSec)!=="number"||offsetSec<1){offsetSec=-1}offsetSec=offsetSec.toString();if(dd.trackingDisabled==="false"){s.Media.stop(data["mediaName"],offsetSec);s.Media.complete(data["mediaName"],offsetSec)}}else{waSky.error.log("Could track video ad complete, params empty/invalid? eventMergeId: "+eventMergeId+", adId: "+adId,"media.video.adPlay")}},ooyala:{getPlayerConfig:function(){var dd=digitalData;var ddp=dd.page.pageInfo;waSky.debug("Video Heartbeat Compatibility, media.video.ooyala.getPlayerConfig()");var ooyalaOmnitureConfig={};return ooyalaOmnitureConfig}}}},search:{setClicked:function(searchTerm,resultCount,searchFilters){waSky.debug("Search onsite, search.setClicked("+searchTerm+", "+resultCount+", "+searchFilters+")");waSky.persistStore.set("searchResultClicked","true");return true},setViewed:function(searchTerm,resultCount){var quicksearchTermPersistent="";var filtersArray=Array();var filtersString="";var d2=waSky.delimiterRecords;var dd=digitalData;waSky.debug("Search onsite, search.setViewed("+searchTerm+", "+resultCount+")");if(typeof(searchTerm)==="string"){dd.search.termEntered=searchTerm;dd.search.resultCount=resultCount;dd.search.isSearchsite="true"}else{waSky.error.log("searchTerm was invalid, not string (type: "+typeof(searchTerm)+")","search.setViewed")}return true}},social:{shareSuccess:function(network){waSky.debug("Social share success, network: "+network);var dd=digitalData;if(typeof(network)!=="undefined"&&network.length>0){dd.social.successfullyShared="true";dd.social.network=network.toLowerCase()}}},constructor:function(){var errorLastPage="";var dd=digitalData;waSky.constructorCalled=true;waSky.setUrlData();waSky.persistStore.sessionStartCheck();waSky.persistStore.loadCookieVars();waSky.persistStore.sessionStartReset();if(waSky.persistStore.get("libDebugMode")==="true"){waSky.debugMode=true;dd.version=dd.version+"_debugmode"}waSky.view.init();if((typeof(window.waSkyDisabled)!=="undefined"&&(typeof(window.waSkyDisabled)==="boolean"&&window.waSkyDisabled))||typeof(waSky.persistStore.get("trackingDisabledTesting"))!=="boolean"){digitalData.trackingDisabled="true";waSky.debug("Tracking has been disabled")}else{digitalData.trackingDisabled="false";waSky.debug("Tracking has been automatically enabled")}waSky.setTimestamps();waSky.error.checkHost();waSky.user.recoverVars();waSky.campaignParams.checkUrlParams();waSky.country.setCountry();waSky.error.pageviewCalled=false},setUrlData:function(){var keyNew="";var value="";var checkStr="";var referrer="";var artifRef=false;var redirCookie="";var redirData="";var dd=digitalData;dd.url=parseUri(document.URL);redirCookie=waSky.persistStore.getSimpleCookie("waRedirUrl");if(typeof(redirCookie)==="string"&&redirCookie.length>0){redirData=parseUri(redirCookie);if(typeof(redirData.queryKey)==="object"){for(var key in redirData.queryKey){if(typeof(dd.url.queryKey[key])==="undefined"){dd.url.queryKey[key]=redirData.queryKey[key]}}}console.log(redirData)}waSky.persistStore.deleteSimpleCookie("waRedirUrl");referrer=document.referrer;if(typeof(dd.url.queryKey.waRefTest)==="string"){console.log("waSky-Debug: Found artificial referrer to be set (debugging)");referrer=unescape(dd.url.queryKey.waRefTest);artifRef=true}if(typeof(dd.url.queryKey.waRef)==="string"){console.log("waSky-Debug: Found artificial referrer to be set (mbox experience)");referrer=unescape(dd.url.queryKey.waRef);artifRef=true}dd.referrer=parseUri(referrer);if(artifRef){dd.referrer.artificialReferrerSet="true";delete window.document.referrer;window.document.referrer=dd.referrer.source;window.document.__defineGetter__(\'referrer\',function(){return dd.referrer.source})}else{dd.referrer.artificialReferrerSet="false"}dd.url.isUrlOnsite="false";dd.referrer.isReferrerOnsite="false";for(var key in waSky.onsiteHosts){if(dd.url.host.indexOf(waSky.onsiteHosts[key])!==-1){waSky.isUrlOnsite=true;dd.url.isUrlOnsite="true"}}for(var key in waSky.onsiteSubHosts){if(dd.referrer.host.indexOf(waSky.onsiteSubHosts[key])!==-1){waSky.isReferrerOnsite=true;dd.referrer.isReferrerOnsite="true"}}dd.environment="NA";for(var i=0;i<waSky.onsiteInt.length;++i){checkStr=waSky.onsiteInt[i];if(dd.url.source.indexOf(checkStr)>-1){dd.environment="INT"}}for(var i=0;i<waSky.onsiteLive.length;++i){checkStr=waSky.onsiteLive[i];if(dd.url.source.indexOf(checkStr)>-1){dd.environment="LIVE"}}for(var key in dd.url.queryKey){keyNew=key.toLowerCase();value=dd.url.queryKey[key];delete dd.url.queryKey[key];dd.url.queryKey[keyNew]=value}for(var key in dd.referrer.queryKey){keyNew=key.toLowerCase();value=dd.referrer.queryKey[key];delete dd.referrer.queryKey[key];dd.referrer.queryKey[keyNew]=value}},error:{hostsBanned:["cms.sky.de","test.cms.sky.de"],pageviewCalled:false,loggingEnabled:\'\',delimiter:\'##\',delimiterSingleChar:\'#\',delimiterListError:\'\xa7\xa7\',errorSuite:"sky-error",log:function(errorDescription,functionName,trackImmediately,shortenLongUrl){var errorMsg="";var callerName="";var pageName="";var referrer="No referrer";var d=this.delimiter;var d2=this.delimiterSingleChar;var oldEventData=Array();var oldAccount="";var url=document.URL;var dd=digitalData;if(!functionName||functionName==="(no function)"||functionName==="(none)"){functionName="(no function)"}else{functionName=functionName+"()"}if(typeof(trackImmediately)==="undefined")trackImmediately=true;if(typeof(shortenLongUrl)==="undefined")shortenLongUrl=false;if(typeof(s)==="object"&&typeof(s.pageName)!=="undefined"&&s.pageName.length>0){pageName=s.pageName}else if(typeof(dd.page.pageInfo)==="object"&&typeof(dd.page.pageInfo.pageName)!=="undefined"&&dd.page.pageInfo.pageName.length>0){pageName=dd.page.pageInfo.pageName}else{pageName="pageName not set (yet?)"}if(document.referrer.length>0){referrer=document.referrer}if(shortenLongUrl){url=url.substr(-60);pageName=pageName.substr(-60)}else{url=url.substr(0,200)}errorMsg=waSky.projectName+"-"+dd.environment+"/"+dd.version+d+functionName+d+errorDescription+d+pageName+d+url+d+referrer.substr(0,200);waSky.debug("waSky-Error: "+errorMsg);if(errorMsg.length>255){errorMsg=errorMsg.substring(0,255)}var delimitersMissing=errorMsg.split(d2);delimitersMissing=(11-delimitersMissing.length);if(delimitersMissing>0){errorMsg=errorMsg.substring(0,(errorMsg.length-delimitersMissing));for(i=1;i<=delimitersMissing;i++){errorMsg=errorMsg+d2}}if(waSky.error.loggingEnabled){if(trackImmediately){if(typeof(s)==="object"){this.send(errorMsg)}else{trackImmediately=false}}if(!trackImmediately){if(dd.errorMessage.length>0){dd.errorMessage+=this.delimiterListError+errorMsg}else{dd.errorMessage=errorMsg}}}},send:function(errorMessageArray){var returnVal=false;var rsid=this.errorSuite?this.errorSuite:"sky-error";var dd=digitalData;var d=this.delimiter;var pageName="";if(typeof(errorMessageArray)==="string"&&errorMessageArray.length>0){errorMessageArray=errorMessageArray.split(this.delimiterListError);var arrayLength=errorMessageArray.length;for(var i=0;i<arrayLength+1;i++){var errorMessage=errorMessageArray[i];waSky.debug(errorMessage);if(typeof(errorMessage)==="string"&&errorMessage.length>0){errorMessage=errorMessage.split("&");errorMessage=errorMessage.join("AMP");var errorArray=[];errorArray=errorMessage.split(d);var xmlhttp;if(window.XMLHttpRequest){xmlhttp=new XMLHttpRequest()}else{xmlhttp=new ActiveXObject("Microsoft.XMLHTTP")}xmlhttp.onreadystatechange=function(){if(xmlhttp.status){waSky.debug("waSky-Error: data insertion API responds status:"+xmlhttp.status+" "+xmlhttp.statusText)}};var mcvid=waSky.persistStore.getSimpleCookie("AMCV_184E38B3527853300A490D4C%40AdobeOrg");mcvid=mcvid.split("MCMID%7C")[1];mcvid=mcvid.split("%7C")[0];if(dd.page.pageInfo.pageName){pageName=dd.page.pageInfo.pageName}else{pageName=window.location.pathname?window.location.pathname:"unknown"}var xml=\'\'+"<?xml version=\'1.0\' encoding=\'UTF-8\'?>"+\'<request>\'+\'<sc_xml_ver>1.0</sc_xml_ver>\'+\'<pageName>\'+pageName+\'</pageName>\'+\'<marketingCloudVisitorID>\'+mcvid+\'</marketingCloudVisitorID>\'+\'<list1>\'+errorMessage+\'</list1>\'+\'<events>event1</events>\'+\'<reportSuiteID>\'+this.errorSuite+\'</reportSuiteID>\'+\'<contextData>\'+\'<waSky.error.projectName>\'+errorArray[0]+\'</waSky.error.projectName>\'+\'<waSky.error.function>\'+errorArray[1]+\'</waSky.error.function>\'+\'<waSky.error.errorDescription>\'+errorArray[2]+\'</waSky.error.errorDescription>\'+\'<waSky.error.pageName>\'+errorArray[3]+\'</waSky.error.pageName>\'+\'<waSky.error.url>\'+errorArray[4]+\'</waSky.error.url>\'+\'<waSky.error.referrer>\'+errorArray[5]+\'</waSky.error.referrer>\'+\'</contextData>\'+\'</request>\';var head="";head="POST /b/ss//6 HTTP/1.0\\n"+"Host:somni.sky.de\\n"+"Content-Length: "+xml.length+"\\n\\n";xmlhttp.open("POST","https://somni.sky.de/b/ss//6",true);var request=head+xml;xmlhttp.send(request)}}return true}else{waSky.debug("waSky-Error: Cannot send empty error message")}return returnVal},checkHost:function(){var checkHost=digitalData.url.host;var lenHost=digitalData.url.host.length;var dd=digitalData;waSky.error.loggingEnabled=false;dd.errorLoggingEnabled=\'false\';if(!waSky.inArray(checkHost,this.hostsBanned)){if(waSky.isUrlOnsite){waSky.error.loggingEnabled=true;dd.errorLoggingEnabled=\'true\'}}}},debug:function(debugMsg){if(waSky.debugMode){if(typeof(console)!=="undefined"){if(typeof(console.debug)!=="undefined"){console.debug("waSky-Debug: "+debugMsg)}else{console.log("waSky-Debug: "+debugMsg)}}}},debugBodyAppend:function(debugMsg){if(waSky.debugMode){if(document.body){if(typeof(debugMsg)!=="string"){debugMsg=JSON.stringify(debugMsg,null,2)}var x=document.createElement("P");var y=document.createElement("PRE");var z=document.createTextNode("- "+debugMsg);y.appendChild(z);x.appendChild(y);document.body.appendChild(x)}}},setDebug:function(debugSwitch){var ver=digitalData.version;if(debugSwitch){waSky.debugMode=true;waSky.persistStore.set("libDebugMode","true");waSky.persistStore.set("waSkyVersionOrig",ver);digitalData.version=ver+"_debugmode";waSky.debug("Debugging turned ON");if(typeof(window.waAppDebug)!=="undefined"&&window.waAppDebug){if(typeof(console)!="undefined"){if(typeof(console.log)!=\'undefined\'){console.olog=console.log}}else{console.olog=function(){}}console.log=function(message){console.olog(message);waSky.debugBodyAppend(message)};console.error=console.debug=console.info=console.log;waSky.debug("Debugging Appmode turned ON")}}else{waSky.debugMode=false;waSky.persistStore.set("libDebugMode","false");digitalData.version=waSky.persistStore.get("waSkyVersionOrig");waSky.debug("Debugging turned OFF");if(typeof(window.waAppDebug)!=="undefined"&&window.waAppDebug){window.waAppDebug=false}}},arrayRemoveDoubles:function(array){var returnArray=[];if(typeof(array)==="object"&&array.length>0){for(var key in array){if(!waSky.inArray(array[key],returnArray)){returnArray.push(array[key])}}return returnArray}else{return array}},inArray:function(needle,haystack,startsWithOption){var length=haystack.length;if(typeof(startsWithOption)==="undefined")startsWithOption=false;for(var i=0;i<length;i++){if(startsWithOption){if(needle.substr(0,haystack[i].length)===haystack[i]||needle===haystack[i].substr(0,needle.length))return true}else{if(haystack[i]==needle)return true}}return false},inArrayRegex:function(needle,haystack){for(i=0;i<haystack.length;i++){var reExp=new RegExp(haystack[i]);if(haystack[i].length>0&&needle.match(reExp)){return"true"}}return"false"},setTimestamps:function(){var timestamp="";var timestampSecs="";var timestampSecsLastPage="";var secondsTimeout="";var timestampTimeout="";var dd=digitalData;timestamp=waSky.getTimestamp();timestampSecs=Math.round(new Date().getTime()/1000);dd.timestamp=timestamp.toString();dd.timestampSecs=timestampSecs.toString();timestampSecsLastPage=waSky.persistStore.get("timestampSecsLastPage");if(typeof(timestampSecsLastPage)==="string"&&timestampSecsLastPage.length>0){dd.timestampSecsLastPage=timestampSecsLastPage;secondsTimeout=waSky.sessionTime*60;timestampTimeout=parseInt(timestampSecsLastPage)+secondsTimeout;if(timestampSecs>timestampTimeout){dd.sessionTimedOut="true";waSky.sessionTimedOut=true}}else{dd.timestampSecsLastPage="";dd.sessionTimedOut="false";waSky.sessionTimedOut=false}waSky.persistStore.set("timestampSecsLastPage",timestampSecs)},getAttribute:function(thisRef,attribName){return thisRef.getAttribute(attribName)},setEvent:function(eventName,currencyAmount){var trackEventsArray=Array();var eventsArray=Array();var returnValue=false;waSky.debug("Set event, setEvent("+eventName+")");if(typeof(s)==="object"){if(typeof(eventName)==="string"&&eventName.substr(0,5)==="event"){returnValue=Array();returnValue["events"]=s.events;returnValue["linkTrackEvents"]=s.linkTrackEvents;if(typeof(s.linkTrackEvents)==="undefined"||s.linkTrackEvents.length===0){s.linkTrackEvents=eventName}else{trackEventsArray=s.linkTrackEvents.split(",");if(!waSky.inArray(eventName,trackEventsArray)){trackEventsArray.push(eventName);s.linkTrackEvents=trackEventsArray.join(",")}}if(typeof(currencyAmount)==="string"&&currencyAmount.length>0){eventName=eventName+"="+currencyAmount}if(typeof(s.events)==="undefined"||s.events.length===0){s.events=eventName}else{eventsArray=s.events.split(",");if(!waSky.inArray(eventName,eventsArray)){eventsArray.push(eventName);s.events=eventsArray.join(",")}}}else{waSky.error.log("Param eventName was empty or invalid, must start with \'event\'","setEvent")}}else{waSky.error.log("s-object is not (yet?) available (timing problem?)","setEvent")}return returnValue},removeEvent:function(eventName){var trackEventsArray=Array();var trackEventsArray2=Array();var eventsArray=Array();var eventsArray2=Array();if(typeof(s.linkTrackEvents)!=="undefined"){trackEventsArray=s.linkTrackEvents.split(",");if(waSky.inArray(eventName,trackEventsArray,true)){for(var i=0;i<trackEventsArray.length;i++){if(eventName!==trackEventsArray[i].substr(0,eventName.length)){trackEventsArray2.push(trackEventsArray[i])}}s.linkTrackEvents=trackEventsArray2.join(",")}}if(typeof(s.events)!=="undefined"){eventsArray=s.events.split(",");if(waSky.inArray(eventName,eventsArray,true)){for(var i=0;i<eventsArray.length;i++){if(eventName!==eventsArray[i].substr(0,eventName.length)){eventsArray2.push(eventsArray[i])}}s.events=eventsArray2.join(",")}}},getTimestamp:function(){var dtObj=new Date();var dtYear=dtObj.getFullYear();var dtMonth=dtObj.getMonth()+1;var dtDay=dtObj.getDate();var dtHour=dtObj.getHours();var dtMins=(dtObj.getMinutes()<30)?\'00\':\'30\';if(dtMonth<10)dtMonth="0"+dtMonth;if(dtDay<10)dtDay="0"+dtDay;if(dtHour<10)dtHour="0"+dtHour;return dtDay+"."+dtMonth+"."+dtYear+"-"+dtHour+":"+dtMins},cleanList:function(str){if(typeof(str)==="string"&&str.length>0){if(str.substr(0,2)==="--"){str=str.substr(2,str.length)}if(str.substr(str.length-2,2)==="--"){str=str.substr(0,str.length-2)}if(str.substr(0,1)==="-"){str=str.substr(1,str.length)}if(str.substr(str.length-1,1)==="-"){str=str.substr(0,str.length-1)}}else{return""}return str},cleanString:function(str){if(typeof(str)==="string"&&str.length>0){str=str.replace(/^\\s\\s*/,\'\').replace(/\\s\\s*$/,\'\');str=str.replace(/(<([^>]+)>)/ig,"");if(str.substr(0,1)==="\\""){str=str.substr(1)}if(str.substr(str.length-1,1)==="\\""){str=str.substr(0,str.length-1)}str=str.toLowerCase()}else{return""}return str.toLowerCase()},hash:function(str,algorithm){returnValue="";if(typeof(str)==="string"&&str.length>0){returnValue=CryptoJS.SHA256(str).toString()}else{returnValue=""}return returnValue.toLowerCase()},findFirstElement:function(cssSelector,subSearch,getAll){var return_value=false;if(!subSearch)var subSearch="";if(typeof(cssSelector)==="string"&&cssSelector.length>0){if(typeof(getAll)!=="boolean"){getAll=false}if(typeof(document.querySelector)==="function"){if(typeof(subSearch)==="object"&&subSearch!=null){if(getAll){return_value=subSearch.querySelectorAll(cssSelector)}else{return_value=subSearch.querySelector(cssSelector)}}else{if(getAll){return_value=document.querySelectorAll(cssSelector)}else{return_value=document.querySelector(cssSelector)}}if(typeof(return_value)!=="object"||(typeof(return_value)==="object"&&return_value===null)){return_value=false}}else{if(getAll){return_value=document.querySelectorAll(cssSelector)}else{return_value=document.querySelectorAll(cssSelector)[0]}if(typeof(return_value)!=="object"||(typeof(return_value)==="object"&&return_value===null)){return_value=false}}if(!return_value){waSky.error.log("Cannot find element, browser not compatible","findFirstElement")}}else{waSky.error.log("Passed cssSelector param ist not a string or zero length","findFirstElement")}return return_value},setDataElement:function(dataElementName,value){if(typeof(dataElementName)==="string"&&typeof(value)==="string"){_satellite.dataElementSafe.pageviewCache[dataElementName]=value}else{waSky.error.log("Passed values dataElementName or value are invalid (not string)","setDataElement")}},view:{userAgent:"",typeDefault:"normalview",appnameNoApp:"no-app",init:function(){var ddv=digitalData.view;var ua=navigator.userAgent||navigator.vendor||window.opera;waSky.debug("Set current view details, view.init()");if(typeof(ua)==="string"&&ua.length>0){this.userAgent=ua.toLowerCase()}if(ddv.appName.length===0){this.setAppName()}if(ddv.type.length===0){this.setType()}this.setViewString()},setViewString:function(){var ddv=digitalData.view;var d=waSky.delimiterValues;ddv.string=ddv.type+d+ddv.appName+d+ddv.isWebView+d+ddv.isNormalView},setAppName:function(value){var ret="";if(typeof(value)==="string"&&value.length>0){ret=value}else{if(digitalData.view.appName.length>0){ret=digitalData.view.appName}else{var dduq=digitalData.url.queryKey;if(this.userAgent.indexOf("fbav")>-1||this.userAgent.indexOf("fban")>-1||this.userAgent.indexOf("fbios")>-1){ret="facebook"}if(this.userAgent.indexOf("instagram")>-1){ret="instagram"}if(typeof(dduq.app)!=="undefined"&&(dduq.app==="android"||dduq.app==="ios")){ret="sechserpack";waSky.persistStore.set("app6Webview","true")}var checkApp6=waSky.persistStore.get("app6Webview");if(typeof(checkApp6)==="string"&&checkApp6==="true"){ret="sechserpack"}if(this.userAgent.indexOf("sechserpack app")>-1){ret="sechserpack"}if(this.userAgent.indexOf("kickster/")>-1){ret="kickbase"}if(typeof(window.SKY_SPORTS_APP)!=="undefined"){ret="skysports"}if(typeof(window.AndroidApp)!=="undefined"){ret="skysports"}}}if(ret===""){ret=this.appnameNoApp}ret=waSky.cleanString(ret);digitalData.view.appName=ret;this.setViewString();return ret},isApp:function(){if(digitalData.view.appName!==this.appnameNoApp&&digitalData.view.appName!==""){return true}else{return false}},setType:function(value){var ddv=digitalData.view;var ret="";if(typeof(value)==="string"&&value.length>0){ret=value}else{if(this.isApp()){ret="webview";waSky.debugModeIsApp=true}}if(ret.length===0){ret=this.typeDefault}ret=waSky.cleanString(ret);ddv.type=ret;if(ret===this.typeDefault){ddv.isNormalView="true";ddv.isWebView="false"}else{ddv.isNormalView="false";ddv.isWebView="true"}this.setViewString();return ret}},async:{intervalMsecs:500,intervalRepeats:10,intervalCounter:0,pageviewFire:true,pageviewRuleName:"Artificial pageview (generic)",timerVar:"",rulesExecuted:[],checkDataElementsList:{},observeStart:function(){if(typeof(this.checkDataElementsList)==="object"&&Object.keys(this.checkDataElementsList).length>0){waSky.debug("Start observing async data elements");this.timerVar=window.setInterval("waSky.async.checkDataElements()",this.intervalMsecs)}},checkDataElements:function(){var dd=digitalData;for(var key in this.checkDataElementsList){var dataElementName=key;var directCallRule=this.checkDataElementsList[key];var testDataElement=_satellite.getDataElement(dataElementName);if(!(typeof(testDataElement)==="string"&&testDataElement.length===0)){if(!waSky.inArray(directCallRule,this.rulesExecuted)){waSky.debug("Async found observed data element: "+dataElementName);if(dd.trackingDisabled==="false"){_satellite.track(directCallRule)}this.rulesExecuted.push(directCallRule)}}}this.intervalCounter=this.intervalCounter+1;if(this.intervalCounter>this.intervalRepeats||this.rulesExecuted.length===Object.keys(this.checkDataElementsList).length){waSky.debug("Async all elements found or timeout reached");window.clearInterval(this.timerVar);if(typeof(this.pageviewFire)=="boolean"&&this.pageviewFire&&typeof(this.pageviewRuleName)=="string"&&this.pageviewRuleName.length>0){if(dd.trackingDisabled==="false"){_satellite.track(this.pageviewRuleName)}}}}},persistStore:{resetOnSessionStart:["loginStatus","currentPage","currentChannel","loginString"],setGlobal:["loginStatus","cHash","customerProfile","userGroup"],delimiterRecords:"][",delimiterValues:">>",cookieName:"waSky",cookieNameSession:"waSkySession",get:function(varName){var returnVal=false;var dd=digitalData;if(typeof(varName)==="string"&&varName.length>0&&varName.length<40){if(typeof(dd.persistStore)!=="object"||!dd.persistStoreLoaded){this.loadCookieVars()}if(typeof(dd["persistStore"])==="object"&&typeof(dd["persistStore"][varName])==="object"&&typeof(dd["persistStore"][varName]["value"])==="string"){returnVal=dd["persistStore"][varName]["value"]}}else{waSky.error.log("Passed varName was invalid ("+varName+")","persistStore.get")}return returnVal},set:function(varName,varValue,expire){var returnVal=false;var dd=digitalData;if(typeof(varName)==="string"&&varName.length>0){if(typeof(dd["persistStore"])==="undefined"){dd["persistStore"]=new Object()}if(typeof(dd["persistStore"][varName])==="undefined"){dd["persistStore"][varName]=new Object()}dd["persistStore"][varName]["name"]=varName;dd["persistStore"][varName]["value"]=varValue;if(typeof(expire)==="number"&&expire>0){var dateSet=waSky.getTimestamp();dateSet=dateSet.split("-");dateSet=dateSet[0].split(".");dd["persistStore"][varName]["validDays"]=expire.toString();dd["persistStore"][varName]["validDaysSetDate"]=dateSet[0]+dateSet[1]+dateSet[2].substr(2)}else if(typeof(expire)==="string"&&expire==="session"){dd["persistStore"][varName]["validDays"]="session";dd["persistStore"][varName]["validDaysSetDate"]=""}this.writeCookieVars();if(waSky.inArray(varName,this.setGlobal)){this.loadCookieVars()}returnVal=true}else{waSky.error.log("Passed varName was invalid ("+varName+")","persistStore.set")}return returnVal},deleteItem:function(varName){if(typeof(varName)==="string"&&varName.length>0){if(typeof(digitalData["persistStore"][varName])==="object"){delete digitalData["persistStore"][varName]}this.writeCookieVars()}else{waSky.error.log("Passed varName was not invalid ("+varName+")","persistStore.deleteItem")}return true},loadCookieVars:function(){var cookieAll=document.cookie.split(\';\');var legacyFound=false;var projectName=waSky.projectName.toLowerCase();var dd=digitalData;var dataString="";var dataStringSession="";var addedVars=[];var globalCheck=false;var globalCheckString="";var globalCheckData={};var globalCheckVar="";var globalCheckVarName="";var globalCheckVarVal="";if(projectName==="next"&&typeof(this.getSimpleCookie("waSky"))==="string"){var containerName="waSky=";var containerNameSession="waSkySession=";legacyFound=true}else{var containerName=this.cookieName+"."+projectName+"=";var containerNameSession=this.cookieNameSession+"."+projectName+"="}if(typeof(this.setGlobal)==="object"&&this.setGlobal.length>0){globalCheck=true;dd["persistStore"]["globalVars"]=new Object();var ddG=dd["persistStore"]["globalVars"]}for(var i=0;i<cookieAll.length;i++){var c=cookieAll[i];c=c.replace(/^\\s+|\\s+$/g,"");if(c.indexOf(containerName)===0){dataString=c.substring(containerName.length)}if(c.indexOf(containerNameSession)===0){dataStringSession=c.substring(containerNameSession.length)}var globalTest=this.cookieName+".";if(globalCheck&&c.indexOf(globalTest)!=-1){globalCheckString=c.substring(this.cookieName.length+1,c.length);projectName=globalCheckString.substring(0,globalCheckString.indexOf("=")).toLowerCase();globalCheckString=globalCheckString.substring(globalCheckString.indexOf("=")+1);globalCheckData=globalCheckString.split(this.delimiterRecords);for(var gi2=0;gi2<globalCheckData.length;gi2++){globalCheckVar=globalCheckData[gi2].split(this.delimiterValues);globalCheckVarName=globalCheckVar[0].toString();if(typeof(ddG[projectName])==="undefined"){ddG[projectName]={}}if(waSky.inArray(globalCheckVarName,this.setGlobal)&&typeof(globalCheckVar[1])!=="undefined"){ddG[projectName][globalCheckVarName]=globalCheckVar[1].toString()}}}}if(dataString.length>0){var dataArray=dataString.split(this.delimiterRecords);for(var i=0;i<dataArray.length;i++){var persistentVal=dataArray[i].split(this.delimiterValues);if(typeof(persistentVal)==="object"){if(!this.isExpired(persistentVal)){var name=persistentVal[0].toString();var value=persistentVal[1].toString();dd.persistStore[name]=new Object();dd.persistStore[name]["name"]=name;dd.persistStore[name]["value"]=value;addedVars.push(name);if(typeof(persistentVal[2])==="string"){if(persistentVal[2].length<5){dd.persistStore[name]["validDays"]=persistentVal[2];if(typeof(persistentVal[3])==="string"&&persistentVal[3].length===6){dd.persistStore[name]["validDaysSetDate"]=persistentVal[3]}}}}}}}if(dataStringSession.length>0){var dataArraySession=dataStringSession.split(this.delimiterRecords);for(var i=0;i<dataArraySession.length;i++){var sessionVal=dataArraySession[i].split(this.delimiterValues);if(typeof(sessionVal)==="object"){var name=sessionVal[0].toString();var value=sessionVal[1].toString();if(typeof(addedVars[name])==="undefined"){dd.persistStore[name]=new Object();dd.persistStore[name]["name"]=name;dd.persistStore[name]["value"]=value;dd.persistStore[name]["validDays"]="session"}else{waSky.error.log("Same named varname ("+name+") found in waSkySession as well as in waSky cookie? Keeping non-session persistent value.","persistStore.loadCookieVars")}}}}this.writeCookieVars();if(legacyFound){this.deleteSimpleCookie("waSky");this.deleteSimpleCookie("waSkySession")}dd.persistStoreLoaded=true},writeCookieVars:function(){var date=new Date();var cookieVars=new Array();var cookieVarsSession=new Array();var cookieHostArray=Array();var cookieHostName="";var i=0;var iSession=0;var d=this.delimiterValues;var d2=this.delimiterRecords;for(var key in digitalData.persistStore){if(key!=="globalVars"){var data=digitalData["persistStore"][key];data.value=data.value.toString();data.name=data.name.replace(d,"__");data.name=data.name.replace(d2,"__");data.value=data.value.replace(d,"__");data.value=data.value.replace(d2,"__");if(typeof(data.validDays)!=="undefined"&&data.validDays==="session"){cookieVarsSession[iSession]=data.name+d+data.value;iSession++}else{cookieVars[i]=data.name+d+data.value;if(typeof(data.validDays)!=="undefined"){cookieVars[i]+=d+data.validDays+d+data.validDaysSetDate}i++}}}cookieVars=cookieVars.join(d2);cookieVarsSession=cookieVarsSession.join(d2);date.setTime(date.getTime()+(waSky.cookieLifetime*1000));if(digitalData.url.host!=="localhost"){cookieHostArray=digitalData.url.host.split(".");cookieHostName="."+cookieHostArray.pop();cookieHostName="."+cookieHostArray.pop()+cookieHostName}else{cookieHostName="localhost"}if(typeof(cookieVars)==="string"&&cookieVars.length>0){document.cookie=this.cookieName+"."+waSky.projectName.toLowerCase()+\'=\'+cookieVars+\'; expires=\'+date.toGMTString()+\';domain=\'+cookieHostName+\';path=/\'}if(typeof(cookieVarsSession)==="string"&&cookieVarsSession.length>0){document.cookie=this.cookieNameSession+"."+waSky.projectName.toLowerCase()+\'=\'+cookieVarsSession+\';domain=\'+cookieHostName+\';path=/\'}return true},writeSimpleCookie:function(name,value,expire){waSky.debug("Persistent write simple cookie: \'"+name+"\'");if(typeof(name)==="string"&&name.length>0&&typeof(value)==="string"){var date=new Date();var cookieVars=new Array();var cookieHostArray=Array();var cookieHostName="";var cookieExpire=waSky.cookieLifetime;if(typeof(expire)!=="undefined"&&typeof(expire)==="number"&&expire>0){cookieExpire=expire*24*60*60}date.setTime(date.getTime()+(cookieExpire*1000));if(digitalData.url.host!=="localhost"){cookieHostArray=digitalData.url.host.split(".");cookieHostName="."+cookieHostArray.pop();cookieHostName="."+cookieHostArray.pop()+cookieHostName}else{cookieHostName="localhost"}document.cookie=name+\'=\'+value+\'; expires=\'+date.toGMTString()+\';domain=\'+cookieHostName+\';path=/\';return true}else{waSky.error.log("Could not write simple cookie, name or value was invalid/empty","persistStore.writeSimpleCookie");return false}},getSimpleCookie:function(cname){var name=cname+"=";var ca=document.cookie.split(\';\');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==\' \')c=c.substring(1);if(c.indexOf(name)!=-1)return c.substring(name.length,c.length)}return false},deleteSimpleCookie:function(name){waSky.debug("Delete simple cookie: \'"+name+"\'");if(typeof(name)==="string"&&name.length>0){var cookieVars=new Array();var cookieHostArray=Array();var cookieHostName="";if(digitalData.url.host!=="localhost"){cookieHostArray=digitalData.url.host.split(".");cookieHostName="."+cookieHostArray.pop();cookieHostName="."+cookieHostArray.pop()+cookieHostName}else{cookieHostName="localhost"}document.cookie=name+\'=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain=\'+cookieHostName+\';path=/\';return true}else{waSky.error.log("Could not delete simple cookie, name or value was invalid/empty","persistStore.deleteSimpleCookie");return false}},exists:function(varName){var returnVal=false;if(typeof(varName)==="string"&&varName.length>0){if(typeof(this.get(varName))!=="boolean"){returnVal=true}}return returnVal},isExpired:function(valueArray){var returnVal=false;var validMSecs=0;var validYear="";var validMonth="";var validDay="";var now=new Date();var nowMSecs=Date.UTC(now.getFullYear(),now.getMonth(),now.getDate(),now.getHours(),now.getMinutes());if(typeof(valueArray[2])==="string"&&typeof(valueArray[3])==="string"&&valueArray[2]!=="session"){if(valueArray[2].length<5&&valueArray[3].length===6){validMSecs=parseInt(valueArray[2])*24*60*60*1000;validDay=valueArray[3].substr(0,2);validMonth=valueArray[3].substr(2,2);validYear="20"+valueArray[3].substr(4);var dateExpired=Date.UTC(parseInt(validYear),(parseInt(validMonth)-1),parseInt(validDay),0,0)+validMSecs;if(dateExpired<nowMSecs){returnVal=true;waSky.debug("Persistent stored var: \'"+valueArray[0]+"\' is expired, deleting.")}else{returnVal=false}}else{returnVal=true}}else if(valueArray[2]==="session"&&digitalData.sessionStart==="true"){returnVal=true}return returnVal},sessionStartCheck:function(){var dd=digitalData;var sessionCheck=waSky.persistStore.get("sessionStartCheck");if(typeof(sessionCheck)==="string"&&sessionCheck.length>0){dd.sessionStart="false"}else{dd.sessionStart="true";waSky.persistStore.set("sessionStartCheck","no","session")}return true},sessionStartReset:function(){var resetVarNames=this.resetOnSessionStart;if(digitalData.sessionStart==="true"){for(var i=0;i<resetVarNames.length;i++){this.set(resetVarNames[i],"")}}return true}},timer:{runningTimers:[],start:function(timerName,timerFirstStart){var timerVal=waSky.persistStore.get("timer_"+timerName);var timerGranularityMsecs=1000;var timerRunName="timer_"+timerName+"_running";if(!timerFirstStart)var timerFirstStart=true;if(timerFirstStart){waSky.persistStore.set(timerRunName,"true")}if(waSky.persistStore.get(timerRunName)==="true"){if(typeof(timerVal)==="string"){timerVal=timerVal.split("::");timerVal=timerVal[1];timerVal=parseInt(timerVal)+1}else{timerVal=1}waSky.persistStore.set("timer_"+timerName,timerName+"::"+timerVal);window.setTimeout(function(){waSky.timer.start(timerName,false)},timerGranularityMsecs)}},stop:function(timerName){waSky.persistStore.set("timer_"+timerName+"_running","false");return this.get(timerName)},get:function(timerName){return waSky.persistStore.get("timer_"+timerName)},reset:function(timerName){return waSky.persistStore.deleteItem("timer_"+timerName)}},pagePercentViewed:{start:function(){var w=window;waSky.persistStore.set("percentViewedString","","session");if(w.addEventListener){w.addEventListener("load",waSky.pagePercentViewed.handleEvent,false);w.addEventListener("scroll",waSky.pagePercentViewed.handleEvent,false);w.addEventListener("resize",waSky.pagePercentViewed.handleEvent,false)}else if(w.attachEvent){w.attachEvent("onload",waSky.pagePercentViewed.handleEvent);w.attachEvent("onscroll",waSky.pagePercentViewed.handleEvent);w.attachEvent("onresize",waSky.pagePercentViewed.handleEvent)}waSky.pagePercentViewed.handleEvent()},get:function(){return waSky.persistStore.get("percentViewedString")},handleEvent:function(){var d=document;var w=window;var d2=waSky.delimiterValues;var pageName=digitalData.page.pageInfo.pageName;a=new Array();var scrolledTotalPcExisting=0;var scrolledTotalPxExisting=0;var scrolledUnseenPcExisting=0;var scrolledUnseenPxExisting=0;var bodyTotalHeight=Math.max(Math.max(d.body.scrollHeight,d.documentElement.scrollHeight),Math.max(d.body.offsetHeight,d.documentElement.offsetHeight),Math.max(d.body.clientHeight,d.documentElement.clientHeight));var viewportHeight=w.innerHeight||(d.documentElement.clientHeight||d.body.clientHeight);var pixelsScrolled=w.pageYOffset||(d.documentElement.scrollTop||d.body.scrollTop);var initialSeenPx=viewportHeight;var initialSeenPc=Math.min(Math.round(viewportHeight/bodyTotalHeight*100),100);var scrolledTotalPx=pixelsScrolled+viewportHeight;var scrolledTotalPc=Math.min(Math.round(scrolledTotalPx/bodyTotalHeight*100),100);if(pixelsScrolled>0){if(bodyTotalHeight-viewportHeight>0){var scrolledUnseenPx=pixelsScrolled;var scrolledUnseenPc=Math.min(Math.round(pixelsScrolled/(bodyTotalHeight-viewportHeight)*100),100)}else{var scrolledUnseenPx=0;var scrolledUnseenPc=0}}else{var scrolledUnseenPx=0;var scrolledUnseenPc=0}var percentViewedString="";var existing=waSky.persistStore.get("percentViewedString");if(typeof(existing)==="string"){a=existing.split(d2);scrolledTotalPcExisting=parseInt(a[2]);scrolledUnseenPcExisting=parseInt(a[3])}if(scrolledTotalPcExisting>scrolledTotalPc){scrolledTotalPx=scrolledTotalPxExisting;scrolledTotalPc=scrolledTotalPcExisting}if(scrolledUnseenPcExisting>scrolledUnseenPc){scrolledUnseenPc=scrolledUnseenPcExisting}percentViewedString=pageName+d2+initialSeenPc+d2+scrolledTotalPc+d2+scrolledUnseenPc;waSky.persistStore.set("percentViewedString",percentViewedString,"session")}},loadtime:{measure:function(){waSky.debug("Page performance loadtime");if(typeof(performance)!=="undefined"){var website=performance.timing.loadEventEnd-performance.timing.domLoading;var webserver=performance.timing.responseEnd-performance.timing.responseStart;var webComplete=performance.timing.loadEventEnd-performance.timing.responseStart;var redirect=performance.timing.redirectEnd-performance.timing.redirectStart;var complete=performance.timing.loadEventEnd-performance.timing.navigationStart;var d=waSky.delimiterValues;website=(website/1000).toFixed(1);webserver=(webserver/1000).toFixed(1);webComplete=(webComplete/1000).toFixed(1);redirect=(redirect/1000).toFixed(1);complete=(complete/1000).toFixed(1);if(website<0||website>600)website=0;if(webserver<0||webserver>600)webserver=0;if(webComplete<0||webComplete>600)webComplete=0;if(redirect<0||redirect>600)redirect=0;if(complete<0||complete>600)complete=0;var loadString=digitalData.page.pageInfo.pageName+d+digitalData.page.pageInfo.level1+d+website.toString()+d+webserver.toString()+d+webComplete.toString()+d+redirect.toString()+d+complete.toString();waSky.persistStore.set("loadtimeString",loadString,"session");waSky.persistStore.set("loadtimeWebsite",website.toString(),"session");waSky.persistStore.set("loadtimeWebserver",webserver.toString(),"session")}},removeEvents:function(){waSky.removeEvent("event99");waSky.removeEvent("event98")}}};waSky.constructor();\n</script>'
}]}],event:"pagetop"},{name:"Pageview Default Values",trigger:[{engine:"sc",command:"setVars",arguments:[{eVar1:"%user.loginStringPersistent%",eVar11:"%page.viewPort%",eVar12:"%page.previousPage%",eVar17:"%page.previousChannel%",eVar22:"%shortUrl%",eVar23:"%campaign.intcmp1%",eVar3:"%user.cHash%",eVar30:"%campaign.wkz%",eVar31:"%campaign.wkz%",eVar32:"%campaign.wkz%",eVar33:"%campaign.wkzSiebel%",eVar36:"%user.marketingPermission%",eVar4:"%user.cHashTimestamped%",eVar40:"%user.customerProfile%",eVar8:"%page.contentType%",prop1:"%user.loginStatusPersistent%",prop11:"%page.viewPort%",prop12:"D=v12",prop13:"%page.pageName%",prop14:"%user.cHashTimestamped%",prop17:"D=v17",prop2:"%page.hierarchy1.level2%",prop3:"%page.hierarchy1.level3%",prop4:"%page.hierarchy1.level4%",prop5:"%page.hierarchy1.level5%",prop50:"%view.string%",prop59:"%page.contentType%",prop7:"%page.hierarchy2%",prop75:"%waSky.version%",pageName:"%page.pageName%",channel:"%page.hierarchy1.level1%",hier1:"%page.hierarchy1%"}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("trackingDisabled"),"false")}],event:"pagebottom"},{name:"Search Result Clicked",trigger:[{engine:"sc",command:"addEvent",arguments:["event4"]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("search.resultClicked"),/.+/i)}],event:"pagebottom"},{name:"Search Used Searchsite",trigger:[{engine:"sc",command:"setVars",arguments:[{eVar27:"%search.termEntered%",eVar28:"%search.resultCount%",prop27:"%search.termEntered%",prop28:"%search.resultCount%"}]},{engine:"sc",command:"addEvent",arguments:["event3"]},{engine:"sc",command:"customSetup",arguments:[function(e,t){t.linkTrackEvents+="event46",t.events+=",event46="+digitalData.search.resultCount}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("search.isSearchsite"),"true")}],event:"pagebottom"},{name:"Short URL",trigger:[{engine:"sc",command:"setVars",arguments:[{eVar22:"%page.shurl%"}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("page.shurl"),/.+/i)}],event:"pagebottom"}],rules:[{name:"Datenschutz: Optin Analytics Set Cookie",trigger:[{command:"loadScript",arguments:[{sequential:!0,scripts:[{src:"satellite-58b43f0864746d12d60054fa.js"}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("page.pageName"),"datenschutz")},function(){return _satellite.textMatch(_satellite.getVar("trackingDisabled"),"false")}],selector:'[href^="http://omni.sky.de/optout.html?locale=de_DE&optin=1&confirm_change=1"]',eventHandlerOnElement:!0,event:"click",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0,bubbleStop:!1},{name:"Datenschutz: Optout Analytics",trigger:[{engine:"sc",command:"trackLink",arguments:[{type:"o",linkName:"Opt-out Analytics"}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("page.pageName"),"datenschutz")},function(){return _satellite.textMatch(_satellite.getVar("trackingDisabled"),"false")}],selector:'[href^="http://omni.sky.de/optout.html?optout=1&locale=de_DE&confirm_change=1"]',eventHandlerOnElement:!0,event:"click",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0,bubbleStop:!1},{name:"Download Link",trigger:[{engine:"sc",command:"trackLink",arguments:[{}]},{command:"delayActivateLink"}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("trackingDisabled"),"false")}],selector:"a",property:{href:/\.(?:doc|docx|eps|xls|ppt|pptx|pdf|xlsx|tab|csv|zip|txt|vsd|vxd|xml|js|css|rar|exe|wma|mov|avi|wmv|mp3|wav|m4v)($|\&|\?)/i},event:"click",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0,bubbleStop:!1},{name:"Email Link",trigger:[{engine:"sc",command:"trackLink",arguments:[{}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("trackingDisabled"),"false")}],selector:"a",property:{href:/^mailto/i},event:"click",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0,bubbleStop:!1}],directCallRules:[{name:"IVW Artificial 6erpack",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-59c2b58764746d3524011a61.js"}]}]}]},{name:"IVW Artificial Kickbase",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-59c2b5be64746d3524011a74.js"}]}]}]},{name:"IVW Artificial Sport",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-59c2b84864746d1cc0002156.js"}]}]}]},{name:"Artifical Pageview (generic)",trigger:[{engine:"sc",command:"trackPageView",arguments:[{setVars:{eVar1:"%user.loginStringPersistent%",eVar11:"%page.viewPort%",eVar12:"%page.previousPage%",eVar16:"%page.previousChannel%",eVar17:"%page.previousChannel%",eVar22:"%shortUrl%",eVar23:"%campaign.intcmp1%",eVar24:"%empty%",eVar3:"%user.cHash%",eVar36:"%user.marketingPermission%",eVar4:"%user.cHashTimestamped%",eVar40:"%user.customerProfile%",eVar8:"%page.contentType%",prop1:"%user.loginStatusPersistent%",prop11:"%page.viewPort%",prop12:"D=v12",prop13:"%page.pageName%",prop14:"%user.cHashTimestamped%",prop17:"D=v17",prop2:"%page.hierarchy1.level2%",prop24:"%empty%",prop3:"%page.hierarchy1.level3%",prop4:"%page.hierarchy1.level4%",prop5:"%page.hierarchy1.level5%",prop50:"%view.string%",prop59:"%page.contentType%",prop75:"%waSky.version%",pageName:"%page.pageName%",channel:"%page.hierarchy1.level1%",hier1:"%page.hierarchy1%"},customSetup:function(){waSky.loadtime.removeEvents()}}]}]},{name:"PartnerUserLoginEvent",trigger:[{engine:"sc",command:"trackLink",arguments:[{type:"o",linkName:"partnerLoginAction",setVars:{eVar24:"loginPartner",prop24:"loginPartner"},addEvent:["event24"]}]}]},{name:"PartnerUserLogoutEvent",trigger:[{engine:"sc",command:"trackLink",arguments:[{type:"o",linkName:"partnerLogoutAction",setVars:{eVar24:"logoutPartner",prop24:"logoutPartner"},addEvent:["event26"]}]}]},{name:"PartnerUserRegisterEvent",trigger:[{engine:"sc",command:"trackLink",arguments:[{type:"o",linkName:"partnerRegisterAction",addEvent:["event25"]}]}]},{name:"UserLoginEvent",trigger:[{engine:"sc",command:"trackLink",arguments:[{type:"o",linkName:"loginAction",setVars:{eVar1:"login",prop1:"login"},addEvent:["event1"]}]},{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-599b45f864746d1a1400201a.js"}]}]}]},{name:"UserLogoutEvent",trigger:[{engine:"sc",command:"trackLink",arguments:[{type:"o",linkName:"logoutAction",setVars:{eVar1:"logout",prop1:"logout"},addEvent:["event2"]}]},{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-599b461264746d1a11001f12.js"}]}]}]}],settings:{trackInternalLinks:!0,libraryName:"satelliteLib-f55672b874b59cde5b9830e88889eec19640b0ec",isStaging:!1,allowGATTcalls:!1,downloadExtensions:/\.(?:doc|docx|eps|jpg|png|svg|xls|ppt|pptx|pdf|xlsx|tab|csv|zip|txt|vsd|vxd|xml|js|css|rar|exe|wma|mov|avi|wmv|mp3|wav|m4v)($|\&|\?)/i,notifications:!1,utilVisible:!1,domainList:["infinityworks.com","kickbase.com","sky.at","sky.de","skysport.at","skysport.de"],scriptDir:"e9e956c5e126005d1cc9cacd2d7637dcf1d19452/scripts/",tagTimeout:2e4},data:{URI:t.location.pathname+t.location.search,browser:{},cartItems:[],revenue:"",host:{http:"assets.adobedtm.com",https:"assets.adobedtm.com"}},dataElements:{"campaign.crm":{jsVariable:"digitalData.campaign.crm",storeLength:"pageview"},"campaign.crmString":{jsVariable:"digitalData.campaign.crmString",storeLength:"pageview"},"campaign.eml":{jsVariable:"digitalData.campaign.eml",storeLength:"pageview"},"campaign.intcmp1":{jsVariable:"digitalData.campaign.intcmp1",storeLength:"pageview"},"campaign.intcmp2":{jsVariable:"digitalData.campaign.intcmp2",storeLength:"pageview"},"campaign.intcmp3":{jsVariable:"digitalData.campaign.intcmp3",storeLength:"pageview"},"campaign.slt":{jsVariable:"digitalData.campaign.slt",storeLength:"pageview"},"campaign.wkz":{jsVariable:"digitalData.campaign.wkz",storeLength:"pageview"},"campaign.wkzSiebel":{jsVariable:"digitalData.campaign.wkzSiebel",storeLength:"pageview"},country:{jsVariable:"digitalData.country",storeLength:"pageview"},empty:{customJS:function(){return""},storeLength:"pageview"},errorLoggingEnabled:{jsVariable:"digitalData.errorLoggingEnabled",storeLength:"pageview"},"form.error":{jsVariable:"digitalData.form.error",storeLength:"pageview"},"form.step":{jsVariable:"digitalData.form.step",storeLength:"pageview"},"inPage.name":{jsVariable:"digitalData.inPage.name",storeLength:"pageview"},"inPage.string":{jsVariable:"digitalData.inPage.string",storeLength:"pageview"},"inPage.type":{jsVariable:"digitalData.inPage.type",storeLength:"pageview"},"newsletter.action":{jsVariable:"digitalData.newsletter.action",storeLength:"pageview"},"newsletter.name":{jsVariable:"digitalData.newsletter.name",storeLength:"pageview"},"newsletter.string":{jsVariable:"digitalData.newsletter.string",storeLength:"pageview"},"page.artificialPageview":{jsVariable:"digitalData.page.pageInfo.artificialPageview","default":"false",storeLength:"pageview"},"page.contentType":{jsVariable:"digitalData.page.pageInfo.contentType",storeLength:"pageview"},"page.hierarchy1":{jsVariable:"digitalData.page.pageInfo.hierarchy1",storeLength:"pageview"},"page.hierarchy1.level1":{jsVariable:"digitalData.page.pageInfo.level1",storeLength:"pageview"},"page.hierarchy1.level10":{jsVariable:"digitalData.page.pageInfo.level10",storeLength:"pageview"},"page.hierarchy1.level2":{jsVariable:"digitalData.page.pageInfo.level2",storeLength:"pageview"},"page.hierarchy1.level3":{jsVariable:"digitalData.page.pageInfo.level3",storeLength:"pageview"},"page.hierarchy1.level4":{jsVariable:"digitalData.page.pageInfo.level4",storeLength:"pageview"},"page.hierarchy1.level5":{jsVariable:"digitalData.page.pageInfo.level5",storeLength:"pageview"},"page.hierarchy1.level6":{jsVariable:"digitalData.page.pageInfo.level6",storeLength:"pageview"},"page.hierarchy1.level7":{jsVariable:"digitalData.page.pageInfo.level7",storeLength:"pageview"},"page.hierarchy1.level8":{jsVariable:"digitalData.page.pageInfo.level8",storeLength:"pageview"},"page.hierarchy1.level9":{jsVariable:"digitalData.page.pageInfo.level9",storeLength:"pageview"},"page.hierarchy2":{jsVariable:"digitalData.page.pageInfo.hierarchy2",storeLength:"pageview"},"page.IVWcategory":{jsVariable:"digitalData.page.pageInfo.IVWcategory",storeLength:"pageview"},"page.pageName":{jsVariable:"digitalData.page.pageInfo.pageName",storeLength:"pageview"},"page.previousChannel":{jsVariable:"digitalData.page.pageInfo.previousChannel",storeLength:"pageview"},"page.previousPage":{jsVariable:"digitalData.page.pageInfo.previousPage",storeLength:"pageview"},"page.shurl":{queryParam:"shurl",storeLength:"pageview",ignoreCase:1},"page.viewPort":{jsVariable:"digitalData.page.pageInfo.viewPort",storeLength:"pageview"},"search.isSearchsite":{jsVariable:"digitalData.search.isSearchsite",storeLength:"pageview"},"search.resultClicked":{jsVariable:"digitalData.search.resultClicked",storeLength:"pageview"},"search.resultCount":{jsVariable:"digitalData.search.resultCount",storeLength:"pageview"},"search.termEntered":{jsVariable:"digitalData.search.termEntered",storeLength:"pageview"},sessionStart:{jsVariable:"digitalData.sessionStart","default":"false",storeLength:"pageview"},shortUrl:{queryParam:"shurl",storeLength:"pageview",ignoreCase:1},trackingDisabled:{jsVariable:"digitalData.trackingDisabled","default":"false",storeLength:"pageview"},"user.cHash":{jsVariable:"digitalData.user.cHash",storeLength:"pageview"},"user.cHashTimestamped":{jsVariable:"digitalData.user.cHashTimestamped",storeLength:"pageview"},"user.customerProfile":{jsVariable:"digitalData.persistStore.customerProfile.value",storeLength:"pageview"},"user.deviceType":{jsVariable:"digitalData.user.deviceType",storeLength:"pageview"},"user.gender":{jsVariable:"digitalData.user.gender",storeLength:"pageview"},"user.group":{jsVariable:"digitalData.user.group",storeLength:"pageview"},"user.loginStatus":{jsVariable:"digitalData.user.loginStatus",storeLength:"pageview"},"user.loginStatusPersistent":{jsVariable:"digitalData.persistStore.loginStatus.value",storeLength:"pageview"},"user.loginString":{jsVariable:"digitalData.user.loginString",storeLength:"pageview"},"user.loginStringPersistent":{jsVariable:"digitalData.persistStore.loginString.value",storeLength:"pageview"},"user.marketingPermission":{jsVariable:"digitalData.user.marketingPermission",storeLength:"pageview"},"view.appName":{jsVariable:"digitalData.view.appName",storeLength:"pageview"},"view.isNormalView":{jsVariable:"digitalData.view.isNormalView",storeLength:"pageview"},"view.isWebView":{jsVariable:"digitalData.view.isWebView",storeLength:"pageview"},"view.string":{jsVariable:"digitalData.view.string",storeLength:"pageview"},"view.type":{jsVariable:"digitalData.view.type",storeLength:"pageview"},"waSky.version":{jsVariable:"digitalData.version",storeLength:"pageview"}},appVersion:"7QN",buildDate:"2018-02-23 08:16:40 UTC",publishDate:"2018-02-23 08:16:40 UTC"})}(window,document);